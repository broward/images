(function($){Drupal.Views={};Drupal.behaviors.viewsTabs={attach:function(context){if($.viewsUi&&$.viewsUi.tabs){$('#views-tabset').once('views-processed').viewsTabs({selectedClass:'active'});}
$('a.views-remove-link').once('views-processed').click(function(event){var id=$(this).attr('id').replace('views-remove-link-','');$('#views-row-'+id).hide();$('#views-removed-'+id).attr('checked',true);event.preventDefault();});$('a.display-remove-link').addClass('display-processed').click(function(){var id=$(this).attr('id').replace('display-remove-link-','');$('#display-row-'+id).hide();$('#display-removed-'+id).attr('checked',true);return false;});}};Drupal.Views.parseQueryString=function(query){var args={};var pos=query.indexOf('?');if(pos!=-1){query=query.substring(pos+1);}
var pairs=query.split('&');for(var i in pairs){if(typeof(pairs[i])=='string'){var pair=pairs[i].split('=');if(pair[0]!='q'&&pair[1]){args[decodeURIComponent(pair[0].replace(/\+/g,' '))]=decodeURIComponent(pair[1].replace(/\+/g,' '));}}}
return args;};Drupal.Views.parseViewArgs=function(href,viewPath){if(Drupal.settings.pathPrefix){var viewPath=Drupal.settings.pathPrefix+viewPath;}
var returnObj={};var path=Drupal.Views.getPath(href);if(viewPath&&path.substring(0,viewPath.length+1)==viewPath+'/'){var args=decodeURIComponent(path.substring(viewPath.length+1,path.length));returnObj.view_args=args;returnObj.view_path=path;}
return returnObj;};Drupal.Views.pathPortion=function(href){var protocol=window.location.protocol;if(href.substring(0,protocol.length)==protocol){href=href.substring(href.indexOf('/',protocol.length+2));}
return href;};Drupal.Views.getPath=function(href){href=Drupal.Views.pathPortion(href);href=href.substring(Drupal.settings.basePath.length,href.length);if(href.substring(0,3)=='?q='){href=href.substring(3,href.length);}
var chars=['#','?','&'];for(var i in chars){if(href.indexOf(chars[i])>-1){href=href.substr(0,href.indexOf(chars[i]));}}
return href;};})(jQuery);;(function($){Drupal.progressBar=function(id,updateCallback,method,errorCallback){var pb=this;this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$('<div class="progress" aria-live="polite"></div>').attr('id',id);this.element.html('<div class="bar"><div class="filled"></div></div>'+
'<div class="percentage"></div>'+
'<div class="message">&nbsp;</div>');};Drupal.progressBar.prototype.setProgress=function(percentage,message){if(percentage>=0&&percentage<=100){$('div.filled',this.element).css('width',percentage+'%');$('div.percentage',this.element).html(percentage+'%');}
$('div.message',this.element).html(message);if(this.updateCallback){this.updateCallback(percentage,message,this);}};Drupal.progressBar.prototype.startMonitoring=function(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();};Drupal.progressBar.prototype.stopMonitoring=function(){clearTimeout(this.timer);this.uri=null;};Drupal.progressBar.prototype.sendPing=function(){if(this.timer){clearTimeout(this.timer);}
if(this.uri){var pb=this;$.ajax({type:this.method,url:this.uri,data:'',dataType:'json',success:function(progress){if(progress.status==0){pb.displayError(progress.data);return;}
pb.setProgress(progress.percentage,progress.message);pb.timer=setTimeout(function(){pb.sendPing();},pb.delay);},error:function(xmlhttp){pb.displayError(Drupal.ajaxError(xmlhttp,pb.uri));}});}};Drupal.progressBar.prototype.displayError=function(string){var error=$('<div class="messages error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback){this.errorCallback(this);}};})(jQuery);;(function($){Drupal.behaviors.ViewsAjaxView={};Drupal.behaviors.ViewsAjaxView.attach=function(){if(Drupal.settings&&Drupal.settings.views&&Drupal.settings.views.ajaxViews){$.each(Drupal.settings.views.ajaxViews,function(i,settings){Drupal.views.instances[i]=new Drupal.views.ajaxView(settings);});}};Drupal.views={};Drupal.views.instances={};Drupal.views.ajaxView=function(settings){var selector='.view-dom-id-'+settings.view_dom_id;this.$view=$(selector);var ajax_path=Drupal.settings.views.ajax_path;if(ajax_path.constructor.toString().indexOf("Array")!=-1){ajax_path=ajax_path[0];}
var queryString=window.location.search||'';if(queryString!==''){var queryString=queryString.slice(1).replace(/q=[^&]+&?|&?render=[^&]+/,'');if(queryString!==''){queryString=((/\?/.test(ajax_path))?'&':'?')+queryString;}}
this.element_settings={url:ajax_path+queryString,submit:settings,setClick:true,event:'click',selector:selector,progress:{type:'throbber'}};this.settings=settings;this.$exposed_form=$('#views-exposed-form-'+settings.view_name.replace(/_/g,'-')+'-'+settings.view_display_id.replace(/_/g,'-'));this.$exposed_form.once(jQuery.proxy(this.attachExposedFormAjax,this));this.links=[];this.$view.filter(jQuery.proxy(this.filterNestedViews,this)).once(jQuery.proxy(this.attachPagerAjax,this));var self_settings=this.element_settings;self_settings.event='RefreshView';this.refreshViewAjax=new Drupal.ajax(this.selector,this.$view,self_settings);};Drupal.views.ajaxView.prototype.attachExposedFormAjax=function(){var button=$('input[type=submit], button[type=submit], input[type=image]',this.$exposed_form);button=button[0];$(button).click(function(){if(Drupal.autocompleteSubmit){Drupal.autocompleteSubmit();}});this.exposedFormAjax=new Drupal.ajax($(button).attr('id'),button,this.element_settings);};Drupal.views.ajaxView.prototype.filterNestedViews=function(){return!this.$view.parents('.view').length;};Drupal.views.ajaxView.prototype.attachPagerAjax=function(){this.$view.find('ul.pager > li > a, th.views-field a, .attachment .views-summary a').each(jQuery.proxy(this.attachPagerLinkAjax,this));};Drupal.views.ajaxView.prototype.attachPagerLinkAjax=function(id,link){var $link=$(link);var viewData={};var href=$link.attr('href');$.extend(viewData,this.settings,Drupal.Views.parseQueryString(href),Drupal.Views.parseViewArgs(href,this.settings.view_base_path));$.extend(viewData,Drupal.Views.parseViewArgs(href,this.settings.view_base_path));this.element_settings.submit=viewData;this.pagerAjax=new Drupal.ajax(false,$link,this.element_settings);this.links.push(this.pagerAjax);};Drupal.ajax.prototype.commands.viewsScrollTop=function(ajax,response,status){var offset=$(response.selector).offset();var scrollTarget=response.selector;while($(scrollTarget).scrollTop()==0&&$(scrollTarget).parent()){scrollTarget=$(scrollTarget).parent();}
if(offset.top-10<$(scrollTarget).scrollTop()){$(scrollTarget).animate({scrollTop:(offset.top-10)},500);}};})(jQuery);;(function($){Drupal.behaviors.betterExposedFilters={attach:function(context){$('.bef-tree input[type=checkbox], .bef-checkboxes input[type=checkbox]').change(function(){_bef_highlight(this,context);}).filter(':checked').closest('.form-item',context).addClass('highlight');}};Drupal.behaviors.betterExposedFiltersSelectAllNone={attach:function(context){var selected=$('.form-checkboxes.bef-select-all-none:not(.bef-processed)');if(selected.length){var selAll=Drupal.t('Select All');var selNone=Drupal.t('Select None');var link=$('<a class="bef-toggle" href="#">'+selAll+'</a>')
link.click(function(event){event.preventDefault();event.stopPropagation();if(selAll==$(this).text()){$(this).html(selNone).siblings('.bef-checkboxes, .bef-tree').find('.form-item input:checkbox').each(function(){$(this).attr('checked',true);_bef_highlight(this,context);}).end().find('input[type=checkbox]:first').change();}
else{$(this).html(selAll).siblings('.bef-checkboxes, .bef-tree').find('.form-item input:checkbox').each(function(){$(this).attr('checked',false);_bef_highlight(this,context);}).end().find('input[type=checkbox]:first').change();}});selected.addClass('bef-processed').each(function(index){var newLink=link.clone(true);newLink.insertBefore($('.bef-checkboxes, .bef-tree',this));if($('input:checkbox:checked',this).length==$('input:checkbox',this).length){newLink.click();}});}
var befSettings=Drupal.settings.better_exposed_filters;if(befSettings&&befSettings.datepicker&&befSettings.datepicker_options&&$.fn.datepicker){var opt=[];$.each(befSettings.datepicker_options,function(key,val){if(key&&val){opt[key]=JSON.parse(val);}});$('.bef-datepicker').datepicker(opt);}}};Drupal.behaviors.betterExposedFiltersAllNoneNested={attach:function(context,settings){$('.form-checkboxes.bef-select-all-none-nested li').has('ul').once('bef-all-none-nested',function(){$(this).find('input.form-checkboxes:first').click(function(){var checkedParent=$(this).attr('checked');if(!checkedParent){$(this).parents('li:first').find('ul input.form-checkboxes').removeAttr('checked');}
else{$(this).parents('li:first').find('ul input.form-checkboxes').attr('checked',$(this).attr('checked'));}}).end().find('ul input.form-checkboxes').click(function(){var checked=$(this).attr('checked');var ct=$(this).parents('ul:first').find('input.form-checkboxes:not(:checked)').size();if(!checked){$(this).parents('li:first').parents('li:first').find('input.form-checkboxes:first').removeAttr('checked');}
if(!ct){$(this).parents('li:first').parents('li:first').find('input.form-checkboxes:first').attr('checked',checked);}});});}};Drupal.behaviors.better_exposed_filters_slider={attach:function(context,settings){var befSettings=settings.better_exposed_filters;if(befSettings&&befSettings.slider&&befSettings.slider_options){$.each(befSettings.slider_options,function(i,sliderOptions){var containing_parent="#"+sliderOptions.viewId+" #edit-"+sliderOptions.id+"-wrapper .views-widget";var $filter=$(containing_parent);if(!$filter.length){containing_parent="#"+sliderOptions.viewId+" .bef-slider-wrapper";$filter=$(containing_parent);}
$filter.once('slider-filter',function(){var $input=$(this).find('input[type=text]');if($input.length==2){var $min=$input.parent().find('input#edit-'+sliderOptions.id+'-min'),$max=$input.parent().find('input#edit-'+sliderOptions.id+'-max'),default_min,default_max;if(!$min.length||!$max.length){return;}
default_min=parseFloat(($min.val()=='')?sliderOptions.min:$min.val(),10);default_max=parseFloat(($max.val()=='')?sliderOptions.max:$max.val(),10);$min.val(default_min);$max.val(default_max);$min.parents(containing_parent).after($('<div class="bef-slider"></div>').slider({range:true,min:parseFloat(sliderOptions.min,10),max:parseFloat(sliderOptions.max,10),step:parseFloat(sliderOptions.step,10),animate:sliderOptions.animate?sliderOptions.animate:false,orientation:sliderOptions.orientation,values:[default_min,default_max],slide:function(event,ui){$min.val(ui.values[0]);$max.val(ui.values[1]);},change:function(event,ui){$min.val(ui.values[0]);$max.val(ui.values[1]);},stop:function(event,ui){$(this).parents('form').find('.ctools-auto-submit-click').click();}}));$min.blur(function(){befUpdateSlider($(this),0,sliderOptions);});$max.blur(function(){befUpdateSlider($(this),1,sliderOptions);});}
else if($input.length==1){if($input.attr('id')!='edit-'+sliderOptions.id){return;}
var default_value=parseFloat(($input.val()=='')?sliderOptions.min:$input.val(),10);$input.val(default_value);$input.parents(containing_parent).after($('<div class="bef-slider"></div>').slider({min:parseFloat(sliderOptions.min,10),max:parseFloat(sliderOptions.max,10),step:parseFloat(sliderOptions.step,10),animate:sliderOptions.animate?sliderOptions.animate:false,orientation:sliderOptions.orientation,value:default_value,slide:function(event,ui){$input.val(ui.value);},change:function(event,ui){$input.val(ui.value);},stop:function(event,ui){$(this).parents('form').find('.ctools-auto-submit-click').click();}}));$input.blur(function(){befUpdateSlider($(this),null,sliderOptions);});}
else{return;}})});}}};Drupal.behaviors.better_exposed_filters_select_as_links={attach:function(context,settings){$('.bef-select-as-links',context).once(function(){var $element=$(this);if(typeof settings.views=='undefined'||typeof settings.views.ajaxViews=='undefined'){return;}
var $uses_ajax=false;$.each(settings.views.ajaxViews,function(i,item){var $view_name=item.view_name.replace(/_/g,'-');var $view_display_id=item.view_display_id.replace(/_/g,'-');var $id='views-exposed-form-'+$view_name+'-'+$view_display_id;var $form_id=$element.parents('form').attr('id');if($form_id==$id){$uses_ajax=true;return;}});if(!$uses_ajax){return;}
$(this).find('a').click(function(event){var $wrapper=$(this).parents('.bef-select-as-links');var $options=$wrapper.find('select option');event.preventDefault();event.stopPropagation();$wrapper.find('select option').removeAttr('selected');var link_text=$(this).text();$selected=$options.filter(function(){return $(this).text()==link_text;});$selected.attr('selected','selected');$wrapper.find('.bef-new-value').val($selected.val());$wrapper.find('a').removeClass('active');$(this).addClass('active');$wrapper.parents('form').find('.views-submit-button *[type=submit]').click();});});}};Drupal.behaviors.betterExposedFiltersRequiredFilter={attach:function(context,settings){$('.bef-select-as-checkboxes',context).once('bef-required-filter').ajaxComplete(function(e,xhr,s){var $element=$(this);if(typeof settings.views=='undefined'||typeof settings.views.ajaxViews=='undefined'){return;}
var $view_name;var $view_display_id;var $uses_ajax=false;$.each(settings.views.ajaxViews,function(i,item){$view_name=item.view_name;$view_display_id=item.view_display_id;var $id='views-exposed-form-'+$view_name.replace(/_/g,'-')+'-'+$view_display_id.replace(/_/g,'-');var $form_id=$element.parents('form').attr('id');if($form_id==$id){$uses_ajax=true;return false;}});if($('input',this).length>0){var $filter_name=$('input',this).attr('name').slice(0,-2);if(Drupal.settings.better_exposed_filters.views[$view_name].displays[$view_display_id].filters[$filter_name].required&&$('input:checked',this).length==0){$('input',this).prop('checked',true);}}});}}
function _bef_highlight(elem,context){$elem=$(elem,context);$elem.attr('checked')?$elem.closest('.form-item',context).addClass('highlight'):$elem.closest('.form-item',context).removeClass('highlight');}
function befUpdateSlider($el,valIndex,sliderOptions){var val=parseFloat($el.val(),10),currentMin=$el.parents('div.views-widget').next('.bef-slider').slider('values',0),currentMax=$el.parents('div.views-widget').next('.bef-slider').slider('values',1);if(valIndex!=null){if(valIndex==0&&val>currentMax){val=currentMax;}
if(valIndex==1&&val<currentMin){val=currentMin;}
if(isNaN(val)){val=$el.parents('div.views-widget').next('.bef-slider').slider('values',valIndex);}}
else{if(isNaN(val)){val=$el.parents('div.views-widget').next('.bef-slider').slider('value');}}
val=parseFloat(val,10);if(valIndex!=null){$el.parents('div.views-widget').next('.bef-slider').slider('values',valIndex,val);}
else{$el.parents('div.views-widget').next('.bef-slider').slider('value',val);}}})(jQuery);;function OA_show(){}
(function($){Drupal.behaviors.sqe_placeholder={attach:function(context,settings){var selector=settings.sqe_placeholder;$(selector).each(function(){var label=$(this);var txtid=label.attr('for');label.addClass('placeholder');if(txtid){var txt=label.closest('form').find('#'+txtid);txt.focus(function(){label.hide();}).blur(function(){if($(this).val()==''){label.show();}else{label.hide();}});txt.blur();}});}}})(jQuery);;Drupal.TBMegaMenu=Drupal.TBMegaMenu||{};(function($){Drupal.TBMegaMenu.oldWindowWidth=0;Drupal.TBMegaMenu.displayedMenuMobile=false;Drupal.TBMegaMenu.supportedScreens=[980];Drupal.TBMegaMenu.menuResponsive=function(){var windowWidth=window.innerWidth?window.innerWidth:$(window).width();var navCollapse=$('.tb-megamenu').children('.nav-collapse');if(windowWidth<Drupal.TBMegaMenu.supportedScreens[0]){navCollapse.addClass('collapse');if(Drupal.TBMegaMenu.displayedMenuMobile){navCollapse.css({height:'auto',overflow:'visible'});}else{navCollapse.css({height:0,overflow:'hidden'});}}else{navCollapse.removeClass('collapse');if(navCollapse.height()<=0){navCollapse.css({height:'auto',overflow:'visible'});}}};Drupal.TBMegaMenu.focusNextPrevElement=function(direction){var focusableElements='a:not([disabled]), button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), details:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])';var $current=$(document.activeElement);if($current.length){var $focusable=$(focusableElements).filter(function(){var $this=$(this);return $this.closest('.tb-megamenu-subnav').length===0&&$this.is(':visible');})
var index=$focusable.index($current);if(index>-1){if(direction==='next'){var nextElement=$focusable[index+1]||$focusable[0];}
else{var nextElement=$focusable[index-1]||$focusable[0];}
nextElement.focus();}}}
Drupal.behaviors.tbMegaMenuAction={attach:function(context){$('.tb-megamenu').once('tb-megamenu',function(){var navParent=document.querySelector('.tb-megamenu'),linkArray=new Array(),curPos=new Array(-1,-1,-1);$('.tb-megamenu').find('.level-1').children('a').not('.mobile-only').each(function(i,toplink){linkArray[i]=new Array();linkArray[i][-1]=toplink;$(toplink).data({coordinate:[i,-1]});$(toplink).next().children().children().children('.mega-col-nav').each(function(j,column){linkArray[i][j]=new Array();$(column).find('a').each(function(k,sublink){linkArray[i][j][k]=sublink;$(sublink).data({coordinate:[i,j,k]});});});});$('.tb-megamenu').find('a').focus(function(){curPos=$(this).data('coordinate');});if(navParent!==null){navParent.addEventListener('keydown',keydownEvent);}
function keydownEvent(k){switch(k.keyCode){case 9:k.preventDefault();nav_tab(k);break;case 13:nav_open_link();break;case 27:nav_esc();break;case 37:k.preventDefault();nav_left();break;case 38:k.preventDefault();nav_up();break;case 39:k.preventDefault();nav_right();break;case 40:k.preventDefault();nav_down();break;case 36:nav_home();break;case 35:nav_end();break;default:}}
function nav_tab(k){if(nav_is_toplink()){if(k.shiftKey){nav_prev_toplink();}else{nav_next_toplink();}}else{if(k.shiftKey){nav_up();}else{nav_down();}}}
function nav_open_link(){linkArray[curPos[0]][curPos[1]][curPos[2]].click();}
function nav_esc(){nav_close_megamenu();}
function nav_left(){if(nav_is_toplink()){nav_prev_toplink();}else{nav_prev_column();}}
function nav_right(){if(nav_is_toplink()){nav_next_toplink();}else{nav_next_column();}}
function nav_up(){if(nav_is_toplink()){nav_prev_toplink();}else{if(linkArray[curPos[0]][curPos[1]][curPos[2]-1]){linkArray[curPos[0]][curPos[1]][curPos[2]-1].focus();}else{nav_prev_column();}}}
function nav_down(){if(nav_is_toplink()){nav_next_column();}else{if(linkArray[curPos[0]][curPos[1]][curPos[2]+1]){linkArray[curPos[0]][curPos[1]][curPos[2]+1].focus();}else{nav_next_column();}}}
function nav_home(){if(nav_is_toplink()){linkArray[0][-1].focus();}else{linkArray[curPos[0]][0][0].focus();}}
function nav_end(){if(nav_is_toplink()){linkArray.slice(-1)[0][-1].focus();}else{linkArray[curPos[0]].slice(-1)[0].slice(-1)[0].focus();}}
function nav_is_toplink(){return(curPos[1]<0);}
function nav_close_megamenu(){$('.tb-megamenu .open').removeClass('open');$('.tb-megamenu-item.dropdown-submenu.open').removeClass('open');ariaCheck();}
function nav_next_toplink(){if(linkArray[curPos[0]+1]){linkArray[curPos[0]+1][-1].focus();}else{nav_close_megamenu();Drupal.TBMegaMenu.focusNextPrevElement('next');}}
function nav_prev_toplink(){if(linkArray[curPos[0]-1]){linkArray[curPos[0]-1][-1].focus();}else{Drupal.TBMegaMenu.focusNextPrevElement('prev');}}
function nav_prev_column(){if(linkArray[curPos[0]][curPos[1]-1][0]){linkArray[curPos[0]][curPos[1]-1][0].focus();}else{nav_parent_toplink();}}
function nav_next_column(){if(linkArray[curPos[0]][curPos[1]+1]){linkArray[curPos[0]][curPos[1]+1][0].focus();}else{nav_parent_toplink();}}
function nav_parent_toplink(){linkArray[curPos[0]][-1].focus();}
var ariaCheck=function(){$("li.tb-megamenu-item").each(function(){if($(this).is('.mega-group')){if(!$(this).parents().is('.open')){$(this).children().attr('aria-expanded','false');}
else if($(this).parents().is('.open')){$(this).children().attr('aria-expanded','true');}}
else if($(this).is('.dropdown')||$(this).is('.dropdown-submenu')){if(!$(this).is('.open')){$(this).children().attr('aria-expanded','false');}
else if($(this).is('.open')){$(this).children().attr('aria-expanded','true');}}
else{$(this).children().removeAttr('aria-expanded');}});};var showMenu=function($subMenu,mm_timeout){if($subMenu.hasClass('mega')){$subMenu.addClass('animating');clearTimeout($subMenu.data('animatingTimeout'));$subMenu.data('animatingTimeout',setTimeout(function(){$subMenu.removeClass('animating')},mm_timeout));clearTimeout($subMenu.data('hoverTimeout'));$subMenu.data('hoverTimeout',setTimeout(function(){$subMenu.addClass('open');ariaCheck();},100));}
else{clearTimeout($subMenu.data('hoverTimeout'));$subMenu.data('hoverTimeout',setTimeout(function(){$subMenu.addClass('open');ariaCheck();},100));}};var hideMenu=function($subMenu,mm_timeout){$subMenu.children('.dropdown-toggle').attr('aria-expanded','false');if($subMenu.hasClass('mega')){$subMenu.addClass('animating');clearTimeout($subMenu.data('animatingTimeout'));$subMenu.data('animatingTimeout',setTimeout(function(){$subMenu.removeClass('animating')},mm_timeout));clearTimeout($subMenu.data('hoverTimeout'));$subMenu.data('hoverTimeout',setTimeout(function(){$subMenu.removeClass('open');ariaCheck();},100));}
else{clearTimeout($subMenu.data('hoverTimeout'));$subMenu.data('hoverTimeout',setTimeout(function(){$subMenu.removeClass('open');ariaCheck();},100));}};$('.tb-megamenu-button',context).once('menuIstance',function(){var This=this;$(This).click(function(){if(parseInt($(this).parent().children('.nav-collapse').height())){$(this).parent().children('.nav-collapse').css({height:0,overflow:'hidden'});Drupal.TBMegaMenu.displayedMenuMobile=false;}
else{$(this).parent().children('.nav-collapse').css({height:'auto',overflow:'visible'});Drupal.TBMegaMenu.displayedMenuMobile=true;}});});var isTouch=window.matchMedia('(pointer: coarse)').matches;if(!isTouch){$(document).ready(function($){var mm_duration=0;$('.tb-megamenu',context).each(function(){if($(this).data('duration')){mm_duration=$(this).data('duration');}});var mm_timeout=mm_duration?100+mm_duration:500;$('.nav > li, li.mega',context).bind('mouseenter',function(event){showMenu($(this),mm_timeout);});$('.nav > li > .dropdown-toggle, li.mega > .dropdown-toggle',context).bind('focus',function(event){var $this=$(this);var $subMenu=$this.closest('li');showMenu($subMenu,mm_timeout);$(document).bind('focusin',function(event){if($subMenu.has(event.target).length){return;}
$(document).unbind(event);hideMenu($subMenu,mm_timeout);});});$('.nav > li, li.mega',context).bind('mouseleave',function(event){hideMenu($(this),mm_timeout);});});$('a').focus(function(event){if(!$(this).parent().hasClass('tb-megamenu-item')&&!$(this).parents('.tb-megamenu-block').length){nav_close_megamenu();}});$('.nav > li > a, li.mega > a').focus(function(event){var siblings=$(this).parents('.tb-megamenu-item').siblings();$.each(siblings,function(i,v){var cousins=$(v).find('.open');$.each(cousins,function(index,value){$(value).removeClass('open');ariaCheck($(this));});$(v).removeClass('open');ariaCheck();});if($(this).next(".tb-megamenu-submenu").length>0){if(!$(this).parent().hasClass("open")){$(this).parent().addClass("open");}}
if(!$(this).closest('.tb-megamenu-item.dropdown').hasClass('open')&&$(this).closest('.tb-megamenu-item.dropdown').find('.tb-megamenu-submenu').length>0){$(this).closest('.tb-megamenu-item.dropdown').addClass('open');ariaCheck();}
var parents=$(this).parents('.tb-megamenu-item.dropdown-submenu');$.each(parents,function(i,v){if(!$(v).hasClass('open')){$(v).addClass('open');ariaCheck();}});});}
$(window).resize(function(){var windowWidth=window.innerWidth?window.innerWidth:$(window).width();if(windowWidth!=Drupal.TBMegaMenu.oldWindowWidth){Drupal.TBMegaMenu.oldWindowWidth=windowWidth;Drupal.TBMegaMenu.menuResponsive();}});});},}})(jQuery);;Drupal.TBMegaMenu=Drupal.TBMegaMenu||{};(function($){Drupal.TBMegaMenu.createTouchMenu=function(items){items.children('a, .tb_nolink').each(function(){var $item=$(this);var tbitem=$(this).parent();$item.click(function(event){if($item.hasClass('tb-megamenu-clicked')){var $uri=$item.attr('href');if($uri&&$uri!=='#'){window.location.href=$uri;}}
else{event.preventDefault();$item.addClass('tb-megamenu-clicked');if(!tbitem.hasClass('open')){tbitem.addClass('open');}
tbitem.siblings('.open').find('.tb-megamenu-clicked').removeClass('tb-megamenu-clicked');tbitem.siblings('.open').removeClass('open');$('body').addClass('tb-megamenu-open');}});});}
Drupal.TBMegaMenu.eventStopPropagation=function(event){if(event.stopPropagation){event.stopPropagation();}
else if(window.event){window.event.cancelBubble=true;}}
Drupal.behaviors.tbMegaMenuTouchAction={attach:function(context){var isTouch=window.matchMedia('(pointer: coarse)').matches;if(isTouch){$('html').addClass('touch');Drupal.TBMegaMenu.createTouchMenu($('.tb-megamenu ul.nav li.mega').has('.dropdown-menu'));$(document).on('touchstart',function(event){if($('body').hasClass('tb-megamenu-open')&&!$(event.target).closest('.mega.open').length){$('.tb-megamenu ul.nav li.mega a, .tb-megamenu ul.nav li.mega .tb_nolink').removeClass('tb-megamenu-clicked');$('.tb-megamenu ul.nav li.mega').removeClass('open');$('body').removeClass('tb-megamenu-open');}});}}}})(jQuery);;!function(e){"use strict";e.fn.meanmenu=function(n){var a={meanMenuTarget:jQuery(this),meanMenuContainer:"body",meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanScreenWidth:"480",meanNavPush:"",meanShowChildren:!0,meanExpandableChildren:!0,meanExpand:"+",meanContract:"-",meanRemoveAttrs:!1,onePage:!1,meanDisplay:"block",removeElements:""};n=e.extend(a,n);var t=document.documentElement.clientWidth||document.body.clientWidth;return this.each(function(){var e=n.meanMenuTarget,a=n.meanMenuTarget.clone();a.find(".contextual-links-wrapper").remove().find("ul.contextual-links").remove();var r=n.meanMenuContainer,i=n.meanMenuClose,u=n.meanMenuCloseSize,m=n.meanMenuOpen,s=n.meanRevealPosition,l=n.meanRevealPositionDistance,o=n.meanRevealColour,c=n.meanScreenWidth,d=n.meanNavPush,v=".meanmenu-reveal",h=n.meanShowChildren,y=n.meanExpandableChildren,j=n.meanExpand,Q=n.meanContract,f=n.meanRemoveAttrs,g=n.onePage,p=n.meanDisplay,C=n.removeElements,x=!1;(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Blackberry/i)||navigator.userAgent.match(/Windows Phone/i))&&(x=!0),(navigator.userAgent.match(/MSIE 8/i)||navigator.userAgent.match(/MSIE 7/i))&&jQuery("html").css("overflow-y","scroll");var w="",b=function(){if("center"===s){var e=document.documentElement.clientWidth||document.body.clientWidth,n=e/2-22+"px";w="left:"+n+";right:auto;",x?jQuery(".meanmenu-reveal").animate({left:n}):jQuery(".meanmenu-reveal").css("left",n)}},A=!1,M=!1;"right"===s&&(w="right:"+l+";left:auto;"),"left"===s&&(w="left:"+l+";right:auto;"),b();var E="",P=function(){E.html(jQuery(E).is(".meanmenu-reveal.meanclose")?i:m)},W=function(){jQuery(".mean-bar,.mean-push").remove(),jQuery(r).removeClass("mean-container"),jQuery(e).css("display",p),A=!1,M=!1,jQuery(C).removeClass("mean-remove")},k=function(){var n="background:"+o+";color:"+o+";"+w;if(c>=t){jQuery(C).addClass("mean-remove"),M=!0,jQuery(r).addClass("mean-container"),jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+n+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var i=jQuery(a).html();jQuery(".mean-nav").html(i),f&&jQuery("nav.mean-nav ul, nav.mean-nav ul *").each(function(){jQuery(this).is(".mean-remove")?jQuery(this).attr("class","mean-remove"):jQuery(this).removeAttr("class"),jQuery(this).removeAttr("id")}),jQuery(e).before('<div class="mean-push" />'),jQuery(".mean-push").css("margin-top",d),jQuery(e).hide(),jQuery(".meanmenu-reveal").show(),jQuery(v).html(m),E=jQuery(v),jQuery(".mean-nav ul").hide(),h?y?(jQuery(".mean-nav ul ul").each(function(){jQuery(this).children().length&&jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+u+'">'+j+"</a>")}),jQuery(".mean-expand").on("click",function(e){e.preventDefault(),jQuery(this).hasClass("mean-clicked")?(jQuery(this).text(j),jQuery(this).prev("ul").slideUp(300,function(){})):(jQuery(this).text(Q),jQuery(this).prev("ul").slideDown(300,function(){})),jQuery(this).toggleClass("mean-clicked")})):jQuery(".mean-nav ul ul").show():jQuery(".mean-nav ul ul").hide(),jQuery(".mean-nav ul li").last().addClass("mean-last"),E.removeClass("meanclose"),jQuery(E).click(function(e){e.preventDefault(),A===!1?(E.css("text-align","center"),E.css("text-indent","0"),E.css("font-size",u),jQuery(".mean-nav ul:first").slideDown(),A=!0):(jQuery(".mean-nav ul:first").slideUp(),A=!1),E.toggleClass("meanclose"),P(),jQuery(C).addClass("mean-remove")}),g&&jQuery(".mean-nav ul > li > a:first-child").on("click",function(){jQuery(".mean-nav ul:first").slideUp(),A=!1,jQuery(E).toggleClass("meanclose").html(m)})}else W()};x||jQuery(window).resize(function(){t=document.documentElement.clientWidth||document.body.clientWidth,t>c,W(),c>=t?(k(),b()):W()}),jQuery(window).resize(function(){t=document.documentElement.clientWidth||document.body.clientWidth,x?(b(),c>=t?M===!1&&k():W()):(W(),c>=t&&(k(),b()))}),k()})}}(jQuery);;(function($){Drupal.behaviors.responsive_menus_mean_menu={attach:function(context,settings){settings.responsive_menus=settings.responsive_menus||{};$.each(settings.responsive_menus,function(ind,iteration){if(iteration.responsive_menus_style!='mean_menu'){return true;}
if(!iteration.selectors.length){return;}
$.each(iteration,function(key,value){if(value==0){iteration[key]=false;}
if(value==1){iteration[key]=true;}});$(iteration.selectors).once('responsive-menus-mean-menu',function(){$(this).meanmenu({meanMenuContainer:iteration.container||"body",meanMenuClose:iteration.close_txt||"X",meanMenuCloseSize:iteration.close_size||"18px",meanMenuOpen:iteration.trigger_txt||"<span /><span /><span />",meanRevealPosition:iteration.position||"right",meanScreenWidth:iteration.media_size||"480",meanExpand:iteration.expand_txt||"+",meanContract:iteration.contract_txt||"-",meanShowChildren:iteration.show_children,meanExpandableChildren:iteration.expand_children,meanRemoveAttrs:iteration.remove_attrs});});});}};}(jQuery));;(function($){Drupal.googleanalytics={};$(document).ready(function(){$(document.body).bind("mousedown keyup touchstart",function(event){$(event.target).closest("a,area").each(function(){if(Drupal.googleanalytics.isInternal(this.href)){if($(this).is('.colorbox')&&(Drupal.settings.googleanalytics.trackColorbox)){}
else if(Drupal.settings.googleanalytics.trackDownload&&Drupal.googleanalytics.isDownload(this.href)){ga("send",{"hitType":"event","eventCategory":"Downloads","eventAction":Drupal.googleanalytics.getDownloadExtension(this.href).toUpperCase(),"eventLabel":Drupal.googleanalytics.getPageUrl(this.href),"transport":"beacon"});}
else if(Drupal.googleanalytics.isInternalSpecial(this.href)){ga("send",{"hitType":"pageview","page":Drupal.googleanalytics.getPageUrl(this.href),"transport":"beacon"});}}
else{if(Drupal.settings.googleanalytics.trackMailto&&$(this).is("a[href^='mailto:'],area[href^='mailto:']")){ga("send",{"hitType":"event","eventCategory":"Mails","eventAction":"Click","eventLabel":this.href.substring(7),"transport":"beacon"});}
else if(Drupal.settings.googleanalytics.trackOutbound&&this.href.match(/^\w+:\/\//i)){if(Drupal.settings.googleanalytics.trackDomainMode!==2||(Drupal.settings.googleanalytics.trackDomainMode===2&&!Drupal.googleanalytics.isCrossDomain(this.hostname,Drupal.settings.googleanalytics.trackCrossDomains))){ga("send",{"hitType":"event","eventCategory":"Outbound links","eventAction":"Click","eventLabel":this.href,"transport":"beacon"});}}}});});if(Drupal.settings.googleanalytics.trackUrlFragments){window.onhashchange=function(){ga("send",{"hitType":"pageview","page":location.pathname+location.search+location.hash});};}
if(Drupal.settings.googleanalytics.trackColorbox){$(document).bind("cbox_complete",function(){var href=$.colorbox.element().attr("href");if(href){ga("send",{"hitType":"pageview","page":Drupal.googleanalytics.getPageUrl(href)});}});}});Drupal.googleanalytics.isCrossDomain=function(hostname,crossDomains){if(!crossDomains){return false;}
else{return $.inArray(hostname,crossDomains)>-1?true:false;}};Drupal.googleanalytics.isDownload=function(url){var isDownload=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([\?#].*)?$","i");return isDownload.test(url);};Drupal.googleanalytics.isInternal=function(url){var isInternal=new RegExp("^(https?):\/\/"+window.location.host,"i");return isInternal.test(url);};Drupal.googleanalytics.isInternalSpecial=function(url){var isInternalSpecial=new RegExp("(\/go\/.*)$","i");return isInternalSpecial.test(url);};Drupal.googleanalytics.getPageUrl=function(url){var extractInternalUrl=new RegExp("^(https?):\/\/"+window.location.host,"i");return url.replace(extractInternalUrl,'');};Drupal.googleanalytics.getDownloadExtension=function(url){var extractDownloadextension=new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([\?#].*)?$","i");var extension=extractDownloadextension.exec(url);return(extension===null)?'':extension[1];};})(jQuery);;