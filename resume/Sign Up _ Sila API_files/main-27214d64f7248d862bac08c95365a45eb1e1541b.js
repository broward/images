!function(e){function t(t){for(var n,r,o=t[0],s=t[1],i=t[2],l=0,c=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(P,r)&&P[r]&&c.push(P[r][0]),P[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(F&&F(t);c.length;)c.shift()();return T.push.apply(T,i||[]),a()}function a(){for(var e,t=0;t<T.length;t++){for(var a=T[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==P[o]&&(n=!1)}n&&(T.splice(t--,1),e=C(C.s=a[0]))}return e}var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!x[e]||!w[e])return;for(var a in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,a)&&(b[a]=t[a]);0==--g&&0===v&&N()}(e,t),n&&n(e,t)};var r,o=!0,s="a5b3a7dfc60c73199321",i={},l=[],c=[];function u(t){var a={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:r!==t,active:!0,accept:function(e,t){if(void 0===e)a._selfAccepted=!0;else if("function"==typeof e)a._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)a._acceptedDependencies[e[n]]=t||function(){};else a._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)a._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)a._declinedDependencies[e[t]]=!0;else a._declinedDependencies[e]=!0},dispose:function(e){a._disposeHandlers.push(e)},addDisposeHandler:function(e){a._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=a._disposeHandlers.indexOf(e);t>=0&&a._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":(b={})[t]=e[t],p("ready");break;case"ready":I(t);break;case"prepare":case"check":case"dispose":case"apply":(y=y||[]).push(t)}},check:j,apply:k,status:function(e){if(!e)return d;m.push(e)},addStatusHandler:function(e){m.push(e)},removeStatusHandler:function(e){var t=m.indexOf(e);t>=0&&m.splice(t,1)},data:i[t]};return r=void 0,a}var m=[],d="idle";function p(e){d=e;for(var t=0;t<m.length;t++)m[t].call(null,e)}var f,b,h,y,g=0,v=0,E={},w={},x={};function O(e){return+e+""===e?+e:e}function j(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,a){if("undefined"==typeof XMLHttpRequest)return a(new Error("No browser support"));try{var n=new XMLHttpRequest,r=C.p+""+s+".hot-update.json";n.open("GET",r,!0),n.timeout=t,n.send(null)}catch(e){return a(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)a(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)a(new Error("Manifest request to "+r+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void a(e)}e(t)}}}))).then((function(e){if(!e)return p(S()?"ready":"idle"),null;w={},E={},x=e.c,h=e.h,p("prepare");var t=new Promise((function(e,t){f={resolve:e,reject:t}}));for(var a in b={},P)_(a);return"prepare"===d&&0===v&&0===g&&N(),t}));var t}function _(e){x[e]?(w[e]=!0,g++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=C.p+""+e+"."+s+".hot-update.js",document.head.appendChild(t)}(e)):E[e]=!0}function N(){p("ready");var e=f;if(f=null,e)if(o)Promise.resolve().then((function(){return k(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&t.push(O(a));e.resolve(t)}}function k(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");return function t(a){var n,o,c,u,m;function d(e){for(var t=[e],a={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var r=n.pop(),o=r.id,s=r.chain;if((u=A[o])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var i=0;i<u.parents.length;i++){var l=u.parents[i],c=A[l];if(c){if(c.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([l]),moduleId:o,parentId:l};-1===t.indexOf(l)&&(c.hot._acceptedDependencies[o]?(a[l]||(a[l]=[]),f(a[l],[o])):(delete a[l],t.push(l),n.push({chain:s.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:a}}function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];-1===e.indexOf(n)&&e.push(n)}}S();var g={},v=[],E={},w=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var j in b)if(Object.prototype.hasOwnProperty.call(b,j)){var _;m=O(j),_=b[j]?d(m):{type:"disposed",moduleId:j};var N=!1,k=!1,I=!1,T="";switch(_.chain&&(T="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":a.onDeclined&&a.onDeclined(_),a.ignoreDeclined||(N=new Error("Aborted because of self decline: "+_.moduleId+T));break;case"declined":a.onDeclined&&a.onDeclined(_),a.ignoreDeclined||(N=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+T));break;case"unaccepted":a.onUnaccepted&&a.onUnaccepted(_),a.ignoreUnaccepted||(N=new Error("Aborted because "+m+" is not accepted"+T));break;case"accepted":a.onAccepted&&a.onAccepted(_),k=!0;break;case"disposed":a.onDisposed&&a.onDisposed(_),I=!0;break;default:throw new Error("Unexception type "+_.type)}if(N)return p("abort"),Promise.reject(N);if(k)for(m in E[m]=b[m],f(v,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,m)&&(g[m]||(g[m]=[]),f(g[m],_.outdatedDependencies[m]));I&&(f(v,[_.moduleId]),E[m]=w)}var R,M=[];for(o=0;o<v.length;o++)m=v[o],A[m]&&A[m].hot._selfAccepted&&E[m]!==w&&!A[m].hot._selfInvalidated&&M.push({module:m,parents:A[m].parents.slice(),errorHandler:A[m].hot._selfAccepted});p("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete P[e]}(e)}));var D,F,q=v.slice();for(;q.length>0;)if(m=q.pop(),u=A[m]){var L={},U=u.hot._disposeHandlers;for(c=0;c<U.length;c++)(n=U[c])(L);for(i[m]=L,u.hot.active=!1,delete A[m],delete g[m],c=0;c<u.children.length;c++){var z=A[u.children[c]];z&&((R=z.parents.indexOf(m))>=0&&z.parents.splice(R,1))}}for(m in g)if(Object.prototype.hasOwnProperty.call(g,m)&&(u=A[m]))for(F=g[m],c=0;c<F.length;c++)D=F[c],(R=u.children.indexOf(D))>=0&&u.children.splice(R,1);p("apply"),void 0!==h&&(s=h,h=void 0);for(m in b=void 0,E)Object.prototype.hasOwnProperty.call(E,m)&&(e[m]=E[m]);var V=null;for(m in g)if(Object.prototype.hasOwnProperty.call(g,m)&&(u=A[m])){F=g[m];var B=[];for(o=0;o<F.length;o++)if(D=F[o],n=u.hot._acceptedDependencies[D]){if(-1!==B.indexOf(n))continue;B.push(n)}for(o=0;o<B.length;o++){n=B[o];try{n(F)}catch(e){a.onErrored&&a.onErrored({type:"accept-errored",moduleId:m,dependencyId:F[o],error:e}),a.ignoreErrored||V||(V=e)}}}for(o=0;o<M.length;o++){var H=M[o];m=H.module,l=H.parents,r=m;try{C(m)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(t){a.onErrored&&a.onErrored({type:"self-accept-error-handler-errored",moduleId:m,error:t,originalError:e}),a.ignoreErrored||V||(V=t),V||(V=e)}else a.onErrored&&a.onErrored({type:"self-accept-errored",moduleId:m,error:e}),a.ignoreErrored||V||(V=e)}}if(V)return p("fail"),Promise.reject(V);if(y)return t(a).then((function(e){return v.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return p("idle"),new Promise((function(e){e(v)}))}(t=t||{})}function S(){if(y)return b||(b={}),y.forEach(I),y=void 0,!0}function I(t){Object.prototype.hasOwnProperty.call(b,t)||(b[t]=e[t])}var A={},P={0:0},T=[];function C(t){if(A[t])return A[t].exports;var a=A[t]={i:t,l:!1,exports:{},hot:u(t),parents:(c=l,l=[],c),children:[]};return e[t].call(a.exports,a,a.exports,function(e){var t=A[e];if(!t)return C;var a=function(a){return t.hot.active?(A[a]?-1===A[a].parents.indexOf(e)&&A[a].parents.push(e):(l=[e],r=a),-1===t.children.indexOf(a)&&t.children.push(a)):(console.warn("[HMR] unexpected require("+a+") from disposed module "+e),l=[]),C(a)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return C[e]},set:function(t){C[e]=t}}};for(var o in C)Object.prototype.hasOwnProperty.call(C,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(a,o,n(o));return a.e=function(e){return"ready"===d&&p("prepare"),v++,C.e(e).then(t,(function(e){throw t(),e}));function t(){v--,"prepare"===d&&(E[e]||_(e),0===v&&0===g&&N())}},a.t=function(e,t){return 1&t&&(e=a(e)),C.t(e,-2&t)},a}(t)),a.l=!0,a.exports}C.m=e,C.c=A,C.d=function(e,t,a){C.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},C.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},C.t=function(e,t){if(1&t&&(e=C(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(C.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)C.d(a,n,function(t){return e[t]}.bind(null,n));return a},C.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(t,"a",t),t},C.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C.p="/static/webpack_bundles/",C.h=function(){return s};var R=window.webpackJsonp=window.webpackJsonp||[],M=R.push.bind(R);R.push=t,R=R.slice();for(var D=0;D<R.length;D++)t(R[D]);var F=M;T.push([0,1]),a()}({"./assets/images/developer-decal.png":function(e,t,a){e.exports=a.p+"i-52d5662c1635d8f3a7d6db2162be8ea1.png"},"./assets/images/help-decal.png":function(e,t,a){e.exports=a.p+"i-8e80e9df5260834dcfde6ed28fed0218.png"},"./assets/images/icon-copy.svg":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjI5MjIgMy43NzY5OEg2LjMzMDA2QzUuOTQzNzUgMy43NzY5OCA1LjYzMDYyIDQuMDkwMTEgNS42MzA2MiA0LjQ3NjQyQzUuNjMwNjIgNC44NjI3NCA1Ljk0Mzc1IDUuMTc1ODcgNi4zMzAwNiA1LjE3NTg3SDExLjI5MjJDMTEuNjc4NiA1LjE3NTg3IDExLjk5MTcgNC44NjI3NCAxMS45OTE3IDQuNDc2NDJDMTEuOTkxNyA0LjA5MDExIDExLjY3ODUgMy43NzY5OCAxMS4yOTIyIDMuNzc2OThaIiBmaWxsPSIjNDE2NUY2Ii8+CjxwYXRoIGQ9Ik0xMS4yOTIyIDYuNTc0NzFINi4zMzAwNkM1Ljk0Mzc1IDYuNTc0NzEgNS42MzA2MiA2Ljg4Nzg0IDUuNjMwNjIgNy4yNzQxNUM1LjYzMDYyIDcuNjYwNDcgNS45NDM3NSA3Ljk3MzYgNi4zMzAwNiA3Ljk3MzZIMTEuMjkyMkMxMS42Nzg1IDcuOTczNiAxMS45OTE3IDcuNjYwNDcgMTEuOTkxNyA3LjI3NDE1QzExLjk5MTcgNi44ODc4NCAxMS42Nzg2IDYuNTc0NzEgMTEuMjkyMiA2LjU3NDcxWiIgZmlsbD0iIzQxNjVGNiIvPgo8cGF0aCBkPSJNOC40NjMzNyA5LjM3MjU2SDYuMzMwMDZDNS45NDM3NSA5LjM3MjU2IDUuNjMwNjIgOS42ODU2OSA1LjYzMDYyIDEwLjA3MkM1LjYzMDYyIDEwLjQ1ODMgNS45NDM3NSAxMC43NzE1IDYuMzMwMDYgMTAuNzcxNUg4LjQ2MzM3QzguODQ5NjggMTAuNzcxNSA5LjE2MjgxIDEwLjQ1ODMgOS4xNjI4MSAxMC4wNzJDOS4xNjI4MSA5LjY4NTY5IDguODQ5NjggOS4zNzI1NiA4LjQ2MzM3IDkuMzcyNTZaIiBmaWxsPSIjNDE2NUY2Ii8+CjxwYXRoIGQ9Ik0xNC4xMjg4IDkuNTEyNDFDMTQuNTE1MSA5LjUxMjQxIDE0LjgyODIgOS4xOTkyOCAxNC44MjgyIDguODEyOTZWMi43OTc3OUMxNC44MjgyIDEuMjU1MDcgMTMuNTczMSAwIDEyLjAzMDUgMEg1LjU5NTU3QzQuMDUzNzMgMCAyLjc5OTIyIDEuMjUzNjcgMi43OTc3OSAyLjc5NTJDMS4yNTUxMSAyLjc5NTIgMCA0LjA1MDI3IDAgNS41OTI5OFYxNS4xMDU0QzAgMTYuNjQ4MSAxLjI1NTA3IDE3LjkwMzIgMi43OTc3OSAxNy45MDMySDkuNTgyMzhDMTEuMTI1MSAxNy45MDMyIDEyLjM4MDIgMTYuNjQ4MSAxMi4zODAyIDE1LjEwNTRWMTUuMDg0MUMxMy43NTg0IDE0LjkxMTUgMTQuODI4MiAxMy43MzIyIDE0LjgyODIgMTIuMzA4MUMxNC44MjgyIDExLjkyMTggMTQuNTE1MSAxMS42MDg3IDE0LjEyODggMTEuNjA4N0MxMy43NDI0IDExLjYwODcgMTMuNDI5MyAxMS45MjE4IDEzLjQyOTMgMTIuMzA4MUMxMy40MjkzIDEzLjA3OTMgMTIuODAxOSAxMy43MDY5IDEyLjAzMDggMTMuNzA3TDUuNTk1ODkgMTMuNzA4Nkg1LjU5NTU3QzUuMjIxOTUgMTMuNzA4NiA0Ljg3MDcgMTMuNTYzMSA0LjYwNjUzIDEzLjI5OUM0LjM0MjI1IDEzLjAzNDcgNC4xOTY2OCAxMi42ODM0IDQuMTk2NjggMTIuMzA5N1YyLjc5Nzc5QzQuMTk2NjggMi4wMjY0NSA0LjgyNDIzIDEuMzk4ODkgNS41OTU1NyAxLjM5ODg5SDEyLjAzMDVDMTIuODAxOCAxLjM5ODg5IDEzLjQyOTQgMi4wMjY0NSAxMy40Mjk0IDIuNzk3NzlWOC44MTNDMTMuNDI5NCA5LjE5OTI4IDEzLjc0MjUgOS41MTI0MSAxNC4xMjg4IDkuNTEyNDFaTTUuNTk1NTcgMTUuMTA3NEg1LjU5NjI3TDEwLjk4MTMgMTUuMTA2MUMxMC45ODA5IDE1Ljg3NzEgMTAuMzUzNSAxNi41MDQyIDkuNTgyMzggMTYuNTA0MkgyLjc5NzgyQzIuMDI2NDggMTYuNTA0MiAxLjM5ODkzIDE1Ljg3NjcgMS4zOTg5MyAxNS4xMDUzVjUuNTkyOTFDMS4zOTg5MyA0LjgyMTU4IDIuMDI2NDggNC4xOTQwMiAyLjc5NzgyIDQuMTk0MDJWMTIuMzA5N0MyLjc5NzgyIDEzLjA1NzEgMy4wODg5MiAxMy43NTk4IDMuNjE3NDggMTQuMjg4MkM0LjE0NTk0IDE0LjgxNjYgNC44NDgzMyAxNS4xMDc0IDUuNTk1NTcgMTUuMTA3NFoiIGZpbGw9IiM0MTY1RjYiLz4KPC9zdmc+Cg=="},"./assets/images/icon-hide.svg":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjMiIHZpZXdCb3g9IjAgMCAyNCAyMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDguOTA5MDZDMTAuMTk0NSA4LjkwOTA2IDguNzI3MjkgMTAuMzc2MyA4LjcyNzI5IDEyLjE4MThDOC43MjcyOSAxMy45ODcyIDEwLjE5NDUgMTUuNDU0NSAxMiAxNS40NTQ1QzEzLjgwNTUgMTUuNDU0NSAxNS4yNzI3IDEzLjk4NzIgMTUuMjcyNyAxMi4xODE4QzE1LjI3MjcgMTAuMzc2MyAxMy44MDU0IDguOTA5MDYgMTIgOC45MDkwNloiIGZpbGw9IiM0MTY1RjYiLz4KPHBhdGggZD0iTTEyIDRDNi41NDU0NSA0IDEuODg3MjkgNy4zOTI2OSAwIDEyLjE4MThDMS44ODcyOSAxNi45NzA5IDYuNTQ1NDUgMjAuMzYzNiAxMiAyMC4zNjM2QzE3LjQ2IDIwLjM2MzYgMjIuMTEyNyAxNi45NzA5IDI0IDEyLjE4MThDMjIuMTEyNyA3LjM5MjY5IDE3LjQ2IDQgMTIgNFpNMTIgMTcuNjM2M0M4Ljk4OTA5IDE3LjYzNjMgNi41NDU0NCAxNS4xOTI3IDYuNTQ1NDQgMTIuMTgxOEM2LjU0NTQ0IDkuMTcwODUgOC45ODkwOSA2LjcyNzI1IDEyIDYuNzI3MjVDMTUuMDEwOSA2LjcyNzI1IDE3LjQ1NDYgOS4xNzA5IDE3LjQ1NDYgMTIuMTgxOEMxNy40NTQ2IDE1LjE5MjcgMTUuMDEwOSAxNy42MzYzIDEyIDE3LjYzNjNaIiBmaWxsPSIjNDE2NUY2Ii8+CjxwYXRoIGQ9Ik0xLjUgMi41TDIwLjUgMjEuNSIgc3Ryb2tlPSIjM0Y2M0Y3IiBzdHJva2Utd2lkdGg9IjIiLz4KPGxpbmUgeDE9IjIuNzA3MTEiIHkxPSIxLjI5Mjg5IiB4Mj0iMjEuNzA3MSIgeTI9IjIwLjI5MjkiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4K"},"./assets/images/icon-reveal.svg":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAyNCAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjAwMDMgNC45MDkwNkMxMC4xOTQ4IDQuOTA5MDYgOC43Mjc1NCA2LjM3NjMxIDguNzI3NTQgOC4xODE3OEM4LjcyNzU0IDkuOTg3MjUgMTAuMTk0OCAxMS40NTQ1IDEyLjAwMDMgMTEuNDU0NUMxMy44MDU3IDExLjQ1NDUgMTUuMjczIDkuOTg3MjUgMTUuMjczIDguMTgxNzhDMTUuMjczIDYuMzc2MzEgMTMuODA1NyA0LjkwOTA2IDEyLjAwMDMgNC45MDkwNloiIGZpbGw9IiM0MTY1RjYiLz4KPHBhdGggZD0iTTEyIDBDNi41NDU0NSAwIDEuODg3MjkgMy4zOTI2OSAwIDguMTgxODFDMS44ODcyOSAxMi45NzA5IDYuNTQ1NDUgMTYuMzYzNiAxMiAxNi4zNjM2QzE3LjQ2IDE2LjM2MzYgMjIuMTEyNyAxMi45NzA5IDI0IDguMTgxODFDMjIuMTEyNyAzLjM5MjY5IDE3LjQ2IDAgMTIgMFpNMTIgMTMuNjM2M0M4Ljk4OTA5IDEzLjYzNjMgNi41NDU0NCAxMS4xOTI3IDYuNTQ1NDQgOC4xODE3NUM2LjU0NTQ0IDUuMTcwODUgOC45ODkwOSAyLjcyNzI1IDEyIDIuNzI3MjVDMTUuMDEwOSAyLjcyNzI1IDE3LjQ1NDYgNS4xNzA5IDE3LjQ1NDYgOC4xODE4MUMxNy40NTQ2IDExLjE5MjcgMTUuMDEwOSAxMy42MzYzIDEyIDEzLjYzNjNaIiBmaWxsPSIjNDE2NUY2Ii8+Cjwvc3ZnPgo="},"./assets/images/onboarding-decal.png":function(e,t,a){e.exports=a.p+"i-276807463a894c47225e2527cc021303.png"},"./assets/js/index.js":function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setLoading",(function(){return fa})),a.d(n,"updateValue",(function(){return ba})),a.d(n,"updateValues",(function(){return ha})),a.d(n,"addItem",(function(){return ya})),a.d(n,"editItem",(function(){return ga})),a.d(n,"deleteItem",(function(){return va})),a.d(n,"addChildItem",(function(){return Ea})),a.d(n,"deleteChildItems",(function(){return wa})),a.d(n,"getChildItems",(function(){return xa})),a.d(n,"default",(function(){return Oa}));a("./node_modules/abortcontroller-polyfill/dist/umd-polyfill.js"),a("./node_modules/url-search-params-polyfill/index.js"),a("./node_modules/intersection-observer/intersection-observer.js");var r=a("./node_modules/react/index.js"),o=a.n(r),s=a("./node_modules/react-dom/index.js"),i=a.n(s),l=a("./node_modules/react-gtm-module/dist/index.js"),c=a.n(l),u=a("./node_modules/react-redux/es/index.js"),m=a("./node_modules/react-router-dom/esm/react-router-dom.js"),d=a("./node_modules/js-cookie/src/js.cookie.js"),p=a.n(d),f=a("./node_modules/secp256k1/elliptic.js"),b=a.n(f),h=a("./node_modules/keccak/js.js"),y=a.n(h),g=a("./node_modules/randombytes/browser.js"),v=a.n(g),E=a("./node_modules/react-intercom/lib/index.js"),w=a.n(E),x=a("./node_modules/yup/lib/index.js");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var S=function(e){return e.scrollHeight},I=function(e){var t=window.location.search.substring(1);t=t.split("&");for(var a=[],n=0;n<t.length;n++)if(t[n].startsWith(e)){var r=t[n].split("=");a.push({key:r[0],val:r.length>1?r[1]:""})}return a},A=function(){return _(new URLSearchParams(document.location.search).entries()).reduce((function(e,t){var a,n,r,o=j(t,2),s=o[0],i=o[1];return Object.assign(e,(a={},n=s,r=i.replace(" ","+"),n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a))}),{})},P=function(e,t,a){var n=e&&e.permissions&&e.permissions.find((function(e){return e.target===t}));return!(!n||!n.level.includes(a))},T=function(e){return Date.parse(e)<(new Date).getTime()},C=function(e,t){var a=j(t,2),n=a[0],r=a[1];return("boolean"==typeof r||r)&&(e[n]=R(r)),e instanceof Array?e.some((function(e){return 1===Object.keys(e).length&&e.action}))?[]:e.filter((function(e){return 0!==Object.keys(e).length})):e},R=function(e){if(e instanceof Object){var t=e instanceof Array?[]:{};return Object.entries(e).reduce(C,t)}return e},M=function(e){var t=encodeURIComponent;return Object.keys(e).map((function(a){return t(a)+"="+t(e[a])})).join("&")},D=function(e){var t,a,n=v()(32),r={address:"0x".concat((t=n,a=b.a.publicKeyCreate(t,!1).slice(1),y()("keccak256").update(a).digest().slice(-20).toString("hex")).toString("hex")),privateKey:n.toString("hex")};return e&&e(r),r},F=function(e){return e.toLowerCase().replace(/.silamoney.eth/g,"")},q=function(e,t){return e("teams.members.labels.roles.".concat(t))},L=function(e){return"owner"===e?1:"manager"===e?2:"developer"===e?3:4},U=function(e,t){return e&&e.replace("Team ","").match(/^[a-f0-9]{32}$/gm)?t:e},z=function(e){var t=new Date(e),a=t.getFullYear(),n=(1+t.getMonth()).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0"),o=t.toLocaleTimeString("en-US");return"".concat(n,"/").concat(r,"/").concat(a," ").concat(o)},V=function(e){var t=[];return e.street_address_1&&t.push(e.street_address_1),e.street_address_2&&t.push(e.street_address_2),e.city&&t.push("".concat(e.city,",")),e.state&&t.push("".concat(e.state,",")),e.postal_code&&t.push(e.postal_code),t.join(" ")},B=function(e,t){for(var a,n=["k","M","G","T","P","E","Z","Y"],r=n.length-1;r>=0;r--)if(e<=-(a=Math.pow(1e3,r+1))||e>=a)return+(e/a).toFixed(t)+n[r];return e},H=function(e){return e&&e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},K=function(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)},Y=function(e,t,a){var n=!0;if(!e&&!t)return n;var r=[t,"".concat(t,"$"),"".concat(t,"password"),"password".concat(t),"pass".concat(t,"$$")];if(e&&a&&null!==a&&(r.push(a),r.push("".concat(a,"$")),r.push("".concat(a,"password")),r.push("password".concat(a)),r.push("pass".concat(a,"$$"))),r.length>0)for(var o=0;o<r.length;o++)if(r[o]&&r[o].includes(e)){n=!1;break}return n},G=function(e,t){var a=new Date,n=new Date;n.setFullYear(a.getFullYear()+1),p.a.set("".concat(e,"_").concat(t),(new Date).toString(),{expires:n})},W=function(e,t){Object(E.IntercomAPI)("showNewMessage",e("welcome.simple.blocks.onboarding.message")),window.analytics.track("Requested Production Access",{userId:t.entity.emails[0].email}),G("sila_console_prequalification",t.entity.handle)},$=function(e){var t="";return e.validation_details?function e(a,n){"object"===O(a)?Object.entries(a).forEach((function(r,o){var s=j(r,2),i=s[0],l=s[1];"object"===O(a[i])?e(a[i],i):t+="(".concat(n?"".concat(n,".").concat(i):i,") ").concat(l.split(".").join("")),t+=Object.keys(a).length-1!==o?", ":n?"":"."})):t=a}(e.validation_details):t=e.message?e.message.replace(/\\/g,""):JSON.stringify(e),t},Q=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return this.test("unique",t,(function(n){var r=_(new Set(n.map(a)));if(n.length===r.length)return!0;throw this.createError({path:"".concat(this.path,"[").concat(n.findIndex((function(e,t){return a(e)!==r[t]})),"].").concat(e),message:t})}))},Z=function(e,t,a){Object.values(e).map((function(e){return e instanceof Array?e.map((function(e){e.tempId&&delete e.tempId,e.uuid||e.id||(e.action="add")})):e})),a&&a(e,t)};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){ee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ee(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function te(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function ae(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){te(o,n,r,s,i,"next",e)}function i(e){te(o,n,r,s,i,"throw",e)}s(void 0)}))}}var ne=function(){var e=ae(regeneratorRuntime.mark((function e(t){var a,n,r,o,s,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.method||"GET",n="",o=t.headers||{Accept:"application/json","Content-Type":"application/json"},["GET"].indexOf(a)>-1&&t.data?n="?"+M(t.data):r=JSON.stringify(t.data),s=t.url+n,e.prev=5,e.next=8,fetch("/api/v2".concat(s),{method:a,headers:o,body:r});case 8:return i=e.sent,e.next=11,i.json();case 11:return(l=e.sent).segment_data={},p.a.get("sila_console_email")&&(l.segment_data.userId=p.a.get("sila_console_email")),parseInt(p.a.get("sila_console_team"))&&(l.segment_data.team_id=parseInt(p.a.get("sila_console_team"))),p.a.get("sila_console_team_name")&&(l.segment_data.team_name=p.a.get("sila_console_team_name")),e.abrupt("return",l);case 19:return e.prev=19,e.t0=e.catch(5),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t){return e.apply(this,arguments)}}(),re={get:function(e){return ne(Object.assign({method:"GET"},e))},post:function(e){return ne(Object.assign({method:"POST"},e))},put:function(e){return ne(Object.assign({method:"PUT"},e))},delete:function(e){return ne(Object.assign({method:"DELETE"},e))},sandboxToggle:function(){var e=ae(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne(Object.assign({method:"POST"},{url:"/sandbox",data:{sandbox:t}}));case 3:return(a=e.sent).user_approved&&window.analytics.track(t?"Changed to Sandbox":"Changed To Production",X({},a.segmentData)),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},oe=["members"],se=["invitations"];function ie(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return me(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){fe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function be(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function he(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){be(o,n,r,s,i,"next",e)}function i(e){be(o,n,r,s,i,"throw",e)}s(void 0)}))}}var ye=parseInt(p.a.get("sila_console_team")),ge={createTeamsForBothEnvs:function(){var e=he(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/create_teams_for_both_envs",data:{name:t,handle:a}});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return window.analytics.track("Account Admin::Created Team",pe({},n.segment_data)),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),updateTeam:function(){var e=he(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={team_name:a.name,email:a.entity.emails[0].email,phone:a.entity.phones[0].phone,address:{street:"".concat(a.entity.addresses[0].street_address_1," ").concat(a.entity.addresses[0].street_address_2),city:a.entity.addresses[0].city,state:a.entity.addresses[0].state,postalCode:a.entity.addresses[0].postal_code,country:a.entity.addresses[0].country}},e.prev=1,e.next=4,re.put({url:"/teams/".concat(t),data:R(a)});case 4:if((r=e.sent).success){e.next=7;break}throw $(r);case 7:return window.analytics.track("Account Admin::Modified Account Information",pe(pe({},r.segment_data),R(n))),e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),getTeamDetails:function(){var e=he(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/teams/".concat(t)});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",R(a.team));case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),inviteMember:function(){var e=he(regeneratorRuntime.mark((function e(t){var a,n,r,o,s,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:ye,n=i.length>2?i[2]:void 0,r=!1,e.prev=3,e.next=6,re.post({url:"/members",data:{member_email:t.member.email,team_id:a.id||a,role_id:parseInt(t.role.id),env:n,signup_step_completed:t.signup_step_completed?t.signup_step_completed:""}});case 6:if((o=e.sent).success){e.next=9;break}throw $(o);case 9:return e.prev=9,e.next=12,re.get({url:"/roles"});case 12:if((s=e.sent).success){e.next=15;break}throw $(s);case 15:s.roles.length&&s.roles.find((function(e){return e.id===parseInt(t.role.id)}))&&(r=s.roles.find((function(e){return e.id===parseInt(t.role.id)})).name),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(9),e.t0;case 21:return window.analytics.track("Account Admin::Team Management::Invite::Invited a Team Member",pe(pe({},o.segment_data),{},fe({email:t.member.email,env:n},r?"role_name":"role_id",r||parseInt(t.role.id)))),e.abrupt("return",o);case 26:throw e.prev=26,e.t1=e.catch(3),e.t1;case 29:case"end":return e.stop()}}),e,null,[[3,26],[9,18]])})));return function(t){return e.apply(this,arguments)}}(),getInvitation:function(){var e=he(regeneratorRuntime.mark((function e(t,a,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/invitation",data:{token:t,email:a,env:n}});case 3:if((r=e.sent).success){e.next=6;break}throw $(r);case 6:return e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteInvitation:function(){var e=he(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.delete({url:"/invitation/".concat(t)});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),confirmMember:function(){var e=he(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/invitation",data:{token:t.token,email:t.email,env:t.env}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:window.analytics.track("Account Admin::Team Management::Invite::Team Member Confirmed",{userId:a.segment_data.userId,name:t.name,handle:t.handle,email:t.email,confirmed_at:(new Date).toString(),team_name:a.team_name,role_name:a.role_name}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getMember:function(){var e=he(regeneratorRuntime.mark((function e(t){var a,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:ye,e.prev=1,e.next=4,re.get({url:"/members/".concat(t),data:{team_id:a.id||a}});case 4:if((r=e.sent).success){e.next=7;break}throw $(r);case 7:return window.analytics.track("Account Admin::Team Management::User Information::Viewed Member",pe(pe({},r.segment_data),{},(fe(n={name:r.member.name,handle:r.member.handle,confirmed_at:r.member.confirmed_at},a.name?"team_name":"team_id",a.name||a),fe(n,"role_name",r.role.name),n))),e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),updateMember:function(){var e=he(regeneratorRuntime.mark((function e(t){var a,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:ye,e.prev=1,e.next=4,re.post({url:"/members/".concat(t.member.id),data:{team_id:a.id||a,role_id:t.role.id}});case 4:if((n=e.sent).success){e.next=7;break}throw $(n);case 7:return window.analytics.track("Acount Admin::Team Management::User Information::Modified Member",pe(pe({},n.segment_data),{},{name:t.member.name,handle:t.member.handle,role_name:t.role.name})),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),deleteMember:function(){var e=he(regeneratorRuntime.mark((function e(t){var a,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:ye,e.prev=1,e.next=4,re.delete({url:"/members/".concat(t.member.id),data:{team_id:a.id||a}});case 4:if((n=e.sent).success){e.next=7;break}throw $(n);case 7:return window.analytics.track("Account Admin::Team Management::Deleted a Team Member",pe(pe({},n.segment_data),{},{handle:t.member.handle,name:t.member.name,role_name:t.role.name})),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),fetchTeams:function(){var e=he(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/teams"});case 3:if((t=e.sent).success){e.next=6;break}throw $(t);case 6:return e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),fetchMembers:function(){var e=he(regeneratorRuntime.mark((function e(t){var a,n,r,o,s,i,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([re.get({url:"/members",data:{team_id:t.team,limit:t.limit,page:t.page||1}}),re.get({url:"/invitations",data:{team_id:t.team,limit:t.limit,page:t.page||1}})]);case 3:if(a=e.sent,n=ce(a,2),r=n[0],o=n[1],r.success){e.next=11;break}throw $(r);case 11:if(o.success){e.next=13;break}throw $(o);case 13:return s=r.members,i=le(r,oe),l=o.invitations,c=le(o,se),u=i.pagination.total_pages>=c?i:c,e.abrupt("return",pe(pe({},u),{},{members:[].concat(ie(s),ie(l.map((function(e){return{invitation:e}}))))}));case 20:throw e.prev=20,e.t0=e.catch(0),e.t0;case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),updateTeamName:function(){var e=he(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={team_name:a.name},e.prev=1,e.next=4,re.put({url:"/teams/".concat(t),data:R(a)});case 4:if((r=e.sent).success){e.next=7;break}throw $(r);case 7:return window.analytics.track("Account Admin::Modified Team Name",pe(pe({},r.segment_data),n)),e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()};function ve(e){throw new TypeError('"'+e+'" is read-only')}function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach((function(t){xe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function _e(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Ne(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){_e(o,n,r,s,i,"next",e)}function i(e){_e(o,n,r,s,i,"throw",e)}s(void 0)}))}}var ke=parseInt(p.a.get("sila_console_team")),Se=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a,n,r,o,s,i,l,c,u,m,d,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>1&&void 0!==f[1]?f[1]:ke,e.prev=1,e.next=4,Promise.all([re.get({url:"/teams"}),re.get({url:"/check_approved"})]);case 4:if(n=e.sent,r=Oe(n,2),o=r[0],s=r[1],o.success){e.next=11;break}throw window.analytics.track("Failed to retrieve teams",we(we({},o.segment_data),{},{error:JSON.stringify(o.message)})),$(o);case 11:if(!o.success||!o.teams.length){e.next=42;break}return t.user.teams=o.teams,a&&o.teams.some((function(e){return e.team.id===a}))?t.user.currentTeam=o.teams.find((function(e){return e.team.id===a})).team:(p.a.set("sila_console_team",o.teams[0].team.id),p.a.set("sila_console_team_name",o.teams[0].team.name),t.user.currentTeam=o.teams.find((function(e){return e.team.id===o.teams[0].team.id})).team),e.prev=14,e.next=17,Promise.all([re.get({url:"/apps",data:{team_id:t.user.currentTeam.id,limit:1,page:1}}),ge.fetchMembers({team:t.user.currentTeam.id,limit:2}),re.get({url:"/teams/".concat(t.user.currentTeam.id)}),re.get({url:"/members/".concat(t.user.entity.id),data:{team_id:t.user.currentTeam.id}})]);case 17:if(i=e.sent,l=Oe(i,4),c=l[0],u=l[1],m=l[2],d=l[3],c.success){e.next=25;break}throw $(c);case 25:if(u.success){e.next=27;break}throw $(u);case 27:if(m.success){e.next=29;break}throw $(m);case 29:if(d.success){e.next=31;break}throw $(d);case 31:t.user.hasApps=0!==c.apps.length,t.user.hasMembers=u.members.length>1,t.user.approved=s.success,t.user.currentTeam=we(we({},t.user.currentTeam),m.team),t.user.permissions=d.role.permissions,t.user.role=d.role.id,e.next=42;break;case 39:throw e.prev=39,e.t0=e.catch(14),e.t0;case 42:return e.abrupt("return",t);case 45:throw e.prev=45,e.t1=e.catch(1),e.t1;case 48:case 49:case"end":return e.stop()}}),e,null,[[1,45],[14,39]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Ne(regeneratorRuntime.mark((function e(){var t,a,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:ke,e.prev=1,e.next=4,re.get({url:"/session_validation"});case 4:if((a=e.sent).success){e.next=9;break}throw $(a);case 9:if(a.user.frozen){e.next=21;break}return e.prev=10,e.next=13,Se(a,t);case 13:if(!(n=e.sent).success){e.next=16;break}return e.abrupt("return",n);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(10),e.t0;case 21:e.next=26;break;case 23:throw e.prev=23,e.t1=e.catch(1),e.t1;case 26:case"end":return e.stop()}}),e,null,[[1,23],[10,18]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/account/confirm/".concat(t)});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:window.analytics.track("Confirmed Email",we({},a.segment_data)),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/has_login",data:{email:t}});case 3:if((a=e.sent).success){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",a.has_login);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,e.next=4,re.post({url:"/login",data:{user_handle:F(t.handle),passphrase:t.password,sila_device_id:p.a.get("sila_console_device_id"),user_agent:navigator.userAgent,via:t.via?t.via:"login"}});case 4:if((n=e.sent).success){e.next=8;break}return window.analytics.track("Login::Failed Login",we(we({},n.segment_data),{},{error:JSON.stringify(n)})),e.abrupt("return",n);case 8:if(!(n.total_count&&n.total_count>1)){e.next=10;break}return e.abrupt("return",n);case 10:if(!n.user||!n.user.mfa_required){e.next=12;break}return e.abrupt("return",n);case 12:return p.a.get("sila_console_registered")||p.a.set("sila_console_registered",!0),p.a.set("sila_console_handle",n.user.entity.handle),p.a.set("sila_console_email",n.user.entity.emails[0].email),a.first_name=n.user.entity.first_name,a.last_name=n.user.entity.surname,a.name=n.user.entity.full_name,n.user.entity.emails.length&&(a.email=n.user.entity.emails[0].email),n.user.entity.phones.length&&(a.phone=n.user.entity.phones[0].phone),e.prev=20,e.next=23,Se(n);case 23:(r=e.sent).success||(n=r),window.analytics.track("Login::Completed Login",we({},n.segment_data)),window.analytics.identify(n.segment_data.userId,we(we({},n.segment_data),a)),e.next=33;break;case 29:throw e.prev=29,e.t0=e.catch(20),window.analytics.track("Login::Failed Login",we(we({},n.segment_data),{},{error:JSON.stringify(e.t0)})),e.t0;case 33:return e.abrupt("return",n);case 36:throw e.prev=36,e.t1=e.catch(1),window.analytics.track("Login::Failed Login",we({},response.segment_data)),e.t1;case 40:case"end":return e.stop()}}),e,null,[[1,36],[20,29]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Ne(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/logout"});case 3:if((t=e.sent).success){e.next=6;break}throw $(t);case 6:return window.analytics.track("Successfully Logged Out",we({},t.segment_data)),p.a.remove("sila_console_handle"),p.a.remove("sila_console_email"),p.a.remove("sila_console_team"),p.a.remove("sila_console_team_name"),p.a.remove("sila_console_referrer"),e.abrupt("return",t.message);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a,n,r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=I("utm_"),n={first_name:t.first_name,last_name:t.surname,company_name:t.company_name,email:t.email,phone:t.phone,name:"".concat(t.first_name," ").concat(t.surname),privacy_policy_accept:t.privacy_policy_accept,created_at:(new Date).toString()},r={passphrase:t.password,company_name:t.company_name,entity:{first_name:t.first_name,surname:t.surname,full_name:"".concat(t.first_name," ").concat(t.surname),emails:[{email:t.email,primary:!0}],phones:[{phone:t.phone,primary:!0}]}},t.invitation_token&&(r.invitation_token=t.invitation_token,r.invitation_env=t.invitation_env),o=0;o<a.length;o++)n[a[o].key]=a[o].val;return e.prev=5,e.next=8,re.post({url:"/profile",data:r});case 8:if((s=e.sent).success){e.next=11;break}throw $(s);case 11:return p.a.get("sila_console_registered")||p.a.set("sila_console_registered",!0),window.analytics.track("Register::Completed Console Registration",we(we({},s.segment_data),n)),window.analytics.identify(s.segment_data.userId,we(we({},s.segment_data),{},{first_name:t.first_name,last_name:t.surname,company_name:t.company_name,name:"".concat(t.first_name," ").concat(t.surname),email:t.email,phone:t.phone})),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(5),window.analytics.track("Register::Failed Console Registration",{userId:t.email}),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Ne(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/resend_verification_email",data:{handle:t,email:a}});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return window.analytics.track("Resent Verification Email",we({},n.segment_data)),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),De=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/profile",data:{login:{entity:R(we(we({},t),{},{full_name:t.first_name&&t.surname?"".concat(t.first_name," ").concat(t.surname):t.full_name}))}}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return window.analytics.track("Profile::Modified Account Information",we({},a.segment_data)),window.analytics.identify(a.segment_data.userId,we(we({},a.segment_data),{},{first_name:t.first_name,last_name:t.surname,name:t.full_name,email:t.emails[0].email,phone:t.phones[0].phone})),e.abrupt("return",a.user.entity);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Ne(regeneratorRuntime.mark((function e(t,a,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/passphrase",data:{token:t,handle:F(a),passphrase:n}});case 3:if((r=e.sent).success){e.next=6;break}throw $(r);case 6:return window.analytics.track("Profile::Changed Password",we({},r.segment_data)),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),qe=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.delete({url:"/passphrase",data:t});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return window.analytics.track("Forgot Password::Requested A New Password",we({},a.segment_data)),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/check_handle",data:{entity:{handle:F(t)}}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/check_email",data:{user_handle:t}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/check_team_name",data:{name:t}});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Ne(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/confirm_passphrase",data:{user_handle:t,passphrase:a}});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Be=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/profile",data:{login:{passphrase:t}}});case 3:if((a=e.sent).success){e.next=8;break}throw $(a);case 8:window.analytics.track("Changed Password",we({},a.segment_data));case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/roles"});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",respponse.roles.find((function(e){return e.id===t})));case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/profile",data:{login:R(t)}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a.user.entity);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/accounts",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/decrypt_email",data:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Ne(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,re.post({url:"/mfa_verify",data:{mfa_code:a,user_handle:F(t),sila_device_id:p.a.get("sila_console_device_id"),user_agent:navigator.userAgent}});case 4:if(!(r=e.sent).verified){e.next=28;break}return window.analytics.track("MFA verify",we({},r.segment_data)),p.a.get("sila_console_registered")||p.a.set("sila_console_registered",!0),p.a.set("sila_console_handle",r.user.entity.handle),p.a.set("sila_console_email",r.user.entity.emails[0].email),n.first_name=r.user.entity.first_name,n.last_name=r.user.entity.surname,n.name=r.user.entity.full_name,r.user.entity.emails.length&&(n.email=r.user.entity.emails[0].email),r.user.entity.phones.length&&(n.phone=r.user.entity.phones[0].phone),e.prev=15,e.next=18,Se(r);case 18:e.sent.success||ve("response"),window.analytics.track("Login::Completed Login",we({},r.segment_data)),window.analytics.identify(r.segment_data.userId,we(we({},r.segment_data),n)),e.next=28;break;case 24:throw e.prev=24,e.t0=e.catch(15),window.analytics.track("Login::Failed Login",we(we({},r.segment_data),{},{error:JSON.stringify(e.t0)})),e.t0;case 28:return e.abrupt("return",r);case 31:throw e.prev=31,e.t1=e.catch(1),e.t1;case 34:case"end":return e.stop()}}),e,null,[[1,31],[15,24]])})));return function(t,a){return e.apply(this,arguments)}}(),$e={combinerUserData:Se,refreshSession:Ie,confirmRegistration:Ae,authenticate:Te,confirmAccountExists:Pe,logout:Ce,register:Re,resendVerificationEmail:Me,updateProfile:De,resetPassword:Fe,requestNewPassword:qe,checkTeamName:ze,checkHandle:Le,checkEmail:Ue,changePassword:Be,confirmPassword:Ve,fetchRole:He,updateSignUpStep:Ke,getAccounts:Ye,decryptEmail:Ge,mfaVerify:We,mfaCodeResend:function(){var e=Ne(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/mfa_code_resend",data:{user_handle:F(t),sila_device_id:p.a.get("sila_console_device_id"),user_agent:navigator.userAgent}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return window.analytics.track("MFA Code Resent",we({},a.segment_data)),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),mfaDeviceRemember:function(){var e=Ne(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/mfa_device_remember",data:{user_handle:F(t),remember_me:"yes"===a.mfa_device_remember,sila_device_id:p.a.get("sila_console_device_id"),user_agent:navigator.userAgent}});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return window.analytics.track("MFA Device Remember",we({},n.segment_data)),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()};function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(a),!0).forEach((function(t){Je(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xe(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function et(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Xe(o,n,r,s,i,"next",e)}function i(e){Xe(o,n,r,s,i,"throw",e)}s(void 0)}))}}var tt=parseInt(p.a.get("sila_console_team")),at=function(){var e=et(regeneratorRuntime.mark((function e(t){var a,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:tt,e.prev=1,e.next=4,re.post({url:"/apps",data:{name:t.name,brand_name:t.brand_name,handle:t.handle,address:t.blockchain_address,team_id:a}});case 4:if((n=e.sent).success){e.next=7;break}throw $(n);case 7:return window.analytics.track("Applications::Created New Application",Ze(Ze({},n.segment_data),{},{app_name:t.name,app_brand_name:t.brand_name,app_handle:t.handle,address:t.blockchain_address,frozen:t.frozen})),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=et(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/apps/".concat(t),data:{name:a.name,brand_name:a.brand_name,handle:a.handle,address:a.blockchain_address,frozen:a.frozen}});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return window.analytics.track("Applications::Modified Application",Ze(Ze({},n.segment_data),{},{app_id:t,app_name:a.name,app_brand_name:a.brand_name,app_handle:a.handle,address:a.blockchain_address,frozen:a.frozen})),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),rt=function(){var e=et(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.delete({url:"/apps/".concat(t)});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return window.analytics.track("Applications::Deleted Application",Ze(Ze({},n.segment_data),{},{app_id:t,app_name:a.name,app_handle:a.handle,address:a.blockchain_address,frozen:a.frozen})),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),ot=function(){var e=et(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/apps/".concat(t),data:{frozen:a.frozen}});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return window.analytics.track("Applications::".concat(a.frozen?"Froze":"Unfroze"," Application"),Ze(Ze({},n.segment_data),{},{app_id:t,app_name:a.name,app_handle:a.handle,address:a.blockchain_address,frozen:a.frozen})),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),st=function(){var e=et(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map((function(e){return re.get({url:"/apps/".concat(e)})})));case 3:if(a=e.sent){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a.map((function(e){return Ze(Ze({},e.metrics),{},{id:e.app.id})})));case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),it={createApp:at,updateApp:nt,deleteApp:rt,freezeApp:ot,fetchApps:function(){var e=et(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/apps",data:{team_id:t.team||tt,limit:t.limit||3,page:t.page||1}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),fetchMetrics:st,checkAppHandle:function(){var e=et(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/check_app_handle",data:{handle:t}});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};function lt(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=ut(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function ut(e,t){if(e){if("string"==typeof e)return mt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(a),!0).forEach((function(t){ft(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ft(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bt(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function ht(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){bt(o,n,r,s,i,"next",e)}function i(e){bt(o,n,r,s,i,"throw",e)}s(void 0)}))}}var yt=parseInt(p.a.get("sila_console_team")),gt=function(){var e=ht(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/endpoints/".concat(t),data:{app_id:a}});case 3:if(n=e.sent){e.next=6;break}throw $(n);case 6:return e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),vt=function(){var e=ht(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post({url:"/endpoints",data:{name:t.name,url:t.url,max_attempts:t.max_attempts,retry_interval:t.retry_interval,app_id:t.app_id,triggers:t.triggers}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return window.analytics.track("Developers::Webhooks::Created New Endpoint",pt(pt({},a.segment_data),{},{endpoint_id:a.endpoint.id,endpoint_name:a.endpoint.name,endpoint_url:a.endpoint.url,endpoint_app_id:a.endpoint.app_id,endpoint_triggers:a.endpoint.triggers,active:a.endpoint.active})),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=ht(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.put({url:"/endpoints/".concat(t),data:{name:a.name,url:a.url,max_attempts:a.max_attempts,retry_interval:a.retry_interval,app_id:a.app_id,triggers:a.triggers,active:a.active}});case 3:if((n=e.sent).success){e.next=6;break}throw $(n);case 6:return window.analytics.track("Developers::Webhooks::Modified Endpoint",pt(pt({},n.segment_data),{},{endpoint_id:n.endpoint.id,endpoint_name:n.endpoint.name,endpoint_url:n.endpoint.url,endpoint_app_id:n.endpoint.app_id,endpoint_triggers:n.endpoint.triggers,active:n.endpoint.active})),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),wt=function(){var e=ht(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.delete({url:"/endpoints/".concat(t.id),data:{app_id:t.app_id}});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return window.analytics.track("Developers::Webhooks::Deleted Endpoint",pt(pt({},a.segment_data),{},{endpoint_id:t.id,endpoint_name:t.name,endpoint_url:t.url,endpoint_app_id:t.app_id,endpoint_triggers:t.triggers,active:t.active})),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=ht(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/triggers"});case 3:if((t=e.sent).success){e.next=6;break}throw $(t);case 6:return e.abrupt("return",t.triggers);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=ht(regeneratorRuntime.mark((function e(t){var a,n,r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.apps.map((function(e){return re.get({url:"/endpoints",data:{app_id:e.id,limit:t.limit||8,page:t.page||1}})})));case 3:if(a=e.sent){e.next=6;break}throw $(a);case 6:n=[],r=ct(a);try{for(r.s();!(o=r.n()).done;)s=o.value,n=[].concat(lt(n),lt(s.endpoints))}catch(e){r.e(e)}finally{r.f()}return e.abrupt("return",{endpoints:n});case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=ht(regeneratorRuntime.mark((function e(){var t,a,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:yt,e.prev=1,e.next=4,re.get({url:"/endpoints",data:{team_id:t,is_disabled:!0}});case 4:if(a=e.sent){e.next=7;break}throw $(a);case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=ht(regeneratorRuntime.mark((function e(t){var a,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit||20,n=t.page||1,r=t.team||yt,e.prev=3,e.next=6,re.get({url:"/webhook_events?team_id=".concat(r,"&limit=").concat(a,"&page=").concat(n).concat(t.query?t.query:"")});case 6:if(o=e.sent){e.next=9;break}throw $(o);case 9:return e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(3),e.t0;case 15:case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=ht(regeneratorRuntime.mark((function e(t){var a,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:yt,e.prev=1,e.next=4,re.get({url:"/webhook_events/".concat(t),data:{team_id:a}});case 4:if(n=e.sent){e.next=7;break}throw $(n);case 7:return e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=ht(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map((function(e){return St(e.name)})));case 3:if(a=e.sent){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=ht(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/webhooks_event_sample/".concat(t)});case 3:if(a=e.sent){e.next=6;break}throw $(a);case 6:return e.abrupt("return",pt(pt({},a),{},{name:t}));case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),It={getEndpoint:gt,createEndpoint:vt,updateEndpoint:Et,deleteEndpoint:wt,getTriggers:xt,fetchEndpoints:Ot,fetchPayloads:kt,getWebhookEventSample:St,sendPayload:function(){var e=ht(regeneratorRuntime.mark((function e(t,a,n,r){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.parse(n),e.prev=1,e.next=4,re.post({url:"/webhook_event_send_sample_payload",data:{app_id:t,endpoint_uuid:a,payload:o}});case 4:if((s=e.sent).success){e.next=7;break}throw $(s);case 7:return window.analytics.track("Developers::Webhooks::Sent Test Webhook",pt(pt({},s.segment_data),{},{endpoint_app_id:t,endpoint_trigger:r})),e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),fetchWebhookEvents:_t,getWebhookEvent:Nt,resendWebhookEvent:function(){var e=ht(regeneratorRuntime.mark((function e(t){var a,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:yt,e.prev=1,e.next=4,re.put({url:"/webhook_events/".concat(t.uuid,"/resend"),data:{team_id:a}});case 4:if((n=e.sent).success){e.next=7;break}throw $(n);case 7:return window.analytics.track("Developers::Webhooks::Resend Webhook Event",pt(pt({},n.segment_data),{},{webhook_endpoint_name:t.webhook_endpoint_name})),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),fetchDisabledWebhooks:jt};function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(Object(a),!0).forEach((function(t){Tt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ct(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Rt(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Ct(o,n,r,s,i,"next",e)}function i(e){Ct(o,n,r,s,i,"throw",e)}s(void 0)}))}}var Mt={fetchConsoleUsers:function(){var e=Rt(regeneratorRuntime.mark((function e(t){var a,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit||20,n=t.page||1,r=t.query||"",e.prev=3,e.next=6,re.get({url:"/superuser/console_users?limit=".concat(a,"&page=").concat(n).concat(r)});case 6:if((o=e.sent).success){e.next=9;break}throw $(o);case 9:return e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(3),e.t0;case 15:case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),getConsoleUser:function(){var e=Rt(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/superuser/console_users/".concat(t)});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),updateConsoleUser:function(){var e=Rt(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.first_name&&a.last_name&&(a.full_name="".concat(a.first_name," ").concat(a.last_name)),e.prev=1,e.next=4,re.put({url:"/superuser/console_users/".concat(t),data:R(a)});case 4:if((n=e.sent).success){e.next=7;break}throw $(n);case 7:return e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),fetchEndUsers:function(){var e=Rt(regeneratorRuntime.mark((function e(t){var a,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"&sort_keys=last_verification_time_desc",a=t.limit||20,n=t.page||1,r=t.query.includes("last_verification_time")?t.query:"".concat(t.query).concat("&sort_keys=last_verification_time_desc"),e.prev=4,e.next=7,re.get({url:"/superuser/end_users?limit=".concat(a,"&page=").concat(n).concat(r)});case 7:if((o=e.sent).success){e.next=10;break}throw $(o);case 10:return e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(4),e.t0;case 16:case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),getEndUser:function(){var e=Rt(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/superuser/end_users/".concat(t)});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),updateEndUser:function(){var e=Rt(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.first_name&&a.last_name&&(a.full_name="".concat(a.first_name," ").concat(a.last_name)),a.identities&&a.identities.length&&(a.identities=a.identities.map((function(e){return"add"===e.action?Pt(Pt({},e),{},{identity_type:"business"===a.entity_type?"EIN":"SSN"}):e})).filter((function(e){return!e.identity.includes("*")}))),e.prev=2,e.next=5,re.put({url:"/superuser/end_users/".concat(t),data:R(a)});case 5:if((n=e.sent).success){e.next=8;break}throw $(n);case 8:return e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}(),getVerificationStatuses:function(){var e=Rt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/verification_statuses"});case 3:if((t=e.sent).success){e.next=6;break}throw $(t);case 6:return e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getKycLevels:function(){var e=Rt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/kyc_levels"});case 3:if((t=e.sent).success){e.next=6;break}throw $(t);case 6:return e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),fetchTransactions:function(){var e=Rt(regeneratorRuntime.mark((function e(t){var a,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"&sort_keys=created_desc",a=t.limit||20,n=t.page||1,r=t.query.includes("created")?t.query:"".concat(t.query).concat("&sort_keys=created_desc"),e.prev=4,e.next=7,re.get({url:"/superuser/transactions?limit=".concat(a,"&page=").concat(n).concat(r)});case 7:if((o=e.sent).success){e.next=10;break}throw $(o);case 10:return e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(4),e.t0;case 16:case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),getTransaction:function(){var e=Rt(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get({url:"/superuser/transactions/".concat(t)});case 3:if((a=e.sent).success){e.next=6;break}throw $(a);case 6:return e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()};function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(a),!0).forEach((function(t){Lt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Lt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ut(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Bt=Object(r.createContext)(null),Ht={},Kt=function(){return Object(r.useContext)(Bt)},Yt=function(e){var t=zt(Object(r.useState)(Ht),2),a=t[0],n=t[1],s=zt(Object(r.useState)(!1),2),i=s[0],l=s[1],c=zt(Object(r.useState)(!1),2),u=c[0],m=c[1],d=function(e){e.user.frozen?l(!0):n(e)},p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.refreshSession(t);case 3:(n=e.sent)&&(d(n),a&&a(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,m(!0),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Ut(o,n,r,s,i,"next",e)}function i(e){Ut(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e,a){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){p()}),[]),o.a.createElement(Bt.Provider,Dt({value:qt(qt({},a),{},{authFrozen:i,authLoaded:u,onLogin:function(e){e&&(d(e),m(!0))},onLogout:function(){n(Ht),l(!1)},onUpdateUser:function(e,t){n(qt(qt({},a),{},{user:qt(qt({},a.user),e)})),t&&t()},onUpdateEnv:function(e){n(qt(qt({},a),{},{env:e}))},refreshSession:p})},e))};function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(a),!0).forEach((function(t){Jt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Jt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Xt=Object(r.createContext)(null),ea={settings:{filters:[]}},ta=p.a.get("sila_console_handle"),aa=function(){return{settings:Zt(Zt({},ea.settings),JSON.parse(localStorage.getItem("sila_console_settings_".concat(ta))))||ea.settings}},na=aa(),ra=function(){return Object(r.useContext)(Xt)},oa=function(e){var t=Wt(Object(r.useState)(na),2),a=t[0],n=t[1],s=function(e){return n((function(t){return Zt(Zt({},t),e)}))};return o.a.createElement(Xt.Provider,Gt({value:{app:a,updateApp:s,setAppData:function(e,t){for(var a in na=aa(),e)na.hasOwnProperty(a)&&(na[a]=e[a]);!function(e){e.settings&&localStorage.setItem("sila_console_settings_".concat(ta),JSON.stringify(Zt(Zt({},ea.settings),e.settings)))}(na),s(na),t&&t(na)}}},e))},sa=a("./node_modules/react-bootstrap/esm/Spinner.js"),ia=a("./node_modules/prop-types/index.js"),la=a.n(ia),ca=["className","label","style"];function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ma(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var da=function(e){var t=e.className,a=e.label,n=e.style,r=ma(e,ca);return o.a.createElement("div",{className:"content-loading d-flex justify-content-center align-items-center"},o.a.createElement("div",{className:"".concat(t?"".concat(t," "):"","loader text-center")},!n&&o.a.createElement(sa.a,ua({animation:"border",role:"status",variant:"primary"},r),o.a.createElement("span",{className:"sr-only"},"Loading....")),"dots"===n&&o.a.createElement("div",{className:"dots"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)),a&&o.a.createElement("p",{className:"text-meta text-sm mt-2",dangerouslySetInnerHTML:{__html:a}})))};da.propTypes={label:la.a.string,style:la.a.string};var pa=da,fa=function(e){return{type:"SET_LOADING",value:e}},ba=function(e,t){return{type:"UPDATE_VALUE",name:e,value:t}},ha=function(e,t){return{type:"UPDATE_VALUES",payload:{name:e,values:t}}},ya=function(e,t){return{type:"ADD_ITEM",item:{type:e,data:t}}},ga=function(e,t){return{type:"EDIT_ITEM",item:{type:e,data:t}}},va=function(e,t){return{type:"DELETE_ITEM",item:{type:e,id:t}}},Ea=function(e,t,a){return{type:"ADD_CHILD_ITEM",item:{type:e,parent:t,data:a}}},wa=function(e,t){return{type:"DELETE_CHILD_ITEMS",item:{type:e,id:t}}},xa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=e.find((function(e){return e.parent===t}));return a?e.filter((function(e){return e.parent==a.parent})):[]},Oa={setLoading:fa,updateValue:ba,updateValues:ha,addItem:ya,editItem:ga,deleteItem:va,addChildItem:Ea,deleteChildItems:wa,getChildItems:xa},ja=a("./node_modules/redux/es/redux.js"),_a=a("./node_modules/redux-thunk/es/index.js"),Na=a("./node_modules/node-uuid/uuid.js"),ka=a.n(Na);function Sa(e){return function(e){if(Array.isArray(e))return Ia(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ia(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(a),!0).forEach((function(t){Ta(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Aa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ta(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ca,Ra=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LOADING":return Pa(Pa({},t),{},{isLoading:a.value});case"UPDATE_VALUE":return Pa(Pa({},t),{},Ta({},a.name,a.value));case"UPDATE_VALUES":return Pa(Pa({},t),{},Ta({},a.form.name,Pa({},a.form.values)));case"ADD_ITEM":return Pa(Pa({},t),{},Ta({},a.item.type,[].concat(Sa(t[a.item.type]),[Pa(Pa({},a.item.data),{},{id:ka()()})])));case"ADD_CHILD_ITEM":return Pa(Pa({},t),{},Ta({},a.item.type,[].concat(Sa(t[a.item.type]),[Pa(Pa({},a.item.data),{},{parent:a.item.parent})])));case"EDIT_ITEM":return Pa(Pa({},t),{},Ta({},a.item.type,t[a.item.type].map((function(e){return e.id!==a.item.data.id?e:Pa(Pa({},e),a.item.data)}))));case"DELETE_ITEM":return Pa(Pa({},t),{},Ta({},a.item.type,Sa(t[a.item.type].filter((function(e){return e.id!==a.item.id})))));case"DELETE_CHILD_ITEMS":return Pa(Pa({},t),{},Ta({},a.item.type,Sa(t[a.item.type].filter((function(e){return e.parent!==a.item.id})))));default:return t}}},Ma={isLoading:!1,menuVisible:!1,invitation:!1,validation:{checkPassword:{},confirmPassword:{},checkTeamName:{},checkHandle:{},checkEmail:{}},registration:{inProgress:!1},alerts:[]},Da={actions:n,configureStore:function(){return Object(ja.d)(Object(ja.c)({console:Ra(Ma)}),Object(ja.a)(_a.a))}},Fa=a("./node_modules/react-router/esm/react-router.js"),qa=a("./node_modules/react-i18next/dist/es/useTranslation.js"),La=a("./node_modules/react-idle-timer/dist/index.es.js");function Ua(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var za=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Va="entered",Ba="exiting",Ha="exited",Ka=(Ua(Ca={},"entering","collapsing"),Ua(Ca,Va,"collapse show"),Ua(Ca,Ba,"collapsing"),Ua(Ca,Ha,"collapse"),Ca),Ya=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],Ga="/welcome",Wa="/error/frozen",$a="/register",Qa="account-created",Za="team-created",Ja="questionnaire",Xa=/^([0-9]( |-)?)?(\(?[0-9]{3}\)?|[0-9]{3})( |-)?([0-9]{3}( |-)?[0-9]{4}|[a-zA-Z0-9]{7})$/,en=/^(?!000|666)[0-9]{3}([ -]?)(?!00)[0-9]{2}\1(?!0000)[0-9]{4}$/,tn=/^(0[1-6]||1[0-6]|2[0-7]|[345]\d|[68][0-8]|7[1-7]|9[0-58-9])-?\d{7}$/,an=/^[0-9a-f]{8}-?[0-9a-f]{4}-?[0-5][0-9a-f]{3}-?[089ab][0-9a-f]{3}-?[0-9a-f]{12}$/i,nn=/^[0-9]{5}(?:-[0-9]{4})?$/,rn=/^0x[a-fA-F0-9]{40}$/,on=[{email:"",action:"add"}],sn=[{phone:"",action:"add"}],ln=[{action:"add",street_address_1:"",street_address_2:null,city:"",state:"",postal_code:""}],cn=["SAME_DAY_ACH","STANDARD_ACH","INSTANT_ACH","NON_ACH","CARD"],un=function(){var e=Object(Fa.g)();return Object(r.useEffect)((function(){var t=e.listen((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}));return function(){return t()}}),[]),null},mn=a("./node_modules/react-bootstrap/esm/Modal.js"),dn=a("./node_modules/react-bootstrap/esm/Button.js");function pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(a),!0).forEach((function(t){bn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function bn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hn(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function yn(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){hn(o,n,r,s,i,"next",e)}function i(e){hn(o,n,r,s,i,"throw",e)}s(void 0)}))}}var gn=function(e){var t=e.show,a=e.data,n=e.actions,r=Kt(),s=r.user,i=r.onUpdateUser,l=Object(qa.a)().t,c=U(a.team_name,s.company.name),u=function(){n.updateValue("invitation",!1),p.a.get("sila_console_invitation")&&p.a.remove("sila_console_invitation")},m=function(){var e=yn(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.fetchTeams();case 3:a=e.sent,n.addItem("alerts",{message:l("invite.messages.success",{team:c,role:l("teams.members.labels.roles.".concat(t.role_name)),env:K(t.env)}),style:"success"}),i({teams:a.teams}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.addItem("alerts",{message:e.t0,style:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=yn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.prev=1,e.next=4,ge.confirmMember(fn(fn({},t),{},{name:"".concat(s.entity.first_name," ").concat(s.entity.surname),handle:s.entity.handle,email:s.entity.emails[0].email}));case 4:m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"});case 10:return e.prev=10,u(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(mn.a,{id:"invite-modal",backdrop:"static",show:t,onHide:u,"aria-labelledby":"invite-modal-title"},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"invite-modal-title"},l("invite.messages.title",{team:c}))),o.a.createElement(mn.a.Body,null,o.a.createElement("p",{className:"text-lg"},l("invite.messages.confirm",{team:c,role:l("teams.members.labels.roles.".concat(a.role_name)),env:K(a.env)}))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:"outline-light",onClick:function(){return u()}},l("common:buttons.cancel")),o.a.createElement(dn.a,{className:"text-uppercase",variant:"primary",onClick:function(){return d(a)}},l("invite.messages.button"))))};gn.propTypes={show:la.a.oneOfType([la.a.bool.isRequired,la.a.object.isRequired]),data:la.a.oneOfType([la.a.bool.isRequired,la.a.object.isRequired])};var vn=gn,En=a("./node_modules/react-helmet/es/Helmet.js");function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var On=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},jn=function(){var e=wn(Object(r.useState)(On()),2),t=e[0],a=e[1];return Object(r.useEffect)((function(){var e=null,t=function(){clearTimeout(e),e=setTimeout((function(){return a(On())}),150)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),t};function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var kn=function(e,t){var a=_n(Object(r.useState)(e),2),n=a[0],o=a[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){o(e)}),t);return function(){clearTimeout(a)}}),[e]),n};function Sn(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function An(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?In(Object(a),!0).forEach((function(t){Pn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):In(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Tn(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||Rn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){if(e){if("string"==typeof e)return Mn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Mn(e,t):void 0}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Dn=function(e,t,a){var n,o,s,i=Cn(Object(r.useState)(a),2),l=i[0],c=i[1],u=Cn(Object(r.useState)(!0),2),m=u[0],d=u[1],p=Cn(Object(r.useState)(!1),2),f=p[0],b=p[1],h=Cn(Object(r.useState)(!1),2),y=h[0],g=h[1],v=Cn(Object(r.useState)([]),2),E=v[0],w=v[1],x=Cn(Object(r.useState)(1),2),O=x[0],j=x[1],_=Cn(Object(r.useState)(!1),2),N=_[0],k=_[1],S=function(){var t,a=(t=regeneratorRuntime.mark((function t(a,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,e(An(An({},a),{},{page:a.page||O}));case 4:(r=t.sent).pagination&&r.pagination.current_page&&(k(r.pagination.current_page<r.pagination.total_pages),r.pagination.current_page<r.pagination.total_pages&&j(r.pagination.current_page+1)),w((function(e){return y?r[a.slug]:[].concat(Sn(e),Sn(r[a.slug]))})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:return t.prev=12,d(!1),c(!1),n&&n(),t.finish(12);case 17:case"end":return t.stop()}}),t,null,[[1,9,12,17]])})),function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function s(e){Tn(o,n,r,s,i,"next",e)}function i(e){Tn(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e,t){return a.apply(this,arguments)}}(),I=(n=function(e){e&&S(t)},o=[O,E],s=Object(r.useRef)(null),Object(r.useCallback)((function(e){s.current&&s.current.disconnect(),s.current=new IntersectionObserver((function(e){var t=Cn(e,1)[0];n(t.isIntersecting&&N)})),e&&s.current.observe(e)}),o));return Object(r.useEffect)((function(){y&&(j(1),c(!0),S(An(An({},t),{},{page:1}),(function(){g(!1)})))}),[y]),Object(r.useEffect)((function(){var e=!1;if(m)return!e&&a&&(c(!0),S(t,(function(){b(!0),g(!1)}))),function(){e=!0}}),[a]),{data:E,setData:w,setRefresh:g,lastItem:I,hasMore:N,isLoading:l,isFetching:m,setIsFetching:d,setIsLoading:c,loaded:f,setLoaded:b}};var Fn=["route","state","actions"];function qn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ln(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(a),!0).forEach((function(t){Un(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Un(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Vn=function(e){var t,a,n=e.route,s=e.state,i=e.actions,l=zn(e,Fn),c=Kt(),u=c.user,m=c.env,d=c.authFrozen,f=ra().app,b=Object(qa.a)().t,h=jn(),y=Ln(Ln({},l),{},(Un(t={t:b,user:u,state:s,actions:i,env:m},"user",u),Un(t,"app",f),Un(t,"frozen",d),Un(t,"isMobile",h<=576),t));return Object(r.useEffect)((function(){return function(){var e={title:n.name,url:window.location.href,path:l.location.pathname,referrer:{pathname:l.location.state&&l.location.state.from?l.location.state.from:"/"}};u&&(e.userId=u.entity.emails[0].email,e.team_id=u.currentTeam.id,e.team_name=u.currentTeam.name,e.company_name=u.company.name),(!n.disableTracking&&!n.routes||n.routes&&n.routes.some((function(e){return!e.disableTracking})))&&(window.analytics.page(e.title,e),p.a.set("sila_console_referrer",l.location.pathname))}}),[l.location.pathname]),Object(r.useEffect)((function(){s.isLoading&&i.setLoading(!1)}),[]),("/"===(a=l.location.pathname).substr(-1)?a.substr(0,a.length-1):a)!==n.path&&n.routes?o.a.createElement(Zn,{routes:n.routes,state:s,actions:i}):o.a.createElement(o.a.Fragment,null,o.a.createElement(En.a,null,o.a.createElement("title",null,n.seo&&n.seo.title?n.seo.title:"".concat(b("seo.title")," - ").concat(n.name)),o.a.createElement("meta",{name:"description",content:n.seo&&n.seo.description?n.seo.description:n.seo&&n.seo.title?"".concat(b("seo.title")," - ").concat(n.name):b("seo.description")}),o.a.createElement("link",{rel:"canonical",href:window.location.href})),o.a.createElement(n.layout,y,o.a.createElement(n.component,y)))};Vn.propTypes={route:la.a.object.isRequired,state:la.a.object.isRequired,actions:la.a.object.isRequired};var Bn=Vn,Hn=function(e,t){return e.some((function(e){return e.routes?e.routes.some((function(e){return e.admin&&e.path.includes(t)})):e.admin&&e.path.includes(t)}))},Kn=function(e){var t=e.from,a=e.routes,n=e.noRedirect,r=Kt(),s=r.user,i=r.authFrozen,l=Object(Fa.h)(),c=t&&s&&!s.is_superuser&&!Hn(a,t)||t&&s&&s.is_superuser&&Hn(a,t)?t:Ga;return o.a.createElement(Fa.a,{to:{pathname:s?c:i?Wa:"/"!==l.pathname||p.a.get("sila_console_registered")?"/login":$a,state:n?void 0:{from:window.location.pathname+window.location.search}}})};Kn.propTypes={from:la.a.string,routes:la.a.array,noRedirect:la.a.bool};var Yn=Kn,Gn=function(){var e=Object(Fa.g)();return Object(r.useEffect)((function(){e.push("/not_found")}),[]),null},Wn=function(e){var t=e.children;return o.a.createElement(Fa.d,null,t,o.a.createElement(Gn,null))};function $n(){return($n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Qn=function(e){var t=e.routes,a=e.state,n=e.actions,r=Kt(),s=r.user,i=r.authFrozen,l=Object(qa.a)().t,c=function(e){return s&&s.is_superuser&&e.admin||s&&e.restricted||!s&&!i&&!e.restricted&&!e.admin||i&&e.frozen||e.all};return o.a.createElement(Wn,null,t.map((function(e,r){return o.a.createElement(Fa.b,{key:r,path:e.path,exact:e.exact,strict:e.strict,render:function(r){return(e.routes?e.routes.some((function(e){return c(e)})):c(e))?o.a.createElement(Bn,$n({t:l,route:e,state:a,actions:n},r)):o.a.createElement(Yn,{from:r.location.state&&r.location.state.from?r.location.state.from:void 0,routes:t})}})})))};Qn.propTypes={routes:la.a.array.isRequired,state:la.a.object.isRequired,actions:la.a.object.isRequired};var Zn=Qn,Jn=a("./node_modules/react-bootstrap/esm/Container.js"),Xn=a("./node_modules/react-bootstrap/esm/Col.js"),er=a("./node_modules/react-bootstrap/esm/Alert.js"),tr=a("./node_modules/classnames/index.js"),ar=a.n(tr);function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var or=function(e){var t=e.alert,a=e.deleteAlert,n=e.className,s=nr(Object(r.useState)(!0),2),i=s[0],l=s[1],c="success"===t.style?"check":"danger"===t.style?"exclamation":"info",u=ar()(n,"alert-app m-0 rounded-0 pr-0 loaded",t.dismissible&&"alert-dismissible pr-5"),m=Object(Fa.h)(),d=Object(qa.a)().t,p=Kt().user;return Object(r.useEffect)((function(){var e,n;return i?t.dismissible||(e=setTimeout((function(){return l(!1)}),5e3)):n=setTimeout((function(){return a(t.id)}),500),function(){return clearTimeout(e,n)}}),[i]),o.a.createElement(er.a,{key:t.id,variant:t.style,className:u,show:i},o.a.createElement(Jn.a,{fluid:!(!p||m.pathname.includes("register")),className:"d-flex my-auto p-0"},t.dismissible&&o.a.createElement(dn.a,{type:"button",variant:"link",className:"close p-0 mt-n2",onClick:function(){return l(!1)}},o.a.createElement("span",{"aria-hidden":"true"},"×"),o.a.createElement("span",{className:"sr-only"},d("common:buttons.close"))),t.heading&&o.a.createElement(er.a.Heading,null,t.heading),o.a.createElement("i",{className:"fas ".concat(t.icon?t.icon:"fa-".concat(c,"-circle")," mr-2")}),t.message))};or.propTypes={alert:la.a.object.isRequired};var sr=Object(u.b)(null,(function(e){return{deleteAlert:function(t){return e(va("alerts",t))}}}))(or),ir=function(e){var t=e.state,a=e.route,n=a&&"DefaultLayout"===a.layout.name;return o.a.createElement(Jn.a,{as:a?Xn.a:void 0,fluid:!0,className:"alerts",lg:n?{span:9,offset:3}:void 0,md:n?{span:10,offset:2}:void 0,sm:n?12:void 0},t.alerts.map((function(e,t){return o.a.createElement(sr,{className:"border-top-0 border-left-0 border-right-0",alert:e,key:t})})))};ir.propTypes={state:la.a.object.isRequired,route:la.a.object};var lr=ir,cr=a("./node_modules/react-bootstrap/esm/Row.js"),ur=a("./node_modules/react-bootstrap/esm/Navbar.js"),mr=a("./node_modules/stickybits/dist/stickybits.es.js"),dr=a("./node_modules/react-bootstrap/esm/Form.js"),pr=a("./node_modules/react-bootstrap/esm/InputGroup.js"),fr=a("./node_modules/react-bootstrap/esm/Dropdown.js"),br=a("./node_modules/react-bootstrap/esm/Nav.js"),hr=a("./node_modules/formik/dist/formik.esm.js"),yr=a("./node_modules/react-i18next/dist/es/withTranslation.js"),gr=a("./node_modules/react-bootstrap/esm/Overlay.js"),vr=a("./node_modules/react-bootstrap/esm/Tooltip.js"),Er=["id","note","name","className","type","form","children","autofocus","material","append","inputRef","readOnly","plaintext","error","handleBlur","handleFocus","hideError"];function wr(){return(wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Or(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function jr(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _r=function(e){var t=e.id,a=e.note,n=e.name,s=e.className,i=e.type,l=e.form,c=l.touched,u=l.errors,m=l.validateField,d=e.children,p=e.autofocus,f=e.material,b=e.append,h=e.inputRef,y=e.readOnly,g=e.plaintext,v=e.error,E=e.handleBlur,w=e.handleFocus,x=e.hideError,O=jr(e,Er),j=xr(Object(r.useState)(!1),2),_=j[0],N=j[1],k=xr(Object(r.useState)(!1),2),S=k[0],I=k[1],A=!x&&Object(hr.d)(c,n)&&Object(hr.d)(u,n)||!x&&Object(hr.d)(c,n)&&v,P=Object(r.useRef)(null),T=Object(r.useRef)(null),C=ar()(s,i,y&&"readonly",g&&"plaintext",p&&"autofocus",f&&"material",(_||A)&&"focused",A&&"err");return Object(r.useEffect)((function(){A&&I(!0)}),[A]),Object(r.useEffect)((function(){var e;return S&&(e=setTimeout((function(){return I(!1)}),3e3)),function(){return clearTimeout(e)}}),[S]),o.a.createElement(dr.a.Group,wr({controlId:t,className:C},O),o.a.cloneElement(d,{inputRef:h||P,focused:_,hasError:A,error:Object(hr.d)(u,n)||v,append:b||A?o.a.createElement(o.a.Fragment,null,b||null,A&&o.a.createElement(o.a.Fragment,null,o.a.createElement(dn.a,{ref:T,onClick:function(){return I(!S)},variant:"danger",className:"ml-2 btn-err btn-circle btn-circle-sm"},o.a.createElement("i",{className:"fas fa-exclamation"})),o.a.createElement(gr.a,{target:T.current,show:S,placement:"top"},o.a.createElement(vr.a,{className:"err-msg mb-1"},Object(hr.d)(u,n)||v)))):null,handleBlur:function(e){N(!1),d.props.validate&&m(e.target.name),E&&E(e)},handleFocus:function(e){N(!0),w&&w(e)}}),a&&o.a.createElement(dr.a.Text,{className:"text-meta"},a))};_r.propTypes={name:la.a.string.isRequired,form:la.a.object.isRequired};var Nr=_r,kr=["onBlur","onChange","onFocus","value"],Sr=["id","type","label","hasError","children","inputRef","field","fieldClass","labelClass","focused","handleBlur","handleFocus","handleChange","options","append","prepend","readOnly","disabled","autofocus","placeholder"];function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ar(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Pr=function(e){e.id,e.type;var t=e.label,a=e.hasError,n=e.children,r=e.inputRef,s=e.field,i=s.onBlur,l=s.onChange,c=s.onFocus,u=s.value,m=Ar(s,kr),d=e.fieldClass,p=e.labelClass,f=(e.focused,e.handleBlur),b=e.handleFocus,h=e.handleChange,y=e.options,g=e.append,v=e.prepend,E=e.readOnly,w=e.disabled,x=e.autofocus,O=e.placeholder,j=Ar(e,Sr),_=Object(qa.a)().t,N=ar()(!u&&"no-value",d&&d);return o.a.createElement(o.a.Fragment,null,x&&t&&u&&o.a.createElement(dr.a.Label,{className:"sr-only".concat(p?" ".concat(p):""),"aria-hidden":"true"},t),!x&&t&&o.a.createElement(dr.a.Label,{className:"mb-2".concat(p?" ".concat(p):"")},t),o.a.createElement("div",{className:"position-relative"},x&&t&&u&&o.a.createElement(dr.a.Label,{className:"shrink".concat(p?" ".concat(p):"")},t),o.a.createElement(pr.a,null,v&&o.a.createElement(pr.a.Prepend,{className:"d-flex align-items-center"},v),o.a.createElement(dr.a.Control,Ir({as:"select",className:N,isInvalid:a,ref:r,disabled:E||w,onBlur:function(e){i(e),f&&f(e)},onFocus:function(e){c&&c(e),b&&b(e)},onChange:function(e){l(e),h&&h(e)},value:null==u?"":u},m,j),x&&t&&!u&&o.a.createElement("option",{value:""},t),!x&&!u&&o.a.createElement("option",{value:""},O||_("common:form.fields.select.placeholder")),y.length>0&&y.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value,disabled:e.disabled},e.label)}))),g&&o.a.createElement(pr.a.Append,{className:"d-flex align-items-center"},g)),n))};Pr.propTypes={field:la.a.object.isRequired};var Tr=Pr,Cr=["id","children","label","inputRef","fieldClass","hasError","field","focused","handleBlur","handleFocus","handleChange","error"];function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Mr(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Dr=function(e){var t=e.id,a=e.children,n=e.label,r=e.inputRef,s=e.fieldClass,i=e.hasError,l=e.field,c=(e.focused,e.handleBlur,e.handleFocus,e.handleChange,e.error),u=Mr(e,Cr);return o.a.createElement(o.a.Fragment,null,a?o.a.createElement(dr.a.Check,Rr({custom:!0,id:t,className:s||void 0},u),o.a.createElement(dr.a.Check.Input,Rr({ref:r,isInvalid:i&&c},l)),o.a.createElement(dr.a.Check.Label,null,a||n)):o.a.createElement(dr.a.Check,Rr({custom:!0,id:t,className:s||void 0,ref:r,label:n,isInvalid:i&&c},l,u)),i&&c&&o.a.createElement(dr.a.Control.Feedback,{type:"invalid"},c))};Dr.propTypes={field:la.a.object.isRequired};var Fr=Dr,qr=a("./node_modules/zxcvbn/lib/main.js"),Lr=a.n(qr),Ur=["onBlur","onChange","onFocus","value"],zr=["id","type","label","placeholder","field","focused","hasError","children","handleBlur","handleFocus","handleChange","inputRef","fieldClass","labelClass","prepend","append","readOnly","plaintext","is"];function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Br(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Hr=function(e){e.id;var t=e.type,a=e.label,n=e.placeholder,s=e.field,i=s.onBlur,l=s.onChange,c=s.onFocus,u=s.value,m=Br(s,Ur),d=e.focused,p=e.hasError,f=e.children,b=e.handleBlur,h=e.handleFocus,y=e.handleChange,g=e.inputRef,v=e.fieldClass,E=e.labelClass,w=e.prepend,x=e.append,O=e.readOnly,j=e.plaintext,_=e.is,N=Br(e,zr),k=ar()((n||u||O||j||d&&!O||p||"date"===t)&&"shrink",E&&E),S=ar()(v&&v);return o.a.createElement(r.Fragment,null,a&&o.a.createElement(dr.a.Label,{className:k},a),o.a.createElement(pr.a,null,w&&o.a.createElement(pr.a.Prepend,{className:"d-flex align-items-center"},w),o.a.createElement(dr.a.Control,Vr({as:_||void 0,className:S,readOnly:O||void 0,type:t||void 0,onBlur:function(e){i(e),b&&b(e)},onFocus:function(e){c&&c(e),h&&h(e)},onChange:function(e){l(e),y&&y(e)},placeholder:n,isInvalid:p,ref:g,plaintext:j||void 0,value:null==u?"":u},m,N)),x&&o.a.createElement(pr.a.Append,{className:"d-flex align-items-center"},x)),f)};Hr.propTypes={field:la.a.object.isRequired};var Kr=Hr,Yr=["showstrength","children","handleChange","inputRef","hasError","form"];function Gr(){return(Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Wr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Zr(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Jr=function(e){var t=e.showstrength,a=e.children,n=e.handleChange,s=e.inputRef,i=e.hasError,l=e.form,c=l.status,u=l.setStatus,m=l.setFieldTouched,d=Zr(e,Yr),p=$r(Object(r.useState)(""),2),f=p[0],b=p[1],h=$r(Object(r.useState)(0),2),y=h[0],g=h[1],v=$r(Object(r.useState)(!1),2),E=v[0],w=v[1],x=kn(f,750),O=f.length,j=y>=3,_=O>8,N=ar()("badge badge-pill",_?j?"badge-success":"badge-warning":"badge-danger"),k=ar()("strength-meter mt-2",O>0?"visible":"invisible"),S=function(e){var t=Lr()(e).feedback;w(t.warning),m(d.field.name,!0),t.warning?u({errors:Wr({},d.field.name,t.warning)}):c&&c.errors&&c.errors[d.field.name]&&(delete c.errors[d.field.name],u(c))};return Object(r.useEffect)((function(){x&&t&&!E&&S(x)}),[x]),o.a.createElement("div",{className:"password-strength"},o.a.createElement(Kr,Gr({handleChange:function(e){var a=e.currentTarget.value,r=Lr()(a).score;n&&n(e),t&&(b(a),g(r),E&&S(a))},inputRef:s,hasError:E||i},d),a,t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:k},o.a.createElement("div",{className:"strength-meter-fill","data-strength":y})),o.a.createElement("div",{className:"position-absolute password-count mx-3"},o.a.createElement("span",{className:N},O?_?"".concat(8,"+"):O:"")))),t&&E&&o.a.createElement("p",{className:"text-danger text-sm m-0 loaded"},E))};Jr.propTypes={showstrength:la.a.bool,children:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node]),handleChange:la.a.func};var Xr=Jr,eo=["id","label","type","note","form","field","className","autofocus","material","prepend","append","inputRef","readOnly","plaintext","error","handleBlur","handleFocus","is","required","hideError"];function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ao(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var no=function(e){var t=e.id,a=e.label,n=e.type,r=e.note,s=e.form,i=e.field,l=e.className,c=e.autofocus,u=e.material,m=e.prepend,d=e.append,p=e.inputRef,f=e.readOnly,b=e.plaintext,h=e.error,y=e.handleBlur,g=e.handleFocus,v=e.is,E=e.required,w=e.hideError,x=ao(e,eo),O={id:t,type:n,note:r,name:i.name,className:l,form:s,autofocus:c,material:u,append:d,inputRef:p,readOnly:f,plaintext:b,error:h,handleBlur:y,handleFocus:g,hideError:w},j={autoComplete:"off",type:n,label:a,field:i,prepend:m,append:d,inputRef:p,readOnly:f,plaintext:b,is:v,required:E};switch(n){case"select":return o.a.createElement(Nr,O,o.a.createElement(Tr,to({},j,x,{autofocus:c})));case"checkbox":return o.a.createElement(Nr,O,o.a.createElement(Fr,to({},j,x)));case"password":return o.a.createElement(Nr,O,o.a.createElement(Xr,to({form:s},j,x)));default:return o.a.createElement(Nr,O,o.a.createElement(Kr,to({},j,x)))}};no.propTypes={form:la.a.object.isRequired,field:la.a.object.isRequired};var ro=no,oo=["loading","loadingLabel","children","disabled"];function so(){return(so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function io(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var lo=function(e){var t=e.loading,a=e.loadingLabel,n=e.children,r=e.disabled,s=io(e,oo),i=Object(qa.a)().t;return o.a.createElement(dn.a,so({disabled:t||r},s),t?o.a.createElement("span",{className:"d-flex align-items-center"},t&&o.a.createElement(sa.a,{animation:"border",role:"status",size:"sm",variant:"light",className:"mr-3"},o.a.createElement("span",{className:"sr-only"},i("common:status.loading"))),t&&a?a:i("common:status.submitting")):n)};lo.propTypes={loading:la.a.bool};var co=lo;function uo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(a),!0).forEach((function(t){po(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):uo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function po(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fo(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var yo=function(e){var t,a=e.t,n=e.actions,s=e.state,i=e.show,l=e.onHide,c=e.dirty,u=e.errors,m=e.isSubmitting,d=e.handleSubmit,p=e.resetForm,f=e.status,b=e.setStatus,h=e.setFieldTouched,y=e.touched,g=bo(Object(r.useState)(""),2),v=g[0],E=g[1],w=kn(v,750),x=function(e){p(),e?l(e):l()},O=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return b({pending:!0}),h("team_name",!1),n.updateValue("validation",mo(mo({},s.validation),{},{checkTeamName:{isValid:!1}})),e.prev=4,e.next=7,$e.checkTeamName(t);case 7:a=e.sent,r=!(!a||!0!==a.success),b({isValid:r,pending:!1}),n.updateValue("validation",mo(mo({},s.validation),{},{checkTeamName:{isValid:r}})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),b({isValid:!1,pending:!1}),n.updateValue("validation",mo(mo({},s.validation),{},{checkTeamName:{isValid:!1,error:e.t0}}));case 17:return e.prev=17,h("team_name",!0),e.finish(17);case 20:case 21:case"end":return e.stop()}}),e,null,[[4,13,17,20]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){fo(o,n,r,s,i,"next",e)}function i(e){fo(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){w&&O(w)}),[w]),o.a.createElement(mn.a,{id:"team-modal",backdrop:"static",show:i,onHide:x,"aria-labelledby":"team-modal-title"},o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:d},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"team-modal-title"},a("teams.modal.headers.create"))),o.a.createElement(mn.a.Body,null,o.a.createElement(hr.a,{required:!0,autofocus:!0,className:"teamName",id:"createTeamForm.team_name",label:a("common:form.fields.teamName.label"),name:"team_name",maxLength:90,handleChange:function(e){E(e.target.value),y[e.target.name]&&h(e.target.name,!1)},isValid:f&&f.isValid&&!f.pending&&y.team_name,component:ro,append:f&&f.pending?o.a.createElement(pa,{size:"sm",className:"mr-3"}):void 0})),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:"outline-light",onClick:function(e){e.preventDefault(),x()},disabled:m},a("common:buttons.cancel")),o.a.createElement(co,(po(t={type:"submit",loading:m},"type","submit"),po(t,"disabled",f&&f.pending||!f||!c||Object.keys(u).length),t),a("teams.modal.form.buttons.create")))))};yo.propTypes={actions:la.a.object.isRequired,state:la.a.object.isRequired,show:la.a.bool.isRequired,onHide:la.a.func.isRequired};var go=Object(hr.e)({mapPropsToValues:function(){return{team_name:""}},validationSchema:function(e){var t=e.t,a=e.state;return x.object().shape({team_name:x.string().trim().required(t("common:form.errors.required",{field:t("common:form.fields.teamName.label")})).max(56,t("common:form.errors.max",{count:56})).test("checkTeamName",t("common:form.errors.exists",{field:t("common:form.fields.teamName.label")})||t("common:status.validating"),(function(e){return a.validation.checkTeamName.isValid&&e}))})},handleSubmit:function(e,t){var a=t.props.onHide,n=t.setSubmitting,r=t.resetForm;n(!1),a(e.team_name),r()}})(yo),vo=Object(yr.a)()(go),Eo=a("./node_modules/react-transition-group/Transition.js"),wo=a.n(Eo),xo=["as","show","className","navbar","children","innerRef"];function Oo(){return(Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(a),!0).forEach((function(t){No(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function No(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ko(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function So(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ao=function(e){var t=So(Object(r.useState)(null),2),a=t[0],n=t[1],s=e.as,i=e.show,l=e.className,c=e.navbar,u=e.children,m=e.innerRef,d=ko(e,xo),p=_o({},za.reduce((function(e,t){return _o(_o({},e),{},No({},t,d[t]))}),{})),f=za.reduce((function(e,t){return delete e[t],e}),_o({},d));return o.a.createElement(wo.a,Oo({},p,{in:i,onEntering:function(t,a){n(S(t)),e.onEntering(t,a)},onEntered:function(t,a){n(null),e.onEntered(t,a)},onExit:function(t){n(S(t)),e.onExit(t)},onExiting:function(t){!function(e){e.offsetHeight}(t),n(0),e.onExiting(t)},onExited:function(t){n(null),e.onExited(t)}}),(function(e){var t={height:a||null,display:"exited"!==e&&"block"},n=ar()(l,Ka[e]||"collapse",c&&"navbar-collapse");return o.a.createElement(s,Oo({},f,{style:_o(_o({},f.style),t),className:n,ref:m}),u)}))};Ao.propTypes=_o(_o({},wo.a.propTypes),{},{show:la.a.bool,children:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node]),as:la.a.oneOfType([la.a.func,la.a.string,la.a.object]),className:la.a.node,navbar:la.a.bool,innerRef:la.a.oneOfType([la.a.func,la.a.string,la.a.object])}),Ao.defaultProps=_o(_o({},wo.a.defaultProps),{},{show:!1,appear:!1,enter:!0,exit:!0,as:"div",timeout:350});var Po=Ao;function To(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Mo=function(e){var t=e.actions,a=e.state,n=Kt(),s=n.user,i=n.refreshSession,l=Co(Object(r.useState)(!1),2),c=l[0],u=l[1],m=Co(Object(r.useState)(!1),2),d=m[0],f=m[1],b=Co(Object(r.useState)(s.currentTeam),2),h=b[0],y=b[1],g=Object(qa.a)().t,v=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=12;break}return e.prev=1,e.next=4,ge.createTeamsForBothEnvs(a,s.entity.handle);case 4:n=e.sent,t.addItem("alerts",{message:g("teams.modal.form.messages.success",{team:U(a,s.company.name)}),style:"success"}),E(n.team),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.addItem("alerts",{message:e.t0,style:"danger"});case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){To(o,n,r,s,i,"next",e)}function i(e){To(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return a.apply(this,arguments)}}(),E=function(e){t.setLoading(!0),y(e),p.a.set("sila_console_team",e.id),i(e.id,(function(){t.setLoading(!1)}))};return Object(r.useEffect)((function(){y(s.currentTeam)}),[s.currentTeam]),o.a.createElement("div",{className:"main-navbar__teams d-none d-md-flex d-lg-flex"},o.a.createElement(fr.a,{id:"teams-menu",as:br.a.Item,onToggle:function(){return u(!c)}},o.a.createElement(fr.a.Toggle,{id:"teams-toggle",size:"sm",variant:"outline-light",as:dn.a,className:"text-nowrap"},o.a.createElement("i",{className:"fas fa-link text-sm text-primary mr-2"})," ",U(h.name,s.company.name)," "," "),o.a.createElement(Po,{as:fr.a.Menu,className:"justify-content-end dropdown-menu-small scrollable-menu",show:c},o.a.createElement("div",{className:"overflow-auto border-bottom border-light pb-2 mb-2",style:{maxHeight:300}},s.teams.filter((function(e){return e.team.id!==h.id})).map((function(e){return o.a.createElement(fr.a.Item,{key:e.team.id,eventKey:e.team.id,onClick:function(){return E(e.team)}},e.team.name)}))),o.a.createElement(fr.a.Item,{onClick:function(){return f(!0)}},o.a.createElement("i",{className:"fas fa-plus-circle mr-2"})," ",g("header.teams.create")))),o.a.createElement(vo,{actions:t,state:a,show:d,onHide:v}))};Mo.propTypes={state:la.a.object.isRequired,actions:la.a.object.isRequired};var Do=Mo;function Fo(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lo(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Lo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Uo=function(e){var t=e.actions,a=Kt(),n=a.user,s=a.refreshSession,i=a.env,l=qo(Object(r.useState)("prod"===i),2),c=l[0],u=l[1],m=qo(Object(r.useState)(!1),2),d=m[0],p=m[1],f=Object(qa.a)().t,b=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),u(!0),e.prev=2,e.next=5,re.sandboxToggle(!a);case 5:o=e.sent,u(!o.sandbox_enabled),o.user_approved?(t.setLoading(!0),s(n.currentTeam.id,(function(){t.setLoading(!1),p(!1),t.addItem("alerts",{message:f("env.".concat(o.sandbox_enabled?"sandbox":"prod",".success")),style:"success"})}))):(t.addItem("alerts",{message:f("env.prod.not_approved"),style:"danger"}),u(!1),r=setTimeout((function(){p(!1)}),6e3)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.addItem("alerts",{message:e.t0,style:"danger"});case 13:return e.abrupt("return",(function(){return clearTimeout(r)}));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Fo(o,n,r,s,i,"next",e)}function i(e){Fo(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return a.apply(this,arguments)}}();return o.a.createElement(dr.a,{id:"sandbox-toggle",className:"sandbox-toggle d-flex align-items-center mt-2 pr-3"},o.a.createElement(dr.a.Label,{className:"text-uppercase text-nowrap",htmlFor:"sandbox-switch"},f("env.sandbox.label")),o.a.createElement(dr.a.Check,{className:"mx-2",type:"switch",id:"sandbox-switch",onChange:function(e){return b(e.target.checked)},checked:c,disabled:d}),o.a.createElement(dr.a.Label,{className:"text-uppercase text-nowrap",htmlFor:"sandbox-switch"},f("env.prod.label")))};Uo.propTypes={actions:la.a.object.isRequired};var zo=Uo,Vo=[{name:"profile",title:"user.menu.profile",to:"/account",htmlBefore:'<i class="fas fa-user"></i>',htmlAfter:""},{name:"password",title:"user.menu.password",htmlBefore:'<i class="fas fa-key"></i>',to:"/account/reset_password"}],Bo=function(e){var t=e.show,a=e.onHide,n=function(e){return e?a(e):a()},r=Object(qa.a)().t;return o.a.createElement(mn.a,{id:"logout-modal",backdrop:"static",show:t,onHide:n,"aria-labelledby":"logout-modal-title"},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"logout-modal-title"},r("user.logout.title"))),o.a.createElement(mn.a.Body,null,r("user.logout.description")),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:"outline-light",onClick:function(){return a()}},r("common:buttons.cancel")),o.a.createElement(dn.a,{onClick:function(){return n(!0)}},r("common:buttons.logout"))))};Bo.propTypes={show:la.a.bool.isRequired,onHide:la.a.func.isRequired};var Ho=Bo;function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yo(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Go=function(){var e,t=Ko(Object(r.useState)(!1),2),a=t[0],n=t[1],s=Ko(Object(r.useState)(!1),2),i=s[0],l=s[1],c=Kt().user,u=Object(qa.a)().t,d=Object(Fa.h)(),p=Object(Fa.g)(),f=c.entity.full_name||"".concat(c.entity.first_name," ").concat(c.entity.surname);return o.a.createElement(o.a.Fragment,null,o.a.createElement(fr.a,{id:"user-menu",className:"user",as:br.a.Item,onToggle:function(){return n(!a)}},o.a.createElement(fr.a.Toggle,{id:"user-menu-toggle",as:br.a.Link,className:"text-nowrap text-center"},o.a.createElement("span",{className:"border-left p-0 pl-4 user"},c.avatar?o.a.createElement("img",{className:"user-avatar rounded-circle mr-0 mr-md-2",src:c.avatar,alt:f,height:"27"}):o.a.createElement("span",{className:"btn btn-secondary btn-sm btn-circle btn-circle-sm text-tiny mr-0 mr-md-2"},(e=/\D\w+/,f.trim().split(" ").filter((function(e){return e.length>0})).filter((function(t){return e.test(t)})).map((function(e){return e.substring(0,1).toUpperCase()})))),o.a.createElement("span",{className:"d-none d-md-inline-block"},f))),o.a.createElement(Po,{as:fr.a.Menu,className:"justify-content-end dropdown-menu-small",show:a},Vo.map((function(e,t){return o.a.createElement(fr.a.Item,{key:t,className:e.classes||void 0,as:e.to?m.b:void 0,to:e.to?{pathname:e.to,state:{from:d.pathname}}:void 0,href:e.href||void 0,target:e.href?"_blank":void 0},e.htmlBefore&&o.a.createElement("span",{className:"d-inline-block item-icon-wrapper mr-2",dangerouslySetInnerHTML:{__html:e.htmlBefore}}),e.title&&o.a.createElement("span",null,u(e.title)),e.htmlAfter&&o.a.createElement("span",{className:"d-inline-block item-icon-wrapper ml-2",dangerouslySetInnerHTML:{__html:e.htmlAfter}}))})),o.a.createElement(fr.a.Divider,null),o.a.createElement(fr.a.Item,{onClick:function(){return l(!0)},className:"text-danger"},o.a.createElement("i",{className:"fas fa-sign-out-alt text-danger mr-2"})," ",u("user.menu.logout")))),o.a.createElement(Ho,{show:i,onHide:function(e){e&&p.push("/logout"),l(!1)}}))},Wo=function(e){var t=e.state,a=e.actions;return o.a.createElement(br.a,{navbar:!0,className:"flex-row"},o.a.createElement(zo,{state:t,actions:a}),o.a.createElement(Go,null))};Wo.propTypes={state:la.a.object.isRequired,actions:la.a.object.isRequired};var $o=Wo,Qo=function(e){var t=e.state,a=e.actions,n=e.full;return o.a.createElement("nav",{className:"nav ml-auto"},o.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),a.updateValue("menuVisible",!t.menuVisible)},className:"nav-link nav-link-icon toggle-sidebar text-center".concat(n?"":" d-sm-inline d-md-none d-lg-none")},o.a.createElement("i",{className:"fas fa-bars"})))};Qo.propTypes={state:la.a.object.isRequired,actions:la.a.object.isRequired,full:la.a.bool};var Zo=Qo,Jo=["fill","className"];function Xo(){return(Xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function es(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ts=function(e){var t=e.fill,a=void 0===t?"#000":t,n=e.className,r=void 0===n?"":n,s=es(e,Jo);return o.a.createElement("svg",Xo({className:r||void 0,viewBox:"0 0 80 42",xmlns:"http://www.w3.org/2000/svg"},s),o.a.createElement("g",{fill:a,fillRule:"evenodd"},o.a.createElement("path",{d:"M18.196 13.15h5.31c0-3.19-1.505-6.174-4.136-8.21-.364-.329-1.24-1.031-2.574-1.59l-.366 5.99c1.127 1.016 1.766 2.378 1.766 3.81M24.933 27.6c-1.236-4.198-4.78-7.15-10.25-8.534-.348-.088-.7-.174-1.055-.26-4.503-1.1-6.51-1.863-6.83-4.555-.244-2.044.608-4.077 2.12-5.09l-.373-5.715c-.791.322-1.616.745-2.47 1.293-3.248 2.09-5.035 6.062-4.552 10.12.35 2.947 1.829 5.219 4.394 6.751 1.984 1.186 4.348 1.763 6.434 2.273.34.082.677.165 1.01.249 3.6.912 5.778 2.569 6.471 4.925.45 1.53.257 2.968-.575 4.275-1.053 1.655-3.006 2.866-5.225 3.239-2.269.38-4.52-.189-6.174-1.564-1.642-1.365-2.547-3.35-2.547-5.59H0c0 3.752 1.616 7.247 4.433 9.588 2.284 1.898 5.19 2.913 8.217 2.913.753 0 1.514-.063 2.274-.19 3.686-.62 6.988-2.72 8.832-5.618 1.623-2.55 2.04-5.572 1.176-8.51"}),o.a.createElement("path",{d:"M12.689 12.715c-1.048 0-1.897-.836-1.897-1.868V1.868c0-1.032.85-1.868 1.897-1.868 1.047 0 1.896.836 1.896 1.868v8.979c0 1.032-.849 1.868-1.896 1.868M42.214 41.627A2.471 2.471 0 0141 39.512V4h5.13v31.498l4.586-2.21L53 37.743l-8.293 3.997a2.628 2.628 0 01-2.493-.113zM30 42h5V21h-5zM32.5 16c-1.93 0-3.5-1.57-3.5-3.5S30.57 9 32.5 9s3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5M66.734 36.929c-4.299 0-7.797-3.566-7.797-7.948 0-4.383 3.498-7.948 7.797-7.948 4.3 0 7.798 3.565 7.798 7.948 0 4.382-3.498 7.948-7.798 7.948zm8.329-20.805v3.045C72.828 17.195 69.916 16 66.734 16 59.713 16 54 21.823 54 28.98c0 7.158 5.713 12.981 12.734 12.981 3.182 0 6.094-1.195 8.329-3.169V42H80V16.124h-4.937z"})))};ts.propTypes={fill:la.a.string,className:la.a.any};var as=ts,ns=function(){var e=Kt().authFrozen,t=Object(qa.a)().t,a=Object(Fa.h)(),n=!(e||a.pathname.includes("login")||a.pathname.includes("register")||a.pathname.includes("maintenance"));return o.a.createElement(ur.a,{type:"light",className:"p-0"},o.a.createElement(Jn.a,{className:"my-auto justify-content-between"},o.a.createElement(ur.a.Brand,{href:"/"},o.a.createElement(as,{id:"main-logo",height:"30",className:"d-inline-block align-middle mr-1 logo"})),o.a.createElement(ur.a.Collapse,{className:"justify-content-end"},o.a.createElement(ur.a.Text,null,n&&o.a.createElement(dn.a,{as:m.c,variant:"link",size:"sm",to:"/login"},t("common:buttons.login")),e&&o.a.createElement(dn.a,{as:m.c,variant:"link",size:"sm",to:"/logout"},t("common:buttons.logout"))))))},rs=function(e){var t=e.stickyTop,a=e.full,n=e.state,s=e.actions,i=ar()("main-navbar border-bottom bg-white px-3",t&&"sticky-top"),l=Kt().user;return Object(r.useEffect)((function(){Object(mr.a)(".main .main-navbar",{useStickyClasses:!0})}),[]),o.a.createElement("header",{className:i},l?o.a.createElement(ur.a,{type:"light",className:"align-items-stretch flex-md-nowrap p-0"},o.a.createElement(Jn.a,{fluid:!0,className:"my-auto p-0 h-100"},o.a.createElement(ur.a.Brand,{href:"/",className:"d-sm-block d-md-none"},o.a.createElement(as,{id:"main-logo",height:"30",className:"d-inline-block align-middle mr-1 logo"})),l.teams&&l.teams.length&&l.currentTeam&&o.a.createElement(Do,{state:n,actions:s}),o.a.createElement($o,{state:n,actions:s}),o.a.createElement(Zo,{state:n,actions:s,full:a}))):o.a.createElement(ns,null))};rs.propTypes={stickyTop:la.a.bool},rs.defaultProps={stickyTop:!0};var os=rs,ss=a("./node_modules/react-bootstrap/esm/NavbarBrand.js"),is=a("./node_modules/react-i18next/dist/es/Trans.js"),ls=function(e){var t=e.hideLogoText,a=e.state,n=e.actions;return o.a.createElement("div",{className:"main-navbar"},o.a.createElement(ur.a,{className:"align-items-stretch bg-black flex-md-nowrap p-0",type:"light"},o.a.createElement(ss.a,{className:"d-flex w-100 py-0 m-0",href:"/"},o.a.createElement("div",{className:"d-flex d-md-block d-lg-block align-items-bottom my-auto mx-md-auto mx-lg-0"},o.a.createElement(as,{id:"main-logo",fill:"#FFF",width:"80",height:"42",className:"d-inline-block align-middle mr-3 logo"}),!t&&o.a.createElement("span",{className:"d-inline-block d-md-block d-lg-inline-block align-middle name"},o.a.createElement(is.a,{i18nKey:"console.title"},"Sila ",o.a.createElement("br",null),"Console")))),o.a.createElement("a",{className:"toggle-sidebar d-sm-flex d-md-none d-lg-none",onClick:function(e){e.preventDefault(),n.updateValue("menuVisible",!a.menuVisible)}},o.a.createElement("i",{className:"fas fa-arrow-left align-self-center"}))))};ls.propTypes={hideLogoText:la.a.bool,state:la.a.object.isRequired,actions:la.a.object.isRequired},ls.defaultProps={hideLogoText:!1};var cs=ls,us=[{name:"home",title:"sidebar.navigation.home",to:"/welcome",htmlBefore:'<i class="fas fa-home"></i>',htmlAfter:""},{name:"apps",title:"sidebar.navigation.applications",htmlBefore:'<i class="sila-icon apps"></i>',to:"/apps"},{name:"settings",title:"sidebar.navigation.settings",htmlBefore:'<i class="sila-icon settings"></i>',to:"/settings"},{name:"developers",title:"sidebar.navigation.developer",htmlBefore:'<i class="fas fa-code"></i>',to:"/dev",permissions:function(e){return P(e,"webhooks","Read")}},{name:"admin",title:"sidebar.navigation.admin",htmlBefore:'<i class="fas fa-user"></i>',to:"/admin",permissions:function(e){return e&&e.is_superuser}}],ms=[{name:"onboarding",title:"sidebar.navigation.onboarding",htmlBefore:'<i class="fas fa-check"></i>',href:"#",permissions:function(e){return!e.approved},onClick:W},{name:"support",title:"sidebar.navigation.support",htmlBefore:'<i class="fas fa-question-circle"></i>',href:"https://sila.atlassian.net/servicedesk/customer/portals",newWindow:!0},{name:"docs",title:"sidebar.navigation.documentation",htmlBefore:'<i class="sila-icon docs"></i>',href:"https://docs.silamoney.com",newWindow:!0}],ds=function(e){var t=e.item,a=e.menuVisible,n=e.toggleSidebar,r=Kt().user,s=Object(qa.a)().t,i=Object(Fa.h)();return o.a.createElement(br.a.Item,{className:t.classes||void 0},o.a.createElement(br.a.Link,{as:t.to?m.c:void 0,to:t.to?{pathname:t.to,state:{from:i.pathname}}:void 0,onClick:function(e){t.onClick&&(e.preventDefault(),t.onClick(s,r)),n(!a)},href:t.href?t.href:void 0,target:t.newWindow?"_blank":void 0},t.htmlBefore&&o.a.createElement("span",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlBefore}}),t.title&&o.a.createElement("span",null,s(t.title)),t.htmlAfter&&o.a.createElement("span",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlAfter}})))};ds.propTypes={item:la.a.object};var ps=Object(u.b)((function(e){return{menuVisible:e.console.menuVisible}}),(function(e){return{toggleSidebar:function(t){return e(ba("menuVisible",t))}}}))(ds),fs=function(){var e=Kt().user;return o.a.createElement("div",{className:"nav-wrapper"},o.a.createElement(br.a,{className:"nav--no-borders d-flex flex-column align-content-start h-100"},o.a.createElement("div",{className:"primary w-100"},us.filter((function(t){return t.permissions?t.permissions(e):!t.permissions})).map((function(e,t){return o.a.createElement(ps,{key:t,item:e})}))),o.a.createElement("div",{className:"secondary mt-auto w-100"},ms.filter((function(t){return t.permissions?t.permissions(e):!t.permissions})).map((function(e,t){return o.a.createElement(ps,{key:t,item:e})})))))},bs=function(e){var t=e.state,a=e.actions,n=e.hideLogoText,r=e.full,s=ar()("main-sidebar px-0 col-12 d-flex flex-column",r&&"full",t.menuVisible&&"open");return o.a.createElement(Xn.a,{as:"aside",className:s,lg:{span:3},md:{span:2}},o.a.createElement(cs,{hideLogoText:n,state:t,actions:a}),o.a.createElement(fs,null))};bs.propTypes={hideLogoText:la.a.bool,state:la.a.object.isRequired,actions:la.a.object.isRequired,full:la.a.bool},bs.defaultProps={hideLogoText:!1};var hs=bs,ys=[{name:"privacy",title:"footer.navigation.privacy",href:"https://silamoney.com/privacy-policy",noBorder:!0},{name:"terms",title:"footer.navigation.terms",href:"https://silamoney.com/terms-of-service",noBorder:!0},{name:"github",title:"footer.navigation.github",href:"https://github.com/sila-Money",htmlBefore:'<i class="sila-icon github"></i>',classes:"icon-only"}],gs=function(e){var t=e.show,a=e.onHide,n=Object(qa.a)().t;return o.a.createElement(mn.a,{id:"🥚-modal",centered:!0,backdrop:"static",show:t,onHide:a,"aria-labelledby":"🥚-title"},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"🥚-modal-title"},n("easterEgg.title"))),o.a.createElement(mn.a.Body,null,o.a.createElement("p",{className:"text-center text-lg text-meta"},n("common:status.comingSoon"))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{onClick:a},n("common:buttons.close"))))};gs.propTypes={show:la.a.bool.isRequired,onHide:la.a.func.isRequired};var vs=gs;function Es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ws(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ws(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var xs=function(){var e=Kt().user,t=Es(Object(r.useState)(!1),2),a=t[0],n=t[1],s=Es(Object(r.useState)(!1),2),i=s[0],l=s[1],c=Object(qa.a)().t,u=Object(Fa.h)(),d=Object(r.useCallback)((function(e){192===e.keyCode&&l(!0)}),[]);return Object(r.useEffect)((function(){if(a)return document.addEventListener("keydown",d,!1),function(){document.removeEventListener("keydown",d,!1)}}),[a]),o.a.createElement("footer",{className:"main-footer d-flex p-2 px-3 bg-white border-top"},o.a.createElement(Jn.a,{fluid:!!e||void 0,className:"p-0 my-auto d-flex"},o.a.createElement("div",{className:"ml-auto d-flex align-items-center"},ys&&ys.length&&o.a.createElement(br.a,{className:"mr-3"},ys.map((function(e,t){return o.a.createElement(br.a.Item,{className:"".concat(e.classes).concat(e.noBorder?"":" border-right"),key:t},o.a.createElement(br.a.Link,{className:"py-0 px-3",as:e.to?m.c:void 0,to:e.to?{pathname:e.to,state:{from:u.pathname}}:void 0,href:e.href||void 0,target:e.href?"_blank":void 0},e.htmlBefore&&o.a.createElement("span",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:e.htmlBefore}}),e.title&&o.a.createElement("span",{className:"text"},c(e.title)),e.htmlAfter&&o.a.createElement("span",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:e.htmlAfter}})))}))),o.a.createElement("span",{className:"copyright mr-2"},c("footer.copyright",{year:(new Date).getFullYear()})))),o.a.createElement("div",{id:"🥚",onMouseOver:function(){return n(!0)},onMouseLeave:function(){return n(!1)}}),o.a.createElement(vs,{show:i,onHide:function(){return l(!1)}}))},Os=function(e){var t=e.children,a=e.state,n=e.actions,r=e.user,s=e.full,i=ar()("main flex-column p-0",r&&"white-bg"),l=r&&!s||s&&a.menuVisible;return o.a.createElement(o.a.Fragment,null,a.isLoading&&o.a.createElement("div",{className:"overlay position-absolute w-100 h-100",style:{}},o.a.createElement(pa,null)),o.a.createElement(Jn.a,{fluid:!0},o.a.createElement(cr.a,null,r&&o.a.createElement(hs,{actions:n,state:a,full:s}),o.a.createElement(Xn.a,{className:i,lg:l?{span:9,offset:3}:void 0,md:l?{span:10,offset:2}:void 0,sm:l?12:void 0,as:"main"},o.a.createElement(os,{state:a,actions:n,full:s}),o.a.createElement("div",{className:"main-content d-flex flex-column"},t),o.a.createElement(xs,null)))))};var js=function(e){var t=e.children,a=e.state,n=e.user,r=e.stickyTop,s=ar()("main-navbar border-bottom bg-white px-3",r&&"sticky-top"),i=ar()("main flex-column p-0",n&&"white-bg");return o.a.createElement(Jn.a,{fluid:!0},o.a.createElement(cr.a,null,o.a.createElement(Xn.a,{className:i,lg:void 0,md:void 0,sm:void 0,as:"main"},o.a.createElement("header",{className:s},o.a.createElement(ns,null)),o.a.createElement("div",{className:"main-content d-flex flex-column"},a.isLoading&&o.a.createElement("div",{className:"position-relative"},o.a.createElement(pa,null)),t),o.a.createElement(xs,null))))},_s=a("./node_modules/react-countdown/dist/index.es.js"),Ns=function(e){var t=e.hours,a=e.minutes,n=e.seconds;return e.completed?null:o.a.createElement("span",null,Object(_s.b)(t),":",Object(_s.b)(a),":",Object(_s.b)(n))},ks=function(e){var t=e.actions,a=e.locked,n=e.recaptchaStatus,r=e.show,s=e.onHide,i=Object(qa.a)().t,l=function(e){return e?s(e):s()},c=6e4*parseInt(a.until);return r&&Object.is(n,null)&&(c-=6e4),o.a.createElement(mn.a,{id:"lockout-modal",backdrop:"static",show:r,onHide:l,"aria-labelledby":"lockout-modal-title"},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"lockout-modal-title"},i("login.lockout.title"))),o.a.createElement(mn.a.Body,null,o.a.createElement("p",null,a.message.replace(a.until+" minutes.",""),o.a.createElement(_s.a,{date:Date.now()+c,renderer:Ns,onComplete:function(){return t.addItem("alerts",{message:i("login.lockout.try_again"),style:"info"}),void s()}}))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:"outline-light",onClick:function(){return l(!0)}},i("common:buttons.close"))))},Ss=a("./node_modules/react-bootstrap/esm/Card.js"),Is=[{title:"register.features.ach",href:"https://silamoney.com/ach-payments-api/"},{title:"register.features.wallet",href:"https://silamoney.com/digital-wallet-api/"},{title:"register.features.bank",href:"https://silamoney.com/bank-account-api/"},{title:"register.features.kycKyb",href:"https://silamoney.com/KYC-KYB-API"}],As=function(e){var t=e.children,a=e.withPadding,n=e.reduced,r=Object(qa.a)().t;return o.a.createElement(cr.a,{noGutters:!0,className:"simple".concat(n?" reduced":"")},o.a.createElement(Xn.a,{className:"mx-auto",lg:10,md:12,sm:10,xs:12},o.a.createElement(Ss.a,{className:"rounded overflow-hidden"},o.a.createElement(cr.a,{noGutters:!0},o.a.createElement(Xn.a,{className:"decal p-5",lg:{span:n?2:4},md:{span:n?2:4},sm:{span:0},xs:{span:0}},!n&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:"text-white mb-0 mb-md-5"},r("register.title")),o.a.createElement("ul",{className:"feature-list p-0 d-none d-md-block"},Is.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement("a",{href:e.href,className:"text-white no-underline text-lg",target:"_blank"},r(e.title)))}))))),o.a.createElement(Xn.a,{lg:{span:n?10:8},md:{span:n?10:8},sm:{span:0},xs:{span:0}},o.a.createElement(Ss.a.Body,{className:"d-flex flex-column h-100 ".concat(a?"p-4 p-md-5":"p-0")},t))))))};As.propTypes={children:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node]),withPadding:la.a.bool,reduced:la.a.bool};var Ps=As,Ts=a("./node_modules/react-google-recaptcha/lib/esm/index.js"),Cs=["handleChange"];function Rs(){return(Rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ms(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ds=Object(r.forwardRef)((function(e,t){var a=e.handleChange,n=Ms(e,Cs);return o.a.createElement(Ts.a,Rs({className:"form-group my-5",ref:t,sitekey:"6LfCgqIUAAAAAFzBaXaWN5ZI5N_LvMatoDxbCyuV",onChange:a},n))}));Ds.propTypes={forwardRef:la.a.shape({handleChange:la.a.func.required})};var Fs=Ds;function qs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ls(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(a),!0).forEach((function(t){Us(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Us(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zs(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bs(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Hs=function(e){var t=e.user,a=e.location,n=e.actions,s=e.history,i=Vs(Object(r.useState)([]),2),l=i[0],c=i[1],u=Vs(Object(r.useState)(""),2),d=u[0],f=u[1],b=Vs(Object(r.useState)("email"),2),h=b[0],y=b[1],g=Vs(Object(r.useState)(!1),2),v=g[0],E=g[1],w=Vs(Object(r.useState)(!1),2),O=w[0],j=w[1],_=Vs(Object(r.useState)(!1),2),N=_[0],k=_[1],S=Vs(Object(r.useState)({until:"",message:""}),2),I=S[0],A=S[1],P=Kt().onLogin,T=(a.state||{from:{pathname:"/"}}).from,C=Object(qa.a)().t,R=Object(r.useRef)(null),M=Object(r.useRef)(null),D=Object(r.useRef)(null),F={handle:a.state&&a.state.handle?a.state.handle:"",password:""},q=x.object().shape({handle:x.string().matches(/^[a-zA-Z0-9@+._-]{3,}$/,{message:C("common:form.fields.handle.error")}).required(C("common:form.errors.required",{field:C("username"==h?"common:form.fields.handle.select":"common:form.fields.handle.combo")})),password:"email"==h?x.string().required(C("common:form.errors.required",{field:C("common:form.fields.password.label")})):null});return Object(r.useEffect)((function(){setTimeout((function(){a.state&&a.state.handle&&R.current&&R.current.focus()}),1e3)}),[]),t||v?o.a.createElement(Fa.a,{to:T}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Jn.a,{className:"login main-content-container p-3 py-md-5"},o.a.createElement(Ps,{withPadding:!0},o.a.createElement("h2",{className:"mt-0 mb-3 mt-md-5 mb-md-5"},C("email"==h?"login.title":"common:multipleAccounts.title")),"username"==h&&o.a.createElement("p",{className:"mb-4 text-lg text-meta"},C("common:multipleAccounts.description")),o.a.createElement(hr.c,{initialValues:F,validationSchema:q,onSubmit:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var o,i,l,u,m,b,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.setSubmitting,i=r.resetForm,l=r.setFieldValue,u=r.setTouched,e.prev=1,"email"==h?f(t.password):t=Ls(Ls({},t),{},{password:d}),e.next=5,$e.authenticate(t);case 5:(m=e.sent).success?m.total_count&&m.total_count>1?(m.accounts.length>0&&c(m.accounts.map((function(e){return{label:e,value:e}}))),l("handle",F.handle,!1),y("username")):(m.user.sila_device_id&&(b=new Date,(g=new Date).setFullYear(b.getFullYear()+1),p.a.set("sila_console_device_id",m.user.sila_device_id,{expires:g})),m.user&&m.user.mfa_required?(o(!1),i({values:F}),n.updateValue("registration",{handle:m.user.handle,email:m.user.email,company_name:m.user.company_name}),n.addItem("alerts",{message:m.message,style:"success"}),s.push({pathname:"/login/mfa",state:{from:a.pathname}})):(n.updateValue("alerts",[]),n.addItem("alerts",{message:m.message,style:"success"}),P(m),o(!1),i({values:F}),m.user&&null!=m.user.signup_step_completed&&""!=m.user.signup_step_completed?(m.user.signup_step_completed!=Ja&&n.updateValue("registration",{email:m.user.entity.emails[0].email,company_name:m.user.company.name,inProgress:!0}),m.user.signup_step_completed==Qa?s.push({pathname:"/register/invite_team_members",state:{from:a.pathname}}):m.user.signup_step_completed==Za?s.push({pathname:"/register/questionnaire",state:{from:a.pathname}}):E(!0)):E(!0))):(c([]),f(""),y("email"),o(!1),j(!1),D.current.reset(),m.locked?(A(Ls(Ls({},I),{},{until:m.locked.until,message:m.message})),i({values:F}),k(!0)):(m.message&&(m.message.includes("locked")||m.message.includes("passphrase"))?(M.current.focus(),l("password",F.password,!1)):(R.current.focus(),l("handle",F.handle,!1),i({values:F})),n.addItem("alerts",{message:m.message.includes("locked")?m.message:C("login.form.messages.error"),style:"danger"}),u({},!1))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){zs(o,n,r,s,i,"next",e)}function i(e){zs(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e,a){return t.apply(this,arguments)}}()},(function(e){var t=e.errors,a=e.handleSubmit,n=e.isSubmitting,r=e.resetForm,s=e.setSubmitting,i=e.isValid,u=e.touched,d=e.setFieldValue;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:a},"email"==h&&o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,className:"handle mb-4",id:"loginForm.handle",label:C("common:form.fields.handle.combo"),name:"handle",handleChange:function(e){return d(e.target.name,e.target.value.toLowerCase().trim())},fieldClass:"data-hj-whitelist",inputRef:R,component:ro}),o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,className:"password mb-5",id:"loginForm.password",label:C("common:form.fields.password.label"),name:"password",type:"password",inputRef:M,append:o.a.createElement(m.c,{to:"/forgot_password",className:"forgot-password text-sm text-meta-link"},C("login.forgotPassword")),component:ro}),o.a.createElement(Fs,{className:"form-group my-5",ref:D,handleChange:function(e){return j(e)}})),"username"==h&&o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,className:"mb-5",id:"loginForm.handle",name:"handle",type:"select",label:C("common:form.fields.handle.select"),options:l,fieldClass:"data-hj-whitelist",component:ro}),o.a.createElement("div",{className:"d-block d-md-flex align-items-center"},o.a.createElement(co,{className:"mr-5 d-sm-block",variant:"primary",type:"submit",loading:n,loadingLabel:C("common:status.loggingin"),disabled:Object.keys(t).length||!i||!O||!Object.keys(u).length},C("common:buttons.login")),"email"==h&&o.a.createElement("p",{className:"text-meta mt-5 mb-0 mt-md-0"},C("login.signup.desc"),"  ",o.a.createElement(m.c,{to:"/register",className:"ml-2 no-underline"},o.a.createElement("span",{className:"lnk"},C("login.signup.action"))," ",o.a.createElement("i",{className:"sila-icon arrow-right"}))),"username"==h&&o.a.createElement(dn.a,{variant:"outline-light",onClick:function(){return function(e,t){j(!1),c([]),f(""),y("email"),e(),t(!1)}(r,s)}},C("common:buttons.cancel"))))})))),o.a.createElement(ks,{actions:n,locked:I,recaptchaStatus:O,show:N,onHide:function(){k(!1)}}))},Ks=a("./node_modules/react-otp-input/lib/index.js"),Ys=a.n(Ks),Gs=a("./node_modules/react-bootstrap/esm/OverlayTrigger.js"),Ws=a("./node_modules/react-bootstrap/esm/Popover.js"),$s=["placement","children","trigger","show","defaultShow","text","popoverProps","delay","id"];function Qs(){return(Qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Zs(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Js=function(e){var t=e.placement,a=e.children,n=e.trigger,r=e.show,s=e.defaultShow,i=e.text,l=e.popoverProps,c=e.delay,u=e.id,m=Zs(e,$s);return o.a.createElement(Gs.a,{defaultShow:s,show:r,placement:t||"auto",delay:{show:250,hide:c||400},trigger:n,overlay:o.a.createElement(Ws.a,l,o.a.createElement(Ws.a.Content,null,i))},o.a.createElement(dn.a,Qs({id:u||ka()()},m),a))};Js.propTypes={text:la.a.any.isRequired,placement:la.a.string};var Xs=Js;function ei(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ti(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(a),!0).forEach((function(t){ai(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ei(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ai(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ni(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function ri(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){ni(o,n,r,s,i,"next",e)}function i(e){ni(o,n,r,s,i,"throw",e)}s(void 0)}))}}function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return si(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ii=function(e){var t=e.minutes,a=e.seconds;return e.completed?null:o.a.createElement("span",null,Object(_s.b)(t),":",Object(_s.b)(a))},li=function(e){var t=e.user,a=e.state,n=e.location,s=e.actions,i=e.history,l=oi(Object(r.useState)(!1),2),c=l[0],u=l[1],m=oi(Object(r.useState)("mfa"),2),d=m[0],p=m[1],f=oi(Object(r.useState)({otp:"",authRes:{},mfaCodeStatus:"",mfaLocked:!1,reSendCodeStatus:{status:"",isSending:!1},reSendCodeThreshold:6e4*parseInt(3)}),2),b=f[0],h=f[1],y=Kt().onLogin,g=(n.state||{from:{pathname:"/"}}).from,v=Object(qa.a)().t,E={otp:"",mfa_device_remember:""},w=x.object().shape({mfa_device_remember:"mfa-device"==d?x.string().required(v("common:form.errors.required",{field:v("login.mfaDeviceRemember.form.fields.mfa_device_remember.label")})):null}),O=function(){var e=ri(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(ti(ti({},b),{},{reSendCodeStatus:ti(ti({},b.reSendCodeStatus),{},{isSending:!0})})),e.next=4,$e.mfaCodeResend(a.registration.handle);case 4:t=e.sent,s.addItem("alerts",{message:t.message?t.message:v("login.mfa.reSendCodeSuccess"),style:"success"}),h(ti(ti({},b),{},{reSendCodeStatus:ti(ti({},b.reSendCodeStatus),{},{status:"sent",isSending:!1}),reSendCodeThreshold:6e4*parseInt(3),mfaLocked:!1,mfaCodeStatus:""})),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(0),h(ti(ti({},b),{},{reSendCodeStatus:ti(ti({},b.reSendCodeStatus),{},{status:"",isSending:!1})})),s.addItem("alerts",{message:e.t0,style:"danger"}),e.t0;case 14:case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return a.registration.email?t||c?o.a.createElement(Fa.a,{to:g}):o.a.createElement(Jn.a,{className:"login main-content-container p-3 py-md-5 mfa"},o.a.createElement(Ps,{withPadding:!0},o.a.createElement("h2",{className:"mt-0 mt-md-5 mb-4"},v("mfa"==d?"login.mfa.title":"login.mfaDeviceRemember.title"),"mfa"==d&&o.a.createElement(Xs,{placement:"right",variant:"outline-primary",text:v("login.mfa.titleTip"),className:"btn-circle-sm ml-2"},o.a.createElement("i",{className:"fas fa-info"}))),o.a.createElement("p",{className:"mb-5 text-meta"},v("mfa"==d?"login.mfa.subTitle":"login.mfaDeviceRemember.subTitle",{email:a.registration.email?a.registration.email:""})),o.a.createElement(hr.c,{initialValues:E,validationSchema:w,onSubmit:function(){var e=ri(regeneratorRuntime.mark((function e(t,r){var o,l,c,m,f,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.setSubmitting,l=r.resetForm,r.setFieldValue,c=r.setTouched,e.prev=1,"mfa"!=d){e.next=9;break}return e.next=5,$e.mfaVerify(a.registration.handle,b.otp);case 5:(m=e.sent).success&&m.verified?(s.updateValue("alerts",[]),s.addItem("alerts",{message:m.message,style:"success"}),h(ti(ti({},b),{},{authRes:m,mfaCodeStatus:"success",reSendCodeStatus:ti(ti({},b.reSendCodeStatus),{},{status:""})})),o(!1),l({values:E}),setTimeout((function(){p("mfa-device")}),750)):(f=m.validation_details?m.validation_details.mfa_code:m.message,o(!1),c({},!1),h(ti(ti({},b),{},{mfaCodeStatus:"error"})),s.addItem("alerts",{message:f,style:"danger"}),m.locked&&(h(ti(ti({},b),{},{mfaLocked:!0,reSendCodeStatus:ti(ti({},b.reSendCodeStatus),{},{status:""})})),setTimeout((function(){h(ti(ti({},b),{},{otp:"",authRes:{},mfaCodeStatus:"",mfaLocked:!1})),o(!1),l({values:E}),i.push({pathname:"/login",state:{from:n.pathname}})}),3e3))),e.next=14;break;case 9:if("mfa-device"!=d){e.next=14;break}return e.next=12,$e.mfaDeviceRemember(a.registration.handle,t);case 12:(g=e.sent).success?(v=b.authRes.user.signup_step_completed,s.updateValue("alerts",[]),s.addItem("alerts",{message:g.message,style:"success"}),y(b.authRes),h(ti(ti({},b),{},{otp:"",authRes:{},mfaCodeStatus:"",mfaLocked:!1,reSendCodeStatus:ti(ti({},b.reSendCodeStatus),{},{status:""})})),o(!1),l({values:E}),v?(v!=Ja&&s.updateValue("registration",{email:a.registration.email,company_name:a.registration.company_name,inProgress:!0}),v==Qa?i.push({pathname:"/register/invite_team_members",state:{from:n.pathname}}):v==Za?i.push({pathname:"/register/questionnaire",state:{from:n.pathname}}):u(!0)):u(!0)):(o(!1),c({},!1),s.addItem("alerts",{message:g.message,style:"danger"}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),s.addItem("alerts",{message:e.t0,style:"danger"});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.handleSubmit,n=e.isSubmitting;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:a},"mfa"==d&&o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{required:!0,autofocus:!0,"data-hj-whitelist":!0,className:"mb-5",is:Ys.a,value:b.otp,onChange:function(e){h(ti(ti({},b),{},{otp:e,mfaCodeStatus:""}))},numInputs:6,isInputNum:!0,shouldAutoFocus:!0,hasErrored:"error"==b.mfaCodeStatus,containerStyle:"d-flex flex-row flex-nowrap mx-n1 mx-md-n2",inputStyle:"w-100 ".concat("success"==b.mfaCodeStatus?"green":6==b.otp.length?"blue":"default"),focusStyle:"blue",errorStyle:"error"==b.mfaCodeStatus?"red":"",id:"loginForm.otp",name:"otp",fieldClass:"data-hj-whitelist border-0 p-0 col otpField mx-1 mx-md-2",component:ro}),"sent"!=b.reSendCodeStatus.status&&!b.mfaLocked&&o.a.createElement("p",{className:"text-meta text-center"},v("login.mfa.getNewCode")),"sent"==b.reSendCodeStatus.status&&o.a.createElement("p",{className:"text-meta text-center"},v("login.mfa.getNewCodeThreshold")," ",o.a.createElement(_s.a,{date:Date.now()+b.reSendCodeThreshold,renderer:ii,onTick:function(){h(ti(ti({},b),{},{reSendCodeThreshold:b.reSendCodeThreshold-parseInt(1e3)}))},onComplete:function(){h(ti(ti({},b),{},{reSendCodeStatus:ti(ti({},b.reSendCodeStatus),{},{status:""})}))}})," minutes."),b.mfaLocked&&o.a.createElement("p",{className:"text-meta text-center"},v("login.mfa.mfaMaxFailedAttemptsReached",{mfa_max_failed_attempts:5})),o.a.createElement(co,{className:"d-block m-auto p-0 text-decoration-none mb-5",variant:"link",type:"button",onClick:function(){return O()},loading:b.reSendCodeStatus.isSending,loadingLabel:v("common:status.sending"),disabled:"sent"==b.reSendCodeStatus.status?1:0},v("login.mfa.reSendCode"))),"mfa-device"==d&&o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{required:!0,"data-hj-whitelist":!0,className:"mb-4 flex-row-reverse d-flex justify-content-end align-items-center",id:"loginForm.mfa_device_remember_yes",name:"mfa_device_remember",type:"radio",label:v("login.mfaDeviceRemember.OptionYesRememberMe"),value:"yes",fieldClass:"data-hj-whitelist",component:ro}),o.a.createElement(hr.a,{required:!0,"data-hj-whitelist":!0,className:"mb-4 flex-row-reverse d-flex justify-content-end align-items-center",id:"loginForm.mfa_device_remember_ask",name:"mfa_device_remember",type:"radio",label:v("login.mfaDeviceRemember.OptionNoAskMe"),value:"askMe",fieldClass:"data-hj-whitelist",component:ro}),o.a.createElement(hr.a,{required:!0,"data-hj-whitelist":!0,className:"mb-4 flex-row-reverse d-flex justify-content-end align-items-center",id:"loginForm.mfa_device_remember_always",name:"mfa_device_remember",type:"radio",label:v("login.mfaDeviceRemember.OptionAlwaysMfa"),value:"no",fieldClass:"data-hj-whitelist",component:ro})),o.a.createElement("div",{className:"d-block d-md-flex align-items-center pt-5"},"mfa"==d&&o.a.createElement(o.a.Fragment,null,o.a.createElement(co,{className:"mr-5 d-sm-block",variant:"primary",type:"submit",loading:n,loadingLabel:v("common:status.submitting"),disabled:b.otp.length<6},v("common:buttons.continue")),o.a.createElement("p",{className:"text-meta d-flex align-items-center mb-0"},"error"==b.mfaCodeStatus&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-ban text-lg text-warning mr-2"})," ",v("login.mfa.error")),"success"==b.mfaCodeStatus&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-check text-lg text-success mr-2"})," ",v("login.mfa.success")),!b.mfaCodeStatus&&"sent"==b.reSendCodeStatus.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-exclamation-circle text-lg text-primary mr-2"})," ",v("login.mfa.reSendCodeSuccess")))),"mfa-device"==d&&o.a.createElement(co,{className:"mr-5 d-sm-block",variant:"primary",type:"submit",loading:n,loadingLabel:v("common:status.submitting"),disabled:!t.mfa_device_remember},v("common:buttons.continue"))))})))):o.a.createElement(Fa.a,{to:"/login"})};function ci(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}var ui=function(e){var t=e.user,a=e.frozen,n=e.actions,o=e.location,s=e.history,i=Kt().onLogout;return Object(r.useEffect)((function(){(function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t&&!a){e.next=15;break}return e.prev=1,e.next=4,$e.logout();case 4:r=e.sent,(!o.state||o.state&&!o.state.noMessage)&&n.addItem("alerts",{message:r,style:"success"}),i(),s.push({pathname:"/login"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"});case 13:e.next=16;break;case 15:s.push({pathname:"/"});case 16:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){ci(o,n,r,s,i,"next",e)}function i(e){ci(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return r.apply(this,arguments)}})()()}),[]),null},mi=a("./node_modules/react-bootstrap-typeahead/es/index.js"),di=["email","privacy","surname"];function pi(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(a),!0).forEach((function(t){hi(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fi(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yi(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function gi(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){yi(o,n,r,s,i,"next",e)}function i(e){yi(o,n,r,s,i,"throw",e)}s(void 0)}))}}function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var wi=function(e){var t=e.user,a=e.state,n=e.location,s=e.actions,i=e.history,l=vi(Object(r.useState)({pending:!1,isValid:!1}),2),c=l[0],u=l[1],d=vi(Object(r.useState)(""),2),f=d[0],b=d[1],h=kn(f,750),y=vi(Object(r.useState)(!1),2),g=y[0],v=y[1],E=vi(Object(r.useState)(!0),2),w=E[0],O=E[1],j=vi(Object(r.useState)(""),2),_=j[0],N=j[1],k=kn(_,750),S=vi(Object(r.useState)(!0),2),I=S[0],A=S[1],P=vi(Object(r.useState)([]),2),T=P[0],C=P[1],R=vi(Object(r.useState)(""),2),M=R[0],D=R[1],F=vi(Object(r.useState)(!1),2),q=F[0],L=F[1],z=kn(M,750),V=(n.state||{from:{pathname:"/"}}).from,B=Kt().onLogin,H=Object(r.useRef)(null),K=Object(r.useRef)(null),G=Object(r.useRef)(null),W=Object(qa.a)().t,$={first_name:"",surname:"",company_name:"",email:a.invitation?a.invitation.email:"",phone:"",password:"",confirmPassword:"",privacy:""},Q=x.object().shape({first_name:x.string().required(W("common:form.errors.required",{field:W("common:form.fields.firstName.label")})),surname:x.string().required(W("common:form.errors.required",{field:W("common:form.fields.lastName.label")})),company_name:x.string().max(200,W("common:form.errors.max",{count:200})).required(W("common:form.errors.required",{field:W("register.form.fields.companyName.label")})),email:a.invitation?null:x.string().max(254,W("common:form.errors.max",{count:254})).email(W("common:form.fields.email.error")).required(W("common:form.errors.required",{field:W("common:form.fields.email.label")})).test("checkEmail",W("common:form.errors.exists",{field:W("common:form.fields.email.label")})||W("common:status.validating"),(function(e){return a.validation.checkEmail.isValid&&e})),phone:x.string().matches(Xa,W("common:form.fields.phone.error")).required(W("common:form.errors.required",{field:W("common:form.fields.phone.label")})),password:x.string().min(8,W("common:form.fields.password.minError")).max(100,W("common:form.fields.password.maxError")).test("checkValidPassword",W(w?"common:form.fields.password.error":"common:form.fields.password.handle")||W("common:status.validating"),(function(e){return w&&e})),confirmPassword:x.string().oneOf([x.ref("password"),null],W("common:form.fields.confirmPassword.error")),privacy:x.boolean().oneOf([!0],W("register.form.fields.privacy.error")).required(W("register.form.fields.privacy.error"))}),Z=function(){var e=gi(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return u(bi(bi({},c),{},{pending:!0})),s.updateValue("validation",bi(bi({},a.validation),{},{checkEmail:bi(bi({},a.validation.checkEmail),{},{email:t})})),e.prev=3,e.next=6,$e.confirmAccountExists(t);case 6:n=e.sent,u(bi(bi({},c),{},{isValid:!n,pending:!1})),s.updateValue("validation",bi(bi({},a.validation),{},{checkEmail:bi(bi({},a.validation.checkEmail),{},{isValid:!n})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),u(bi(bi({},c),{},{isValid:!1,pending:!1})),s.updateValue("validation",bi(bi({},a.validation),{},{checkEmail:bi(bi({},a.validation.checkEmail),{},{isValid:!1,error:e.t0})}));case 15:return e.prev=15,H.current.setFieldTouched("email",!0),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=gi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f&&t&&O(Y(t,f));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=gi(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.register(t);case 3:r=e.sent,s.updateValue("registration",bi(bi(bi({},a.registration),t),{},{id:r.users.id,handle:r.users.handle,team_id:r.users.team_id,team_name:U(r.users.team_name,t.company_name),inProgress:!0})),ee(t,n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"}),n(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=gi(regeneratorRuntime.mark((function e(t,r){var o,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.authenticate({handle:t.email,password:t.password,via:"register"});case 3:(o=e.sent).user.sila_device_id&&(l=new Date,(c=new Date).setFullYear(l.getFullYear()+1),p.a.set("sila_console_device_id",o.user.sila_device_id,{expires:c})),B(o),u="invite_team_members",a.invitation&&a.invitation.token&&(s.updateValue("invitation",!1),p.a.get("sila_console_invitation")&&p.a.remove("sila_console_invitation"),u="questionnaire"),i.push({pathname:"/register/"+u,state:{from:n.pathname}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"}),r(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=gi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=q){e.next=2;break}return e.abrupt("return");case 2:L(!0),fetch("".concat("https://autocomplete.clearbit.com/v1/companies/suggest?query=:").concat(t)).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.name}}));C(t),L(!1)}),(function(e){console.info(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){k&&J(k)}),[k]),Object(r.useEffect)((function(){z&&te(z)}),[z]),Object(r.useEffect)((function(){h&&Z(h)}),[h]),t?o.a.createElement(Fa.a,{to:V}):o.a.createElement(Jn.a,{className:"register main-content-container p-3 py-md-5"},o.a.createElement(Ps,{withPadding:!0},a.invitation&&a.invitation.team_name&&o.a.createElement("h2",{className:"mb-3"},W("register.invitedTitle",{team_name:a.invitation.team_name})),o.a.createElement(hr.c,{enableReinitialize:!0,initialValues:$,validationSchema:Q,innerRef:H,onSubmit:function(e,t){var n=t.setSubmitting;try{var r=e.email,o=e.privacy,i=e.surname,l=pi(e,di);o&&(l.privacy_policy_accept=(new Date).toString()),s.updateValue("registration",bi(bi(bi({},a.registration),l),{},{email:r,surname:i,inProgress:!0})),X(bi(bi({},l),{},{email:e.email,surname:e.surname,invitation_token:a.invitation?a.invitation.token:null,invitation_env:a.invitation?a.invitation.env:null}),n)}catch(e){s.addItem("alerts",{message:e,style:"danger"})}}},(function(e){var t,n,r=e.values,s=e.errors,i=e.handleSubmit,l=e.isSubmitting,u=e.isValid,d=e.setFieldTouched,p=e.setFieldValue,f=e.touched;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:i},o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{sm:"12",md:"6"},o.a.createElement(hr.a,{hideError:!0,required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,className:"first-name",id:"registerForm.first_name",label:W("common:form.fields.firstName.label"),name:"first_name",fieldClass:"data-hj-whitelist",component:ro})),o.a.createElement(Xn.a,{sm:"12",md:"6"},o.a.createElement(hr.a,{hideError:!0,required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,className:"last-name",id:"registerForm.surname",label:W("common:form.fields.lastName.label"),name:"surname",fieldClass:"data-hj-whitelist",component:ro}))),I?o.a.createElement(hr.a,(hi(t={hideError:!0,focused:!0,required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0},"hideError",!M),hi(t,"is",mi.c),hi(t,"options",T),hi(t,"onChange",(function(e){var t=e.length>0?e[0]:"";p("company_name",t,!0)})),hi(t,"onInputChange",(function(e,t){return D(e)})),hi(t,"handleBlur",(function(e){d("company_name",!0)})),hi(t,"filterBy",(function(){return!0})),hi(t,"multiple",!1),hi(t,"labelKey","name"),hi(t,"renderMenu",(function(e,t){return o.a.createElement(o.a.Fragment,null,M||e.length>0?o.a.createElement(mi.a,t,e.length>0&&e.map((function(e,t){return o.a.createElement(mi.b,{option:e.name,position:t,key:"".concat(e.name,"_").concat(t)},e.name)})),o.a.createElement(mi.b,{option:"",className:"font-italic text-meta",position:e.length+1,key:"custom_".concat(e.length+1),onClick:function(){return function(e){A(!1),e("company_name",M),setTimeout((function(){G.current.focus()}),750)}(p)}},W("register.form.fields.companyName.useCompanyName"),o.a.createElement("span",{className:"text-primary"},M))):null)})),hi(t,"id","registerForm.company_name"),hi(t,"label",W("register.form.fields.companyName.label")),hi(t,"name","company_name"),hi(t,"fieldClass","data-hj-whitelist p-0 borer-bottom-0"),hi(t,"component",ro),t)):o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,id:"registerForm.company_name",label:W("register.form.fields.companyName.label"),name:"company_name",inputRef:G,fieldClass:"data-hj-whitelist hide",component:ro}),o.a.createElement(hr.a,{hideError:0===r.email.length,required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,plaintext:!!a.invitation,readOnly:!!a.invitation,className:"email",id:"registerForm.email",label:W("common:form.fields.email.workLabel"),name:"email",inputRef:K,handleBlur:function(e){return Z(e.target.value)},handleChange:function(e){var t=e.target.value.toLowerCase().trim();p(e.target.name,t),b(t)},isValid:!s.email&&c&&c.isValid&&!c.pending,component:ro,fieldClass:"data-hj-whitelist",append:!s.email&&c&&c.pending?o.a.createElement(pa,{size:"sm",className:"mr-3"}):void 0}),o.a.createElement(hr.a,{hideError:0===r.phone.length,required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,className:"phone",id:"registerForm.phone",label:W("common:form.fields.phone.label"),name:"phone",type:"tel",fieldClass:"data-hj-whitelist",component:ro}),o.a.createElement(hr.a,{hideError:0===r.password.length,required:!0,autofocus:!0,material:!0,showstrength:!0,id:"registerPasswordForm.password",label:W("register.form.fields.password.label"),name:"password",type:"password",handleChange:function(e){return N(e.target.value)},component:ro}),o.a.createElement(hr.a,{hideError:0===r.confirmPassword.length,required:!0,autofocus:!0,material:!0,className:"confirmPassword",id:"registerPasswordForm.confirmPassword",label:W("common:form.fields.confirmPassword.label"),name:"confirmPassword",type:"password",component:ro}),o.a.createElement(dr.a.Row,{className:"d-flex align-items-center my-5"},o.a.createElement(Xn.a,null,o.a.createElement(Fs,{className:"form-group",handleChange:function(e){return v(e)}})),o.a.createElement(Xn.a,null,o.a.createElement(hr.a,(hi(n={required:!0,className:"privacy",id:"registerForm.privacy",name:"privacy",type:"checkbox"},"className","text-sm mb-1"),hi(n,"error",s.privacy),hi(n,"component",ro),n),o.a.createElement(is.a,{i18nKey:"register.form.fields.privacy.label"},"I agree to the ",o.a.createElement("a",{href:"https://silamoney.com/privacy-policy",className:"text-reset",target:"_blank"},"Privacy Policy"),", the ",o.a.createElement("a",{href:"https://silamoney.com/terms-of-service",className:"text-reset",target:"_blank"},"Terms of Service")," and the ",o.a.createElement("a",{href:"https://silamoney.com/software-development-kit-license-agreement",className:"text-reset",target:"_blank"},"SDK License Agreement"),".")))),o.a.createElement("div",{className:"d-block d-md-flex align-items-center"},o.a.createElement(co,{className:"mr-5 d-sm-block text-uppercase",variant:"primary",type:"submit",loadingLabel:W("common:status.registering"),loading:l,disabled:Object.keys(s).length||!u||!g||!Object.keys(f).length},W("register.form.buttons.submit")),o.a.createElement("p",{className:"text-meta mt-5 mb-0 mt-md-0"},W("register.haveAccount"),"  ",o.a.createElement(m.c,{to:"/login",className:"ml-2 no-underline"},o.a.createElement("span",{className:"lnk"},W("common:buttons.login"))," ",o.a.createElement("i",{className:"sila-icon arrow-right"})))))}))))};function xi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(a),!0).forEach((function(t){ji(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xi(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ji(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _i(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Ni(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){_i(o,n,r,s,i,"next",e)}function i(e){_i(o,n,r,s,i,"throw",e)}s(void 0)}))}}function ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Si(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ii=function(e){var t=e.state,a=e.location,n=e.actions,s=e.history,i=ki(Object(r.useState)({pending:!1,isValid:!1}),2),l=i[0],c=i[1],u=ki(Object(r.useState)(""),2),m=u[0],d=u[1],p=ki(Object(r.useState)({status:"",emailsIsValid:!0,isSending:!1,email_exists:""}),2),f=p[0],b=p[1],h=ki(Object(r.useState)(""),2),y=h[0],g=h[1],v=Kt(),E=v.user,w=v.onUpdateUser,O=v.refreshSession,j=kn(m,750),_=kn(y,750),N=Object(r.useRef)(null),k=Object(qa.a)().t,S=E&&E.currentTeam.name?E.currentTeam.name:t.registration.team_name?t.registration.team_name:"",I=E&&E.currentTeam.id?E.currentTeam.id:t.registration.team_id?t.registration.team_id:"",A={team_name:t.registration.company_name,emails:""},P=x.object().shape({team_name:t.invitation?null:x.string().required(k("common:form.errors.required",{field:k("common:form.fields.teamName.label")})).test("checkTeamName",k("common:form.errors.exists",{field:k("common:form.fields.teamName.label")})||k("common:status.validating"),(function(e){return t.validation.checkTeamName.isValid&&e})),emails:x.string().notRequired().test("checkValidEmails",k("inviteTeamMembers.form.fields.emails.error")||k("common:status.validating"),(function(e){return f.emailsIsValid}))}),T=function(){var e=Ni(regeneratorRuntime.mark((function e(a){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=19;break}return c(Oi(Oi({},l),{},{pending:!0})),n.updateValue("validation",Oi(Oi({},t.validation),{},{checkTeamName:Oi(Oi({},t.validation.checkTeamName),{},{teamName:a})})),e.prev=3,e.next=6,$e.checkTeamName(a);case 6:r=e.sent,o=!(!r||!0!==r.success),c(Oi(Oi({},l),{},{isValid:o,pending:!1})),n.updateValue("validation",Oi(Oi({},t.validation),{},{checkTeamName:Oi(Oi({},t.validation.checkTeamName),{},{isValid:o})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),c(Oi(Oi({},l),{},{isValid:!1,pending:!1})),n.updateValue("validation",Oi(Oi({},t.validation),{},{checkTeamName:Oi(Oi({},t.validation.checkTeamName),{},{isValid:!1,error:e.t0})}));case 16:return e.prev=16,N.current.setFieldTouched("team_name",!0),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Ni(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return b(Oi(Oi({},f),{},{isSending:!0})),e.prev=2,e.next=5,$e.confirmAccountExists(t);case 5:if(0!=!e.sent){e.next=9;break}return b(Oi(Oi({},f),{},{status:"exists",email_exists:t,emailsIsValid:!1,isSending:!1})),e.abrupt("return",!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),b(Oi(Oi({},f),{},{status:"",emailsIsValid:!1,isSending:!1}));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Ni(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}a=/^\S+@\S+\.\S+$/,n=t.split(",").map((function(e){return e.trim()})),r=0;case 4:if(!(r<n.length)){e.next=14;break}if(""==n[r]||a.test(n[r])){e.next=10;break}return b(Oi(Oi({},f),{},{status:"error",emailsIsValid:!1})),e.abrupt("return",!1);case 10:C(n[r]);case 11:r++,e.next=4;break;case 14:return b(Oi(Oi({},f),{},{status:"pending",emailsIsValid:!0})),e.abrupt("return",!0);case 18:return b(Oi(Oi({},f),{},{status:"",emailsIsValid:!0})),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Ni(regeneratorRuntime.mark((function e(t,a){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=21;break}return e.prev=1,b(Oi(Oi({},f),{},{isSending:!0})),r=[],t.split(",").map((function(e){""!==e.trim()&&r.push(e.trim())})),e.next=7,Promise.all(r.map((function(e){return ge.inviteMember({member:{email:e},role:{id:3},signup_step_completed:Za},{id:I},"sandbox")})));case 7:o=e.sent,a("emails",A.emails,!1),o.some((function(e){return!e.success}))&&n.addItem("alerts",{message:o.message,style:"danger"}),b(Oi(Oi({},f),{},{status:"sent",emailsIsValid:!0,isSending:!1})),a("emails",A.emails,!1),O(),e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(1),b(Oi(Oi({},f),{},{isSending:!1})),n.addItem("alerts",{message:e.t0,style:"danger"}),e.t0;case 20:case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j&&T(j)}),[j]),Object(r.useEffect)((function(){_&&R(_)}),[_]),Object(r.useEffect)((function(){t.registration.inProgress?S==t.registration.company_name?(c(Oi(Oi({},l),{},{isValid:!0,pending:!1})),n.updateValue("validation",Oi(Oi({},t.validation),{},{checkTeamName:Oi(Oi({},t.validation.checkTeamName),{},{isValid:!0})}))):U(S,t.registration.company_name)==t.registration.company_name&&T(S):s.push({pathname:"/welcome",state:{from:a.pathname}})}),[]),o.a.createElement(Jn.a,{className:"register main-content-container p-3 py-md-5"},o.a.createElement(Ps,{withPadding:!0},o.a.createElement(hr.c,{initialValues:A,validationSchema:P,innerRef:N,onSubmit:function(){var e=Ni(regeneratorRuntime.mark((function e(r,o){var i,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.setSubmitting,l=o.setFieldValue,e.prev=1,t.invitation||S==r.team_name){e.next=14;break}return e.next=5,ge.updateTeamName(I,{name:r.team_name,signup_step_completed:Za});case 5:if((c=e.sent).success){e.next=9;break}return n.addItem("alerts",{message:c.message,style:"danger"}),e.abrupt("return");case 9:u=Oi(Oi({},E.currentTeam),{},{name:r.team_name}),w({currentTeam:u}),n.updateValue("registration",Oi(Oi({},t.registration),{},{team_name:r.team_name,inProgress:!0})),e.next=16;break;case 14:return e.next=16,$e.updateSignUpStep({signup_step_completed:Za});case 16:b(Oi(Oi({},f),{},{status:"",emailsIsValid:!0})),l("emails",A.emails,!1),i(!1),s.push({pathname:"/register/questionnaire",state:{from:a.pathname}}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"});case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.values,n=e.errors,r=e.handleSubmit,s=e.isSubmitting,i=e.setFieldValue,c=e.touched,u=e.setErrors;return c.emails&&!a.emails&&n.emails&&(delete n.emails,u(n)),o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:r},o.a.createElement("h2",{className:"mb-4"},k("inviteTeamMembers.title.team_name")),o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,"data-hj-whitelist":!0,plaintext:!!t.invitation,readOnly:!!t.invitation,tabIndex:1,id:"InviteTeamMembers.team_name",label:k("inviteTeamMembers.form.fields.team_name.label"),name:"team_name",fieldClass:"data-hj-whitelist",handleChange:function(e){return d(e.target.value)},isValid:l&&l.isValid&&!l.pending,component:ro,append:l&&l.pending?o.a.createElement(pa,{size:"sm",className:"mr-3"}):void 0}),o.a.createElement("h3",{className:"mt-5 mb-3 text-lg"},k("inviteTeamMembers.title.emails")),o.a.createElement("ul",{className:"invite-list p-0 mb-5 text-meta"},o.a.createElement("li",null,k("inviteTeamMembers.description.emails.item1")),o.a.createElement("li",null,k("inviteTeamMembers.description.emails.item2")),o.a.createElement("li",null,k("inviteTeamMembers.description.emails.item3"))),o.a.createElement(hr.a,{autofocus:!0,"data-hj-whitelist":!0,tabIndex:2,id:"InviteTeamMembers.emails",label:k("inviteTeamMembers.form.fields.emails.label"),name:"emails",handleChange:function(e){return g(e.target.value)},fieldClass:"data-hj-whitelist",is:"textarea",rows:"5",component:ro}),o.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.a.createElement(co,{className:"text-nowrap",variant:"primary",type:"button",onClick:function(){return M(a.emails,i)},loading:f.isSending,loadingLabel:k("common:status.sending"),disabled:a.emails&&"error"!=f.status&&"exists"!=f.status?0:1},k("common:buttons.sendInvites")),o.a.createElement("p",{className:"text-meta d-flex mb-0 px-4"},a.emails&&"exists"==f.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-ban text-lg text-warning mr-2"})," ",k("inviteTeamMembers.form.fields.emails.exists",{exists:f.email_exists})),a.emails&&"error"==f.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-ban text-lg text-warning mr-2"})," ",k("inviteTeamMembers.form.fields.emails.error")),a.emails&&"pending"==f.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-exclamation-circle text-lg text-primary mr-2"})," ",k("inviteTeamMembers.form.fields.emails.info")),"sent"==f.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-check text-lg text-success mr-2"})," ",k("inviteTeamMembers.form.fields.emails.sent"))),o.a.createElement(co,{className:"p-0 text-decoration-none",variant:"link",type:"submit",loading:s,disabled:Object.keys(n).length||a.emails&&("error"==f.status||"pending"==f.status)?1:0},k("common:buttons.continue"),o.a.createElement("i",{className:"sila-icon arrow-right ml-2"}))))}))))};function Ai(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pi(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ci(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ri=function(e){var t,a=e.t,n=e.location,s=e.history,i=e.state,l=e.actions,c=Ti(Object(r.useState)(!1),2),u=c[0],m=c[1],d=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t&&(m(!0),window.analytics.track("Developer Questions::Skipped To Account Creation")),e.next=4,$e.updateSignUpStep({signup_step_completed:Ja});case 4:l.updateValue("registration",{inProgress:!1}),l.updateValue("alerts",[]),s.push({pathname:"/welcome",state:{from:n.pathname}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l.addItem("alerts",{message:e.t0,style:"danger"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Pi(o,n,r,s,i,"next",e)}function i(e){Pi(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(i.registration.inProgress){var e=document.createElement("script");e.src="https://embed.typeform.com/embed.js",e.async=!0,document.body.appendChild(e),e.addEventListener("load",(function(){typeformEmbed.makeWidget(document.getElementById("questionnaire-form"),"https://form.typeform.com/to/t4UhZ2?email="+i.registration.email+"&company_name="+i.registration.company_name,{hideHeaders:!0,hideFooter:!0,onSubmit:function(){d(!1)}})}))}else s.push({pathname:"/welcome",state:{from:n.pathname}})}),[]),o.a.createElement(Jn.a,{className:"register main-content-container p-3 py-md-5"},o.a.createElement(Ps,{reduced:!0},o.a.createElement(Xn.a,{className:"p-0"},o.a.createElement("div",{id:"questionnaire-form",className:"questionnaire-form"}),o.a.createElement("div",{className:"questionnaire-btns btn-group position-absolute"},o.a.createElement(co,(Ai(t={className:"questionnaire-action",variant:"outline-primary",size:"sm"},"className","m-2"),Ai(t,"type","button"),Ai(t,"onClick",(function(){return d(!0)})),Ai(t,"loading",u),Ai(t,"loadingLabel",a("common:status.skipping")),t),a("register.buttons.skip"))))))};function Mi(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Di(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Mi(o,n,r,s,i,"next",e)}function i(e){Mi(o,n,r,s,i,"throw",e)}s(void 0)}))}}function Fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qi(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Li=function(e){var t=e.match,a=e.user,n=e.actions,s=e.history,i=e.t,l=e.state,c=Fi(Object(r.useState)(!0),2),u=c[0],m=c[1],d=A(),p=function(){var e=Di(regeneratorRuntime.mark((function e(r){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.env||"sandbox",e.prev=1,e.next=4,ge.getInvitation(t.params.token,r,o);case 4:s=e.sent,n.updateValue("invitation",{token:t.params.token,team_name:a?U(s.team_name,a.company.name):s.team_name,role_name:s.role_name,email:r,env:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"});case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Di(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.confirmAccountExists(t);case 3:e.sent?(n.addItem("alerts",{message:i("invite.messages.auth"),style:"warning"}),s.push({pathname:"/login",state:{from:window.location.pathname+window.location.search}})):(p(t),s.push("/register")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.addItem("alerts",{message:e.t0,style:"danger"});case 10:return e.prev=10,m(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){u&&!a&&d.email?f(d.email):a&&!l.invitation?p(a.entity.emails[0].email):m(!1)}),[]),u?o.a.createElement(pa,null):o.a.createElement(Yn,{noRedirect:!0})};function Ui(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}var zi=function(e){var t=e.t,a=e.user,n=e.actions,s=e.match,i=e.location,l=Kt().onUpdateUser,c=function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.confirmRegistration(s.params.token,a);case 3:a?(l({confirmed_at:(new Date).toString()}),G("sila_console_confirmed",a.entity.handle),n.addItem("alerts",{message:t("account.confirm.user"),style:"success"})):n.addItem("alerts",{message:t("account.confirm.guest"),style:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.addItem("alerts",{message:e.t0,style:"danger"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Ui(o,n,r,s,i,"next",e)}function i(e){Ui(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return r.apply(this,arguments)}}();return Object(r.useEffect)((function(){(a&&!a.confirmed_at||!a)&&c()}),[]),o.a.createElement(Fa.a,{to:a?{pathname:i.state&&i.state.from?i.state.from:"/"}:{pathname:"/login"}})};function Vi(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hi(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ki=function(e){var t=e.t,a=e.actions,n=Bi(Object(r.useState)(!1),2),s=n[0],i=n[1],l=Bi(Object(r.useState)("email"),2),c=l[0],u=l[1],d={email:""},p=x.object().shape({email:x.string().email(t("common:form.fields.email.error")).required(t("common:form.errors.required",{field:t("common:form.fields.email.label")}))}),f="email"==c?"title":"emailSentTitle";return o.a.createElement(Jn.a,{className:"login forgot-password main-content-container p-3 py-md-5"},o.a.createElement(Ps,{withPadding:!0},o.a.createElement("h2",{className:"mt-0 mb-3 mt-md-5 mb-md-5"},t("forgotPassword.".concat(f))),"sent"==c&&o.a.createElement("p",{className:"mb-4 text-lg text-meta"},t("forgotPassword.emailSentSubTitle")),o.a.createElement(hr.c,{enableReinitialize:!0,initialValues:d,validationSchema:p,onSubmit:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,o=n.resetForm,e.prev=1,e.next=4,$e.requestNewPassword(t);case 4:s=e.sent,a.addItem("alerts",{message:s.message,style:"success"}),u("sent"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a.addItem("alerts",{message:e.t0,style:"danger"}),o({values:d});case 13:return e.prev=13,r(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Vi(o,n,r,s,i,"next",e)}function i(e){Vi(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e,a){return t.apply(this,arguments)}}()},(function(e){var a=e.errors,n=e.handleSubmit,r=e.isSubmitting,l=e.isValid,u=e.values,d=e.setFieldValue;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:n},"email"==c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,className:"email mb-4",id:"forgotPasswordForm.email",label:t("common:form.fields.email.label"),name:"email",handleChange:function(e){return d(e.target.name,e.target.value.toLowerCase().trim())},component:ro}),o.a.createElement(Fs,{className:"form-group my-5",handleChange:function(e){return i(e)}}),o.a.createElement(co,{className:"mr-4",variant:"primary",type:"submit",loading:r,disabled:Object.keys(a).length||!l||!s||!u.email},t("common:buttons.submit"))),"sent"==c&&o.a.createElement(Xn.a,{className:"p-0 pb-5 mb-5"}),o.a.createElement(dn.a,{as:m.c,to:"/login",variant:"sent"==c?"primary":"outline-light"},t("sent"==c?"common:buttons.backToLogin":"common:buttons.cancel")))}))))};function Yi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(a),!0).forEach((function(t){Wi(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yi(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Wi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $i(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Qi(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){$i(o,n,r,s,i,"next",e)}function i(e){$i(o,n,r,s,i,"throw",e)}s(void 0)}))}}function Zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ji(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ji(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Xi=function(e){var t=e.state,a=e.actions,n=e.user,s=e.usernameOptions,i=e.showUsername,l=e.userEmail,c=e.onChangePassword,u=e.onResetPassword,d=Zi(Object(r.useState)({pending:!1,isValid:!1}),2),p=d[0],f=d[1],b=Zi(Object(r.useState)(!1),2),h=b[0],y=b[1],g=Zi(Object(r.useState)(""),2),v=g[0],E=g[1],w=Zi(Object(r.useState)(!0),2),O=w[0],j=w[1],_=Zi(Object(r.useState)(""),2),N=_[0],k=_[1],S=kn(v,750),I=kn(N,750),A=Object(r.useRef)(null),P=Object(r.useRef)(null),T=Object(Fa.h)(),C=Object(Fa.g)(),R=Object(qa.a)().t,M={user:!!n,handle:"",currentPassword:"",password:"",confirmPassword:""},D=x.object().shape({handle:s&&s.length?x.string().required(R("common:form.errors.required",{field:R("common:form.fields.handle.select")})):null,currentPassword:x.string().when("user",{is:!0,then:x.string().required(R("common:form.errors.required",{field:R("resetPassword.form.fields.currentPassword.label")})).test("confirmPassword",R("resetPassword.form.fields.currentPassword.error"),(function(e){return t.validation.confirmPassword.isValid&&e}))}),password:x.string().required(R("common:form.errors.required",{field:R("common:form.fields.password.label")})).min(8,R("common:form.fields.password.minError")).max(100,R("common:form.fields.password.maxError")).test("checkValidPassword",R("common:form.fields.password.error")||R("common:status.validating"),(function(e){return O&&e})),confirmPassword:x.string().oneOf([x.ref("password"),null],R("common:form.fields.confirmPassword.error")).required(R("common:form.errors.required",{field:R("common:form.fields.confirmPassword.label")}))}),F=function(){var e=Qi(regeneratorRuntime.mark((function e(r){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return f(Gi(Gi({},p),{},{pending:!0})),a.updateValue("validation",Gi(Gi({},t.validation),{},{confirmPassword:Gi(Gi({},t.validation.confirmPassword),{},{password:r})})),e.prev=3,e.next=6,$e.confirmPassword(n.entity.handle,r);case 6:o=e.sent,s=!(!o||!0!==o.success),f(Gi(Gi({},p),{},{isValid:s,pending:!1})),a.updateValue("validation",Gi(Gi({},t.validation),{},{confirmPassword:Gi(Gi({},t.validation.confirmPassword),{},{isValid:s})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),f(Gi(Gi({},p),{},{isValid:!1,pending:!1})),a.updateValue("validation",Gi(Gi({},t.validation),{},{confirmPassword:Gi(Gi({},t.validation.confirmPassword),{},{isValid:!1,error:e.t0})}));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Qi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&j(n?Y(t,n.entity.emails[0].email,n.entity.handle):Y(t,l));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S&&F(S)}),[S]),Object(r.useEffect)((function(){I&&q(I)}),[I]),o.a.createElement(hr.c,{enableReinitialize:!0,initialValues:M,validationSchema:D,innerRef:P,onSubmit:function(e,t){var a=t.setSubmitting,r=t.resetForm;n?c(e.password,a,r):u(e,a,r)}},(function(e){var t=e.errors,a=e.handleSubmit,r=e.isSubmitting,l=e.isValid,c=e.touched;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:a},o.a.createElement("h2",{className:n?"mb-3":"mt-0 mb-3 mt-md-5 mb-md-5"},R("resetPassword.title.".concat(n?"password":"createPassword"))),n&&o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{required:!0,autofocus:!0,className:"currentPassword mb-4 pb-4 border-bottom",id:"setPasswordForm.currentPassword",label:R("resetPassword.form.fields.currentPassword.label"),name:"currentPassword",type:"password",handleChange:function(e){return E(e.target.value)},isValid:p&&p.isValid&&!p.pending,append:p&&p.pending?o.a.createElement(pa,{size:"sm",className:"mr-3"}):void 0,component:ro}),o.a.createElement(hr.a,{required:!0,autofocus:!0,showstrength:!0,className:"password",id:"setPasswordForm.password",label:R("common:form.fields.password.label"),name:"password",type:"password",handleChange:function(e){return k(e.target.value)},component:ro}),o.a.createElement(hr.a,{required:!0,autofocus:!0,className:"confirmPassword",id:"setPasswordForm.confirmPassword",label:R("common:form.fields.confirmPassword.label"),name:"confirmPassword",type:"password",inputRef:A,component:ro})),!n&&o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mb-4 text-lg"},R("common:multipleAccounts.title")),o.a.createElement("p",{className:"mb-4 text-lg text-meta"},R("common:multipleAccounts.description")),o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,className:"mb-4",id:"setPasswordForm.handle",name:"handle",type:"select",label:R("common:form.fields.handle.select"),options:s,component:ro})),o.a.createElement(hr.a,{required:!0,autofocus:!0,showstrength:!0,material:!0,className:"password mb-4",id:"setPasswordForm.password",label:R("common:form.fields.password.label"),name:"password",type:"password",handleChange:function(e){return k(e.target.value)},component:ro}),o.a.createElement(hr.a,{required:!0,autofocus:!0,material:!0,className:"confirmPassword mb-4",id:"setPasswordForm.confirmPassword",label:R("common:form.fields.confirmPassword.label"),name:"confirmPassword",type:"password",component:ro})),o.a.createElement(Fs,{className:"form-group my-5",handleChange:function(e){return y(e)}}),o.a.createElement("div",{className:"d-flex"},o.a.createElement(co,{className:"mr-3",variant:"primary",type:"submit",loading:r,disabled:Object.keys(t).length||!l||!h||!Object.keys(c).length},R(n?"resetPassword.form.buttons.submit":"common:buttons.reset")),o.a.createElement(dn.a,{as:n?void 0:m.c,onClick:n?function(){return C.goBack()}:void 0,to:n?void 0:{pathname:"/login",state:{from:T.pathname}},variant:"outline-light"},R("common:buttons.cancel"))))}))};function el(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function tl(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){el(o,n,r,s,i,"next",e)}function i(e){el(o,n,r,s,i,"throw",e)}s(void 0)}))}}function al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nl(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var rl=function(e){var t=e.t,a=e.history,n=e.location,s=e.actions,i=e.match,l=e.user,c=e.state,u=Kt().onLogin,m=al(Object(r.useState)(!1),2),d=m[0],p=m[1],f=al(Object(r.useState)(""),2),b=f[0],h=f[1],y=al(Object(r.useState)(!1),2),g=y[0],v=y[1],E=al(Object(r.useState)([]),2),w=E[0],x=E[1],O=n.state&&n.state.from?n.state.from:"/",j=function(){var e=tl(regeneratorRuntime.mark((function e(t,a,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.authenticate({handle:l.entity.handle,password:t});case 3:r=e.sent,u(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:return e.prev=10,a(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),_=function(){var e=tl(regeneratorRuntime.mark((function e(n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.changePassword(n);case 3:j(n,r),s.addItem("alerts",{message:t("resetPassword.form.messages.success"),style:"success"}),a.push({pathname:O}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 11:return e.prev=11,o(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),N=function(){var e=tl(regeneratorRuntime.mark((function e(t,n,r){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.handle?t.handle:d,e.next=4,$e.resetPassword(i.params.token,o,t.password);case 4:c=e.sent,s.addItem("alerts",{message:c.message,style:"success"}),a.push({pathname:l?O:"/login"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"}),r();case 13:return e.prev=13,n(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t,a,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=tl(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.getAccounts({token:i.params.token,handle:"placeholder_handle"});case 2:(t=e.sent).success?t.total_count&&t.total_count>1?(t.accounts.length>0&&(n=[],t.accounts.forEach((function(e){n.push({label:e,value:e})})),x(n)),v(!0)):p(t.accounts[0]):(s.addItem("alerts",{message:t.message,style:"danger"}),a.push({pathname:"/login"}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=tl(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.decryptEmail({email:decodeURIComponent(i.params.email)});case 2:(t=e.sent).success&&t.email&&h(t.email);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.params.token||l||a.push({pathname:"/login"}),i.params.token&&!l&&(function(){e.apply(this,arguments)}(),i.params.email&&function(){t.apply(this,arguments)}())}),[]),o.a.createElement(Jn.a,{className:"login set-password main-content-container p-3 py-md-5"},l&&o.a.createElement(cr.a,{noGutters:!0},o.a.createElement(Xn.a,{className:"mx-auto",xl:5,lg:6,md:8,sm:10,xs:12},o.a.createElement(Ss.a,null,o.a.createElement(Ss.a.Body,null,o.a.createElement(Xi,{onChangePassword:_,onResetPassword:N,state:c,actions:s,user:l}))))),!l&&o.a.createElement(Ps,{withPadding:!0},o.a.createElement(Xi,{onChangePassword:_,onResetPassword:N,usernameOptions:w,showUsername:g,userEmail:b,state:c,actions:s,user:l})))},ol=a("./node_modules/react-bootstrap/esm/Badge.js"),sl=function(){var e=Kt().user,t=Object(qa.a)().t;return o.a.createElement(Ss.a,{className:"banner flex-fill mb-5"},o.a.createElement(Ss.a.Body,{as:cr.a,className:"p-4"},o.a.createElement(Xn.a,{md:"12",lg:"8",xl:"7",className:"message pr-0 pr-lg-4 pb-4 pb-lg-0"},o.a.createElement("h1",{className:"mb-3"},t("welcome.simple.title")),o.a.createElement("h3",{className:"text-meta"},t("welcome.simple.description")),o.a.createElement(dn.a,{as:m.c,to:{pathname:e.hasApps?"/apps":"/apps/new",state:{from:location.pathname}},className:"text-sm text-uppercase mt-3"},t("welcome.simple.banner.button.".concat(e.hasApps?"hasApps":"noApps")))),o.a.createElement(Xn.a,{md:"12",lg:"4",xl:"5",className:"features pt-4 pt-lg-0 px-0 mx-3 mx-lg-0 pl-lg-4"},o.a.createElement("h3",null,t("common:features.upcoming.title"),":"),o.a.createElement("ul",{className:"feature-list p-0 mb-0"},o.a.createElement("li",{className:"mt-3 d-flex flex-nowrap"},o.a.createElement(ol.a,{variant:"primary",className:"opaque px-3 py-2 mr-2 d-flex justify-content-center flex-column"},t("common:features.upcoming.label")),o.a.createElement("span",null,t("common:features.upcoming.item1"))),o.a.createElement("li",{className:"mt-3 d-flex flex-nowrap"},o.a.createElement(ol.a,{variant:"primary",className:"opaque px-3 py-2 mr-2 d-flex justify-content-center flex-column"},t("common:features.upcoming.label")),o.a.createElement("span",null,t("common:features.upcoming.item2"))),o.a.createElement("li",{className:"mt-3 d-flex flex-nowrap"},o.a.createElement(ol.a,{variant:"primary",className:"opaque px-3 py-2 mr-2 d-flex justify-content-center flex-column"},t("common:features.upcoming.label")),o.a.createElement("span",null,t("common:features.upcoming.item3")))))))},il=a("./node_modules/react-bootstrap/esm/TabContainer.js"),ll=a("./node_modules/react-bootstrap/esm/TabContent.js"),cl=a("./node_modules/react-bootstrap/esm/TabPane.js");function ul(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dl(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return dl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var pl=function(e){var t=e.actions,a=e.history,n=Kt().user,s=n.confirmed_at||p.a.get("sila_console_confirmed_".concat(n.entity.handle)),i=P(n,"members","Write"),l=ml(Object(r.useState)(1),2),c=l[0],u=l[1],d=ml(Object(r.useState)(!1),2),f=d[0],b=d[1],h=ml(Object(r.useState)(s),2),y=h[0],g=h[1],v=ml(Object(r.useState)(!1),2),w=v[0],x=v[1],O=ml(Object(r.useState)(!!p.a.get("sila_console_prequalification_".concat(n.entity.handle))),2),j=O[0],_=O[1],N=ml(Object(r.useState)(!!p.a.get("sila_console_marketplace_".concat(n.entity.handle))),2),k=N[0],S=N[1],I=ml(Object(r.useState)(!!p.a.get("sila_console_community_".concat(n.entity.handle))),2),A=I[0],T=I[1],C=ml(Object(r.useState)(!p.a.get("sila_console_newwelcome_closed_".concat(n.entity.handle))),2),R=C[0],M=C[1],D=Object(qa.a)().t,F=function(){var e,a=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,$e.resendVerificationEmail(n.entity.handle,n.entity.emails[0].email);case 4:t.addItem("alerts",{message:D("resendVerfication.message",{email:n.entity.emails[0].email}),style:"success"}),b(!1),g(!0),L(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t.addItem("alerts",{message:e.t0,style:"danger"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){ul(o,n,r,s,i,"next",e)}function i(e){ul(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return a.apply(this,arguments)}}(),q=function(e,t){G(t,n.entity.handle),"sila_console_marketplace"==t||"sila_console_community"==t?("sila_console_marketplace"==t&&S(!0),"sila_console_community"==t&&T(!0),window.open(e)):"sila_console_invited_team"==t?a.push({pathname:e,state:{from:location.pathname}}):"sila_console_prequalification"==t?(_(!0),W(D,n)):"sila_console_newwelcome_closed"==t&&M(!1)},L=function(){var e;if(s)if(e=2,n.hasMembers)if(e=i?3:2,j)if(e=i?4:3,n.hasApps){if(e=i?5:4,k&&!A)e=i?6:5;else if(!k)return void u(i?5:4);k&&A&&(e=i?6:5),e&&u(e),e==(i?6:5)&&j&&k&&A&&x(!0)}else u(i?4:3);else u(i?3:2);else u(i?2:1);else u(1)};return Object(r.useEffect)((function(){R&&L()}),[j,k,A]),R?o.a.createElement(Ss.a,{className:"welcome-banner flex-fill mb-5"},o.a.createElement(Ss.a.Body,{as:cr.a,className:"p-4"},o.a.createElement(Xn.a,{md:"12",lg:"12",xl:"12",className:"pr-0 pr-lg-4 pb-4 pb-lg-0"},w&&o.a.createElement("button",{className:"text-meta position-absolute close",onClick:function(e){e.preventDefault(),q("close","sila_console_newwelcome_closed")}},o.a.createElement("span",{"aria-hidden":"true"},"×"),o.a.createElement("span",{className:"sr-only"},D("common:buttons.close"))),o.a.createElement("h1",{className:"mb-3"},D("welcome.getStarted.title")),o.a.createElement("h3",{className:"text-meta mb-5"},D("welcome.getStarted.description"))),o.a.createElement(il.a,{activeKey:c,onSelect:function(e){return u(e)}},o.a.createElement(Xn.a,{md:"12",lg:"5"},o.a.createElement(br.a,{className:"step-list flex-column"},o.a.createElement(br.a.Link,{className:"d-flex".concat(s?" complete":""),eventKey:"1"},D("welcome.getStarted.actionKey1")),i&&o.a.createElement(br.a.Link,{className:"d-flex".concat(n.hasMembers?" complete":""),eventKey:"2"},D("welcome.getStarted.actionKey2")),o.a.createElement(br.a.Link,{className:"d-flex".concat(j?" complete":""),eventKey:i?"3":"2"},D("welcome.getStarted.actionKey3")),o.a.createElement(br.a.Link,{className:"d-flex".concat(n.hasApps?" complete":""),eventKey:i?"4":"3"},D("welcome.getStarted.actionKey4")),o.a.createElement(br.a.Link,{className:"d-flex".concat(k?" complete":""),eventKey:i?"5":"4"},D("welcome.getStarted.actionKey5")),o.a.createElement(br.a.Link,{className:"d-flex".concat(A?" complete":""),eventKey:i?"6":"5"},D("welcome.getStarted.actionKey6")))),o.a.createElement(Xn.a,{className:"mt-4 mt-mb-0 mt-lg-0",md:"12",lg:"7"},o.a.createElement(ll.a,{className:"border rounded p-4 h-100"},o.a.createElement(cl.a,{eventKey:"1"},o.a.createElement("h2",{className:"mb-3"},D("welcome.getStarted.actionKey1")),o.a.createElement("h3",{className:"text-meta"},D(s?"account.confirm.user":"welcome.getStarted.actionKey1Content")),o.a.createElement(co,{className:"text-sm text-uppercase mt-3",variant:"primary",type:"button",onClick:F,loading:f,disabled:y||s,loadingLabel:D("common:status.sending")},D("resendVerfication.button"))),i&&o.a.createElement(cl.a,{eventKey:"2"},o.a.createElement("h2",{className:"mb-3"},D("welcome.getStarted.actionKey2")),o.a.createElement("h3",{className:"text-meta"},D("welcome.getStarted.actionKey2Content")),o.a.createElement(dn.a,{variant:"primary",className:"text-sm text-uppercase mt-3",onClick:function(){return q("/settings/members/new","sila_console_invited_team")}},D("welcome.getStarted.actionKey2Button"))),o.a.createElement(cl.a,{eventKey:i?"3":"2"},o.a.createElement("h2",{className:"mb-3"},D("welcome.getStarted.actionKey3")),o.a.createElement("h3",{className:"text-meta"},D("welcome.getStarted.actionKey3Content")),o.a.createElement(dn.a,{variant:"primary",className:"text-sm text-uppercase mt-3",onClick:function(){return q("intercom","sila_console_prequalification")}},D("welcome.getStarted.actionKey3Button"))),o.a.createElement(cl.a,{eventKey:i?"4":"3"},o.a.createElement("h2",{className:"mb-3"},D("welcome.getStarted.actionKey4")),o.a.createElement("h3",{className:"text-meta"},o.a.createElement(is.a,{i18nKey:"welcome.getStarted.actionKey4Content"},"Once you've created your app, try using our ",o.a.createElement("a",{href:"https://demo.silamoney.com/",target:"_blank"},"hosted API explorer"),", ",o.a.createElement("a",{href:"https://docs.silamoney.com/docs/installing-the-sdk-demo",target:"_blank"},"run a local instance"),", or install our ",o.a.createElement("a",{href:"https://github.com/Sila-Money/sila-postman-signer",target:"_blank"},"Postman Collection"),".")),o.a.createElement(dn.a,{as:m.c,to:"/apps/new",className:"text-sm text-uppercase mt-3"},D("welcome.getStarted.actionKey4Button"))),o.a.createElement(cl.a,{eventKey:i?"5":"4"},o.a.createElement("h2",{className:"mb-3"},D("welcome.getStarted.actionKey5Heading")),o.a.createElement("h3",{className:"text-meta"},D("welcome.getStarted.actionKey5Content")),o.a.createElement(dn.a,{variant:"primary",className:"text-sm text-uppercase mt-3",onClick:function(){return q("https://marketplace.silamoney.com/","sila_console_marketplace")}},D("welcome.getStarted.actionKey5Button"))),o.a.createElement(cl.a,{eventKey:i?"6":"5"},o.a.createElement("h2",{className:"mb-3"},D("welcome.getStarted.".concat(w?"congratulationsHeading":"actionKey6Heading"))),o.a.createElement("h3",{className:"text-meta"},D("welcome.getStarted.".concat(w?"congratulationsContent":"actionKey6Content"))),!w&&o.a.createElement(dn.a,{variant:"primary",className:"text-sm text-uppercase mt-3",onClick:function(){return q("https://community.silamoney.com/","sila_console_community")}},D("welcome.getStarted.actionKey6Button")),w&&o.a.createElement(dn.a,{variant:"primary",className:"text-sm text-uppercase mt-3",onClick:function(){return Object(E.IntercomAPI)("showNewMessage",D("applications.form.messages.support"))}},D("welcome.getStarted.congratulationsButton")))))))):null},fl=a("./assets/images/help-decal.png"),bl=a.n(fl),hl=a("./assets/images/developer-decal.png"),yl=a.n(hl),gl=a("./assets/images/onboarding-decal.png"),vl=[{name:"invite",title:"welcome.simple.actions.invite.title",description:"welcome.simple.actions.invite.description",button:"welcome.simple.actions.invite.button",to:"/settings/members/new"},{name:"onboarding",title:"welcome.simple.actions.onboarding.title",description:"welcome.simple.actions.onboarding.description",button:"welcome.simple.actions.onboarding.button",permissions:function(e){return!e.approved},onClick:W},{name:"get-started",title:"welcome.simple.actions.getStarted.title",description:"welcome.simple.actions.getStarted.description",button:"welcome.simple.actions.getStarted.button",to:"/apps/new",permissions:function(e){return!e.hasApps&&P(e,"apps","Write")}},{name:"install",title:"welcome.simple.actions.install.title",description:"welcome.simple.actions.install.description",button:"welcome.simple.actions.install.button",href:"https://docs.silamoney.com/docs/native-sdks"},{name:"learn",title:"welcome.simple.actions.learn.title",description:"welcome.simple.actions.learn.description",button:"welcome.simple.actions.learn.button",href:"https://docs.silamoney.com"}],El=[{fullWidth:!0,class:"mb-lg-5",name:"onboarding",title:"welcome.simple.blocks.onboarding.title",description:"welcome.simple.blocks.onboarding.description",button:"welcome.simple.blocks.onboarding.button",buttonClass:"orange mr-4",decal:a.n(gl).a,permissions:function(e){return!e.approved},onClick:W},{name:"help",title:"welcome.simple.blocks.help.title",description:"welcome.simple.blocks.help.description",button:"welcome.simple.blocks.help.button",buttonIcon:"fas fa-paper-plane",buttonClass:"green mt-4",decal:bl.a,onClick:function(){return Object(E.IntercomAPI)("showNewMessage","")}},{name:"developer",title:"welcome.simple.blocks.developer.title",button:"welcome.simple.blocks.developer.button",buttonClass:"purple mt-5",decal:yl.a,href:"https://silamoney.com/demo?utm_source=console_promo&utm_medium=banner_graphic"}],wl=function(e){var t=e.location,a=e.user,n=e.actions,r=e.history,s=Object(qa.a)().t,i=vl.filter((function(e){return e.permissions?e.permissions(a):!e.permissions})),l=El.filter((function(e){return e.permissions?e.permissions(a):!e.permissions}));return o.a.createElement(Jn.a,{className:"welcome-simple main-content-container p-3 p-md-5 d-flex flex-column"},o.a.createElement(sl,null),o.a.createElement(pl,{actions:n,history:r}),0!==i.length&&o.a.createElement(cr.a,{className:"actions mb-5 ".concat(i.length>5?" wrap":"")},i.map((function(e,n){return o.a.createElement(Xn.a,{key:n,xs:"12",sm:"6",md:"6",lg:"3",className:"".concat(e.name," action d-flex flex-column mb-4")},o.a.createElement("div",{className:"flex-fill"},o.a.createElement("h3",null,s(e.title)),o.a.createElement("p",{className:"text-meta"},s(e.description))),o.a.createElement(dn.a,{block:!0,as:e.to?m.c:void 0,href:e.href||void 0,to:e.to?{pathname:e.to,state:{from:t.pathname}}:void 0,onClick:e.onClick?function(){return e.onClick(s,a)}:void 0,target:e.href?"_blank":void 0,variant:"outline-light",className:"important"},s(e.button)))}))),0!==l.length&&o.a.createElement(cr.a,{className:"blocks row-eq-height mt-n3 mb-n4"},l.map((function(e,t){return o.a.createElement(Xn.a,{key:t,lg:e.fullWidth?12:6,className:"".concat(e.name," ").concat(e.class?"".concat(e.class," "):"","mb-4 flex-fill")},o.a.createElement("a",{href:e.href||"#",target:e.href?"_blank":void 0,onClick:e.onClick?function(t){t.preventDefault(),e.onClick(s,a)}:void 0,className:"card rounded no-underline"},o.a.createElement(Ss.a.Header,{className:"rounded-top border-bottom-0 px-4 pt-4 pb-0"},o.a.createElement("h2",{className:"m-0"},s(e.title))),o.a.createElement(Ss.a.Body,{className:"".concat(e.bodyClass?"".concat(e.bodyClass," "):"","px-4 pt-0 pb-4")},e.description&&o.a.createElement("p",{className:"mt-2 mb-0"},s(e.description)),e.button&&o.a.createElement(dn.a,{variant:"plain",className:"".concat(e.buttonClass?"".concat(e.buttonClass," "):"","important")},e.buttonIcon&&o.a.createElement("i",{className:"".concat(e.buttonIcon," mr-2")}),s(e.button))),e.decal&&o.a.createElement("img",{className:"decal",src:e.decal})))}))))},xl=["title","subtitle","className","prepend","append","children"];function Ol(){return(Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jl(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _l=function(e){var t=e.title,a=e.subtitle,n=e.className,r=e.prepend,s=e.append,i=e.children,l=jl(e,xl),c=ar()(n,"text-center","text-md-left");return o.a.createElement(Xn.a,Ol({className:c},l),a&&o.a.createElement("span",{className:"text-uppercase page-subtitle"},a),o.a.createElement("div",{className:"d-block d-md-flex"},o.a.createElement("h3",{className:"page-title mb-3 mb-md-0 d-flex justify-content-center justify-content-md-start align-items-center"},r&&o.a.createElement("span",null,r),o.a.createElement("span",null,t),s&&o.a.createElement("span",null,s)),i&&o.a.createElement("div",{className:"my-3 my-md-0 ml-sm-auto d-block d-md-flex align-items-center"},i)))};_l.propTypes={title:la.a.string,subtitle:la.a.string,children:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node])};var Nl=_l,kl=["show","handleToggle"];function Sl(){return(Sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Al(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Al(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Pl(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Tl=function(e){var t=e.show,a=e.handleToggle,n=Pl(e,kl),s=Il(Object(r.useState)(t),2),i=s[0],l=s[1];return o.a.createElement(fr.a,Sl({show:i,onToggle:function(e,t,n){"select"!==n.source?(l(e),a&&a(e)):l(!0)}},n))};Tl.propTypes={show:la.a.bool,handleToggle:la.a.func};var Cl=Tl,Rl=["disabled","push","initialValues","value","setValue","field"],Ml=["field","remove","setValue","index","errors","setErrors"];function Dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fl(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ql(){return(ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ll(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ul(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var zl=function(e,t){return e.split(".").length&&e.split(".").some((function(e){return t[e]}))?e.split(".").reduce((function(e,t){return e[t]}),t):[]},Vl=function(e){var t=e.disabled,a=e.push,n=(e.initialValues,e.value,e.setValue),r=e.field,s=Ul(e,Rl),i=Object(qa.a)().t;return o.a.createElement(dn.a,ql({variant:"link",className:"p-0",disabled:t,onClick:function(){var e=Ll({tempId:ka()()},r.slug,"");a(e),n(e.tempId)}},s),o.a.createElement("i",{className:"fas fa-plus-circle mr-2"}),i("common:buttons.add"))},Bl=function(e){var t=e.field,a=e.remove,n=e.setValue,r=e.index,s=e.errors,i=e.setErrors,l=Ul(e,Ml);return o.a.createElement(dn.a,ql({variant:"link",onClick:function(){delete s[t.name],a(r),n(!1),i(s)}},l),o.a.createElement("i",{className:"fas fa-times-circle"}))},Hl=function(e){var t=e.form,a=e.field,n=e.fields,s=e.values,i=e.errors,l=e.formatValue,c=e.label,u=e.pluralLabel,m=e.placeholder,d=Dl(Object(r.useState)(!1),2),p=d[0],f=d[1],b=Object(qa.a)().t,h=zl(a.name,s),y=zl(a.name,i),g=zl(a.name,t.initialValues);return h&&0===h.filter((function(e){return!e.action})).length?o.a.createElement(hr.b,{name:a.name},(function(e){e.push;return h.map((function(e,s){return n?o.a.createElement(r.Fragment,{key:s},n(s)):o.a.createElement(hr.a,{key:s,autofocus:!0,className:a.slug,id:"".concat(t.id,".").concat(a.slug,".").concat(s),label:c||b("common:form.fields.".concat(a.slug,".label")),name:"".concat(a.name,".").concat(s,".").concat(a.slug),placeholder:m,handleChange:a.handleChange||void 0,component:ro})}))})):o.a.createElement(Cl,{show:p&&p.length>0},o.a.createElement(dr.a.Group,{className:"autofocus".concat(y&&y.length?" err":"")},o.a.createElement(dr.a.Label,{className:"shrink"},u||b("common:form.fields.".concat(a.slug,".pluralLabel"))),o.a.createElement(fr.a.Toggle,{className:"w-100 text-left",childBsPrefix:"form-control"},o.a.createElement("span",{className:"text-nowrap overflow-hidden",style:{textOverflow:"ellipsis"}},h.map((function(e){return l?l(e):e[a.slug]})).join(" | ")))),o.a.createElement(fr.a.Menu,{className:"w-100"},o.a.createElement(hr.b,{name:a.name},(function(e){var r=e.remove,s=e.push;return o.a.createElement(o.a.Fragment,null,h&&h.length>0&&h.map((function(e,s){var u,d=e.uuid||e.id||e.tempId,h=d===p;return o.a.createElement("div",{key:s,className:"px-3 py-2 d-flex align-items-center w-100"},o.a.createElement(dn.a,{style:h?{opacity:1}:void 0,className:"p-0 mr-3 mb-auto",variant:"link",disabled:p,onClick:function(){f(d),y&&y[s]&&t.setFieldTouched("".concat(a.name,".").concat(s,".").concat(a.slug),!0)}},o.a.createElement("i",{className:"fas fa-pen text-".concat(h?"primary":y&&y[s]?"warning":"meta")})),h?n?o.a.createElement("div",{className:"w-100"},o.a.createElement("div",{className:"w-100 d-flex"},o.a.createElement("div",{className:"w-100"},n(s)),!g[s]&&o.a.createElement(Bl,{className:"mb-auto p-0 ml-3",remove:r,setValue:f,index:s,field:a,errors:i,setErrors:t.setErrors})),h&&o.a.createElement(dn.a,{disabled:y&&y[s],variant:"link",className:"p-0",onClick:function(e){f(!1),e.preventDefault()}},o.a.createElement("i",{className:"fas fa-save mr-2"}),b("common:buttons.save"))):o.a.createElement("div",{className:"w-100"},o.a.createElement(hr.a,{required:!0,autofocus:!0,className:"".concat(a.slug," m-0 w-100"),id:"".concat(t.id,".").concat(a.slug,".").concat(s),placeholder:m,label:c||b("common:form.fields.".concat(a.slug,".label")),name:"".concat(a.name,".").concat(s,".").concat(a.slug),handleChange:a.handleChange||void 0,hasError:!0,append:g[s]?void 0:o.a.createElement(Bl,{className:"p-0",remove:r,setValue:f,errors:i,setErrors:t.setErrors,index:s,field:a}),component:ro}),h&&o.a.createElement(dn.a,{disabled:y&&y[s],variant:"link",className:"p-0 mt-2 mb-1",onClick:function(e){f(!1),e.preventDefault()}},o.a.createElement("i",{className:"fas fa-save mr-2"}),b("common:buttons.save"))):o.a.createElement(dn.a,(Ll(u={variant:"link",className:"text-nowrap overflow-hidden w-100",style:{opacity:1,textOverflow:"ellipsis"}},"className","p-0 text-reset text-nowrap overflow-hidden text-left"),Ll(u,"variant","link"),Ll(u,"disabled",p),Ll(u,"onClick",(function(){return f(d)})),u),l?l(e):e[a.slug]))})),!p&&o.a.createElement("div",{className:"px-3 py-2"},o.a.createElement(Vl,{field:a,disabled:i[a.name],push:s,initialValues:t.initialValues,value:p,setValue:f})))}))))};Hl.propTypes={form:la.a.object.isRequired,field:la.a.object.isRequired,fields:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node,la.a.func]),values:la.a.object.isRequired,errors:la.a.object.isRequired,formatValue:la.a.func};var Kl=Hl,Yl=["values","errors","handleSubmit","isSubmitting","dirty","setFieldValue"];function Gl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(a),!0).forEach((function(t){$l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ql(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}x.addMethod(x.array,"unique",Q);var Zl=function(e){var t=e.initialValues,a=e.setName,n=e.onSubmit,r=e.formRef,s=Object(qa.a)().t;return o.a.createElement(hr.c,{innerRef:r,enableReinitialize:!0,initialValues:t,validationSchema:x.object().shape({first_name:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.firstName.label")})),surname:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.lastName.label")})),phones:x.array().of(x.object().shape({phone:x.string().matches(Xa,s("common:form.fields.phone.error")).required(s("common:form.errors.required",{field:s("common:form.fields.phone.label")}))})).unique("phone",s("common:form.errors.exists",{field:s("common:form.fields.phone.label")}),(function(e){return e.phone})),emails:x.array().of(x.object().shape({email:x.string().email(s("common:form.fields.email.error")).max(254,s("common:form.errors.max",{count:254})).required(s("common:form.errors.required",{field:s("common:form.fields.email.label")}))})).unique("email",s("common:form.errors.exists",{field:s("common:form.fields.email.label")}),(function(e){return e.email})),addresses:x.array().of(x.object().shape({street_address_1:x.string().max(254,s("common:form.errors.max",{count:254})),street_address_2:x.string().nullable().max(254,s("common:form.errors.max",{count:254})),city:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.address.city.label")}))}).max(96,s("common:form.errors.max",{count:96})),state:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.address.state.label")}))}),postal_code:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.address.zip.label")})).matches(nn,{message:s("common:form.fields.address.zip.error")})})})),birthdate:x.date().test("age",s("common:form.fields.birthdate.ageError"),(function(e){if(e){var t=new Date;return e<=t.setFullYear(t.getFullYear()-18)}return!0})).nullable()}),onSubmit:function(e,t){return Z(e,t,n)}},(function(e){var t=e.values,n=e.errors,r=e.handleSubmit,i=e.isSubmitting,l=e.dirty,c=e.setFieldValue,u=Ql(e,Yl);return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",className:"position-relative",onSubmit:r},i&&o.a.createElement(pa,null),l&&o.a.createElement(er.a,{variant:"warning",className:"mb-4 loaded"},s("common:form.messages.unsavedChanges")),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,className:"first-name",id:"userForm.first_name",label:s("common:form.fields.firstName.label"),name:"first_name",handleChange:a?function(e){return a("".concat(e.target.value," ").concat(t.surname))}:void 0,component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,className:"last-name",id:"userForm.surname",label:s("common:form.fields.lastName.label"),name:"surname",handleChange:a?function(e){return a("".concat(t.first_name," ").concat(e.target.value))}:void 0,component:ro}))),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,readOnly:!0,className:"handle",id:"userForm.handle",label:s("common:form.fields.handle.label"),name:"handle",component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(Kl,{form:Wl({id:"userForm"},u),field:{name:"emails",slug:"email",handleChange:function(e){return c(e.target.name,e.target.value.toLowerCase().trim())},initialValues:{email:""}},values:t,errors:n}))),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(Kl,{form:Wl({id:"userForm"},u),field:{name:"phones",slug:"phone",initialValues:{phone:""}},values:t,errors:n})),o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,className:"birthdate",id:"userForm.birthdate",label:s("common:form.fields.birthdate.shortLabel"),name:"birthdate",type:"date",component:ro}))),o.a.createElement(Kl,{form:Wl({id:"userForm"},u),field:{name:"addresses",slug:"address"},values:t,errors:n,formatValue:V,fields:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{autofocus:!0,className:"street-address-1",id:"userForm.addresses.".concat(e,".street1"),label:s("common:form.fields.address.street1.label"),name:"addresses.".concat(e,".street_address_1"),component:ro}),o.a.createElement(hr.a,{autofocus:!0,className:"street-address-2",id:"userForm.addresses.".concat(e,".street2"),label:s("common:form.fields.address.street2.label"),name:"addresses.".concat(e,".street_address_2"),component:ro}),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"city",id:"userForm.addresses.".concat(e,".city"),label:s("common:form.fields.address.city.label"),name:"addresses.".concat(e,".city"),component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"state",id:"userForm.addresses.".concat(e,".state"),label:s("common:form.fields.address.state.label"),name:"addresses.".concat(e,".state"),type:"select",options:Ya.map((function(e){return{label:s("common:form.fields.address.state.options.".concat(e)),value:e}})),component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"postal-code",id:"userForm.addresses.".concat(e,".postal_code"),label:s("common:form.fields.address.zip.label"),name:"addresses.".concat(e,".postal_code"),component:ro}))))}}),o.a.createElement("div",{className:"d-flex"},o.a.createElement(co,{className:"ml-auto",loading:i,onClick:i?function(e){return e.preventDefault()}:void 0,type:"submit",disabled:!l||Object.keys(n).length},s("common:buttons.save"))))}))};Zl.propTypes={initialValues:la.a.object.isRequired,setName:la.a.func,onSubmit:la.a.func.isRequired,formRef:la.a.oneOfType([la.a.func,la.a.shape({current:la.a.any})])};var Jl=Zl;function Xl(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tc(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return tc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ac=function(e){var t=e.t,a=e.user,n=e.actions,s=ec(Object(r.useState)(""),2),i=s[0],l=s[1],c=ec(Object(r.useState)({first_name:"",surname:"",handle:"",emails:on,phones:sn,birthdate:"",addresses:ln}),2),u=c[0],m=c[1],d=Kt().onUpdateUser,p=function(){var e,a=(e=regeneratorRuntime.mark((function e(a,r){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.setSubmitting,s=r.resetForm,e.prev=1,e.next=4,$e.updateProfile(a);case 4:n.addItem("alerts",{message:t("account.profile.form.messages.success"),style:"success"}),d({entity:a}),s({values:a}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"}),s({values:u});case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Xl(o,n,r,s,i,"next",e)}function i(e){Xl(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e,t){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){a&&(m({first_name:a.entity.first_name,surname:a.entity.surname,handle:a.entity.handle,emails:a.entity.emails.length?a.entity.emails:on,phones:a.entity.phones.length?a.entity.phones:sn,birthdate:a.entity.birthdate,addresses:a.entity.addresses.length?a.entity.addresses:ln}),l("".concat(a.entity.first_name," ").concat(a.entity.surname)))}),[a]),a?o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("account.title")})),o.a.createElement(Ss.a,{className:"mb-3 mb-md-5"},o.a.createElement(Ss.a.Header,{className:"p-4"},o.a.createElement("h2",{className:"m-0"},i)),o.a.createElement(Ss.a.Body,null,o.a.createElement(Jl,{initialValues:u,setName:l,onSubmit:p})))):o.a.createElement(Fa.a,{to:"/login"})},nc=[{name:"teams.headers.account",items:[{title:"teams.account.title",description:"teams.account.description",to:"/team",permissions:function(e){return P(e,"teams","Read")}}]},{name:"teams.headers.members",items:[{title:"teams.members.title",description:"teams.members.description",to:"/members",permissions:function(e){return P(e,"members","Read")}}]}],rc=function(e){var t=e.message,a=Object(qa.a)().t;return o.a.createElement("div",{className:"disabled-overlay position-absolute w-100 h-100 d-flex justify-content-center"},o.a.createElement("p",{className:"message py-2 px-3 m-0 rounded text-white align-self-center"},o.a.createElement("i",{className:"fas fa-lock mr-2"}),t||a("settings.disabled")))};rc.propTypes={message:la.a.string};var oc=rc,sc=function(e){var t=e.data,a=Object(qa.a)().t,n=Object(Fa.i)(),r=Object(Fa.h)();return o.a.createElement(Xn.a,{sm:"12",md:"6",className:"d-flex mt-4"},o.a.createElement("div",{className:"flex-fill"},o.a.createElement(m.c,{to:{pathname:"".concat(n.path).concat(t.to),state:{from:r.pathname}},className:"no-underline d-block"},o.a.createElement("span",{className:"lnk text-primary d-block"},a(t.title)),o.a.createElement("span",{className:"text-meta text-sm"},a(t.description)))))};sc.propTypes={data:la.a.object.isRequired};var ic=function(e){var t=e.items,a=Kt().user,n=Object(qa.a)().t,r=t.filter((function(e){return e.permissions?e.permissions(a):!e.permissions}));return 0===r.length?o.a.createElement(oc,null):r.map((function(e,a){return o.a.createElement(Ss.a,{key:a,className:a!==t.length-1?"mb-3 mb-md-5":void 0},o.a.createElement(Ss.a.Body,null,o.a.createElement("h3",{className:"mb-n2"},n(e.name)),o.a.createElement(cr.a,null,e.items.map((function(e,t){return o.a.createElement(sc,{key:t,data:e})})))))}))};ic.propTypes={items:la.a.array.isRequired};var lc=ic,cc=function(e){var t=e.t;return o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("settings.title")})),o.a.createElement(lc,{items:nc}))},uc=["values","errors","handleSubmit","isSubmitting","dirty","setFieldValue"];function mc(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function dc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(a),!0).forEach((function(t){fc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bc(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}x.addMethod(x.array,"unique",Q);var hc=function(e){var t=e.actions,a=Kt(),n=a.user,r=a.onUpdateUser,s=Object(qa.a)().t,i={name:U(n.currentTeam.name,n.company.name),entity:{emails:n.currentTeam.emails&&n.currentTeam.emails.length?n.currentTeam.emails:on,phones:n.currentTeam.phones&&n.currentTeam.phones.length?n.currentTeam.phones:sn,addresses:n.currentTeam.addresses&&n.currentTeam.addresses.length?n.currentTeam.addresses:ln}};return o.a.createElement(hr.c,{enableReinitialize:!0,initialValues:i,validationSchema:x.object().shape({name:x.string().max(56,s("common:form.errors.max",{count:56})).required(s("common:form.errors.required",{field:s("common:form.fields.name.label")})),entity:x.object().shape({phones:x.array().of(x.object().shape({phone:x.string().matches(Xa,s("common:form.fields.phone.error"))})).unique("phone",s("common:form.errors.exists",{field:s("common:form.fields.phone.label")}),(function(e){return e.phone})),emails:x.array().of(x.object().shape({email:x.string().email(s("common:form.fields.email.error")).max(254,s("common:form.errors.max",{count:320})).required(s("common:form.errors.required",{field:s("common:form.fields.email.label")}))})).unique("email",s("common:form.errors.exists",{field:s("common:form.fields.email.label")}),(function(e){return e.email})),addresses:x.array().of(x.object().shape({street_address_1:x.string().max(254,s("common:form.errors.max",{count:254})),street_address_2:x.string().nullable().max(254,s("common:form.errors.max",{count:254})),city:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.address.city.label")}))}).max(96,s("common:form.errors.max",{count:96})),state:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.address.state.label")}))}),postal_code:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(s("common:form.errors.required",{field:s("common:form.fields.address.zip.label")})).matches(nn,{message:s("common:form.fields.address.zip.error")})})}))})}),onSubmit:function(e,a){var o=a.setSubmitting,l=a.resetForm;Z(e,a,function(){var a,c=(a=regeneratorRuntime.mark((function a(c){var u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.name===n.currentTeam.name&&delete c.name,a.prev=1,a.next=4,ge.updateTeam(n.currentTeam.id,c);case 4:u=a.sent,t.addItem("alerts",{message:s("teams.account.success"),style:"success"}),r({currentTeam:pc(pc(pc({},n.currentTeam),e.entity),{},{name:e.name},u.team)}),l({values:{name:e.name,entity:pc(pc({},e.entity),u.team)}}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),t.addItem("alerts",{message:a.t0,style:"danger"}),l({values:i});case 14:return a.prev=14,o(!1),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[1,10,14,17]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function s(e){bc(o,n,r,s,i,"next",e)}function i(e){bc(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return c.apply(this,arguments)}}())}},(function(e){var t=e.values,a=e.errors,r=e.handleSubmit,i=e.isSubmitting,l=e.dirty,c=e.setFieldValue,u=mc(e,uc);return o.a.createElement(dr.a,{noValidate:!0,className:"position-relative",autoComplete:"new-password",onSubmit:r},i&&o.a.createElement(pa,null),o.a.createElement(Ss.a,null,o.a.createElement(Ss.a.Header,{className:"p-4"},o.a.createElement("h2",{className:"m-0"},t.name)),o.a.createElement(Ss.a.Body,null,o.a.createElement(hr.a,{required:!0,autofocus:!0,readOnly:!P(n,"teams","Write"),className:"name",id:"teamForm.name",label:s("common:form.fields.teamName.label"),name:"name",component:ro}),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:!0},o.a.createElement(Kl,{form:pc({id:"teamForm"},u),field:{name:"entity.emails",slug:"email",handleChange:function(e){return c(e.target.name,e.target.value.toLowerCase().trim())},initialValues:{email:""}},values:t,errors:a})),o.a.createElement(Xn.a,{xs:"12",sm:!0},o.a.createElement(Kl,{form:pc({id:"teamForm"},u),field:{name:"entity.phones",slug:"phone",initialValues:{phone:""}},values:t,errors:a}))),o.a.createElement(Kl,{form:pc({id:"teamForm"},u),field:{name:"entity.addresses",slug:"address"},values:t,errors:a,formatValue:V,fields:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{autofocus:!0,className:"street-address-1",id:"teamForm.addresses.".concat(e,".street1"),label:s("common:form.fields.address.street1.label"),name:"entity.addresses.".concat(e,".street_address_1"),component:ro}),o.a.createElement(hr.a,{autofocus:!0,className:"street-address-2",id:"teamForm.addresses.".concat(e,".street2"),label:s("common:form.fields.address.street2.label"),name:"entity.addresses.".concat(e,".street_address_2"),component:ro}),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"city",id:"teamForm.addresses.".concat(e,".city"),label:s("common:form.fields.address.city.label"),name:"entity.addresses.".concat(e,".city"),component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"state",id:"teamForm.addresses.".concat(e,".state"),label:s("common:form.fields.address.state.label"),name:"entity.addresses.".concat(e,".state"),type:"select",options:Ya.map((function(e){return{label:s("common:form.fields.address.state.options.".concat(e)),value:e}})),component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"postal-code",id:"teamForm.addresses.".concat(e,".postal_code"),label:s("common:form.fields.address.zip.label"),name:"entity.addresses.".concat(e,".postal_code"),component:ro}))))}}),P(n,"teams","Write")&&o.a.createElement("div",{className:"d-flex"},o.a.createElement(co,{className:"ml-auto",loading:i,onClick:i?function(e){return e.preventDefault()}:void 0,type:"submit",disabled:!l||Object.keys(a).length},s(i&&!Object.keys(a).length?"common:status.submitting":"common:buttons.save"))))))}))};hc.propTypes={actions:la.a.object.isRequired};var yc=hc,gc=["t","history"];function vc(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ec,wc=function(e){var t=e.t,a=e.history,n=vc(e,gc);return o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("teams.account.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return a.goBack()}},t("common:buttons.back")))),o.a.createElement(yc,n))},xc=a("./node_modules/react-bootstrap/esm/DropdownButton.js"),Oc=a("./node_modules/react-bootstrap/esm/Table.js");function jc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _c=function(e){var t=e.data,a=e.title,n=e.message,r=e.itemLabel,s=e.buttonLabel,i=e.buttonVariant,l=e.show,c=e.onHide,u=function(e){return e?c(e):c()},m=Object(qa.a)().t;return o.a.createElement(mn.a,{id:"confirm-modal",backdrop:"static",show:l,onHide:u,"aria-labelledby":"confirm-modal-title"},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"save-modal-title"},a||m("common:buttons.saveChanges"))),o.a.createElement(mn.a.Body,null,o.a.createElement("p",{className:"text-lg text-meta"},t&&r?m("common:form.messages.confirm.save",{name:r}):n||m("common:form.messages.confirm.default"))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:"outline-light",onClick:function(){return c()}},m("common:buttons.cancel")),o.a.createElement(dn.a,{className:"text-uppercase",variant:i||void 0,onClick:function(){return u(t)}},s||m("common:buttons.save"))))};_c.propTypes=(jc(Ec={data:la.a.object.isRequired},"data",la.a.object.isRequired),jc(Ec,"title",la.a.string),jc(Ec,"message",la.a.string.isRequired),jc(Ec,"itemLabel",la.a.string),jc(Ec,"buttonLabel",la.a.string),jc(Ec,"buttonVariant",la.a.string),jc(Ec,"onHide",la.a.func.isRequired),Ec);var Nc=_c,kc=function(e){var t,a,n=e.data,r=Object(qa.a)().t;return n.member?(t=r("common:status.active"),a="success"):n.invitation&&T(n.invitation.expires_at)?(t=r("common:status.expired"),a="danger"):(t=r("common:status.pending"),a="warning"),o.a.createElement(ol.a,{className:"badge py-2 px-3",pill:!0,variant:a},t)};kc.propTypes={data:la.a.object.isRequired};var Sc=kc,Ic=Object(r.forwardRef)((function(e,t){var a=e.data,n=e.onEdit,r=e.onDelete,s=Kt().user,i=Object(qa.a)().t,l=function(e){e.target.closest&&!e.target.closest(".delete")||!e.target.closest&&!e.target.className.includes("close")?n(a.member&&a.member.id?a.member.id:a):e.preventDefault()};return a.member?o.a.createElement("tr",{className:"loaded".concat(P(s,"members","Read-Only")?" disabled":""),onClick:P(s,"members","Write")?l:void 0,ref:t},o.a.createElement("td",{className:"name py-3 pl-4"},a.member.name),o.a.createElement("td",{className:"handle py-3"},a.member.handle),o.a.createElement("td",{className:"role py-3"},q(i,a.role.id)),o.a.createElement("td",{className:"status py-3"},o.a.createElement(Sc,{data:a})),P(s,"members","Delete")&&o.a.createElement("td",{className:"pr-4 py-3"},o.a.createElement("button",{className:"delete close float-none align-middle",onClick:r},o.a.createElement("span",{"aria-hidden":"true"},"×"),o.a.createElement("span",{className:"sr-only"},i("common:buttons.delete"))))):o.a.createElement("tr",{className:"loaded".concat(P(s,"members","Read-Only")||!T(a.invitation.expires_at)?" disabled":""),onClick:T(a.invitation.expires_at)&&P("Write")?l:void 0,ref:t},o.a.createElement("td",{className:"name py-3 pl-4",colSpan:"2"},a.invitation.email),o.a.createElement("td",{className:"role py-3"},q(i,a.invitation.role)),o.a.createElement("td",{className:"status py-3"},o.a.createElement(Sc,{data:a})),P(s,"members","Delete")&&o.a.createElement("td",{className:"py-3 pr-4"},o.a.createElement("button",{className:"delete close float-none align-middle",onClick:r},o.a.createElement("span",{"aria-hidden":"true"},"×"),o.a.createElement("span",{className:"sr-only"},i("common:buttons.delete")))))}));Ic.propTypes={data:la.a.object.isRequired,onEdit:la.a.func.isRequired,onDelete:la.a.func.isRequired};var Ac=Ic;function Pc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(a),!0).forEach((function(t){Cc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Cc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Rc=function(e){var t=e.t,a=e.show,n=e.onHide,r=e.data,s=e.errors,i=e.handleSubmit,l=e.isSubmitting,c=e.setErrors,u=e.dirty,m=e.setFieldValue,d=Kt().user,p=r&&r.invitation,f=r&&r.member,b=f||p,h=[{label:t("teams.members.labels.roles.2"),value:2},{label:t("teams.members.labels.roles.3"),value:3}],y=function(e){c({}),e?n(e):n()};return o.a.createElement(mn.a,{id:"member-modal",backdrop:"static",show:a,onHide:y,"aria-labelledby":"member-modal-title"},o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:i},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"member-modal-title"},t(f?"teams.members.headers.user":"teams.members.headers.invite"))),o.a.createElement(mn.a.Body,null,l&&o.a.createElement(pa,null),o.a.createElement("div",{className:"loaded"},o.a.createElement("fieldset",{id:"memberForm.contact"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("legend",null,t("teams.members.headers.contact")),r&&o.a.createElement("div",null,o.a.createElement(Sc,{data:r}))),f&&o.a.createElement(hr.a,{required:!0,autofocus:!0,plaintext:!0,readOnly:!0,className:"name",id:"memberForm.name",label:t("common:form.fields.name.label"),name:"member.name",component:ro}),(!f||p)&&o.a.createElement(hr.a,{required:!0,autofocus:!0,plaintext:b||void 0,readOnly:b||void 0,className:"email",id:"memberForm.email",label:t("common:form.fields.email.label"),name:"member.email",handleChange:function(e){return m(e.target.name,e.target.value.toLowerCase().trim())},component:ro}),f&&o.a.createElement(hr.a,{required:!0,autofocus:!0,plaintext:!0,readOnly:!0,className:"username",id:"memberForm.handle",label:t("common:form.fields.handle.label"),name:"member.handle",component:ro})),o.a.createElement("fieldset",{id:"memberForm.role"},o.a.createElement("legend",null,t("teams.members.labels.role")),o.a.createElement(hr.a,{required:!0,autofocus:!0,className:"role",id:"memberForm.role",label:t("teams.members.labels.roles.placeholder"),name:"role.id",type:"select",options:h.filter((function(e){return 1!==d.role?1!==e.value:e})),component:ro})))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:"outline-light",onClick:function(e){e.preventDefault(),y()},disabled:l},t("common:buttons.cancel")),o.a.createElement(co,{variant:"primary",type:"submit",loading:l,loadingLabel:t(f?"common:status.saving":"common:status.sending"),disabled:Object.keys(s).length||l||f&&!u},t(f?"teams.members.buttons.save":p?"teams.members.buttons.resend":"teams.members.buttons.send")))))};Rc.propTypes={show:la.a.bool.isRequired,data:la.a.object,onHide:la.a.func.isRequired};var Mc=Object(hr.e)({enableReinitialize:!0,mapPropsToValues:function(e){var t=e.data,a=e.formatRoleID;return t?{member:t.member?t.member:t.invitation,role:t.member?t.role:{id:a(t.role)}}:{member:{email:""},role:{id:""}}},validationSchema:function(e){var t=e.t;return x.object().shape({member:x.object().shape({email:x.string().email(t("common:form.fields.email.error")).max(254,t("common:form.errors.max",{count:254}))}),role:x.object().shape({id:x.number().integer().required(t("common:form.errors.required",{field:t("teams.members.labels.role")}))})})},handleSubmit:function(e,t){var a=t.props,n=a.t,r=a.onHide,o=a.data,s=t.setSubmitting,i=t.resetForm;o&&o.member&&(o.role.name=n("teams.members.labels.roles.".concat(o.role.id))),r(Tc(Tc({},o),e)),s(!1),i()}})(Rc),Dc=Object(yr.a)()(Mc);function Fc(e){return function(e){if(Array.isArray(e))return Kc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(a),!0).forEach((function(t){Uc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Uc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zc(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Vc(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){zc(o,n,r,s,i,"next",e)}function i(e){zc(o,n,r,s,i,"throw",e)}s(void 0)}))}}function Bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||Hc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hc(e,t){if(e){if("string"==typeof e)return Kc(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Kc(e,t):void 0}}function Kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Yc=function(e){var t=e.t,a=e.history,n=e.actions,s=e.user,i=e.env,l=e.match,c=Kt().onUpdateUser,u=Bc(Object(r.useState)([]),2),m=u[0],d=u[1],p=Bc(Object(r.useState)({show:!1,delete:!1,data:void 0}),2),f=p[0],b=p[1],h=Bc(Object(r.useState)({role:"",search:""}),2),y=h[0],g=h[1],v=Dn(ge.fetchMembers,{slug:"members",team:s.currentTeam?s.currentTeam.id:null,limit:20},P(s,"members","Read")),E=v.data,w=v.setData,x=v.setRefresh,O=v.lastItem,j=v.hasMore,_=v.isLoading,N=v.isFetching,k=v.loaded,S=E.filter((function(e){return Object.keys(y).every((function(t){return!y[t]||("role"===t?e.role?e.role.id===y.role:e.invitation&&L(e.invitation.role)===y.role:"search"===t?Object.keys(e).map((function(e){return e})).some((function(a){return e.member?!("role"===a||!e[a])&&(e[a].name.toLowerCase().includes(y[t].toLowerCase())||e[a].handle.toLowerCase().includes(y[t].toLowerCase())):e.invitation.email.toLowerCase().includes(y[t].toLowerCase())||!1})):void 0)}))})),I=function(){var e=Vc(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(Lc(Lc({},f),{},{data:void 0,show:!1})),!t||(1===s.role||1===parseInt(t.role.id))&&1!==s.role){e.next=14;break}return e.prev=2,e.next=5,ge.inviteMember(t,s.currentTeam,i);case 5:a=e.sent,n.addItem("alerts",{message:a.message,style:"success"}),x(!0),s.hasMembers||c({hasMembers:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),n.addItem("alerts",{message:e.t0,style:"danger"});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Vc(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.invitation){e.next=4;break}b(Lc(Lc({},f),{},{data:t,show:!0})),e.next=14;break;case 4:return e.prev=4,e.next=7,ge.getMember(t,s.currentTeam);case 7:a=e.sent,b(Lc(Lc({},f),{},{data:a,show:!0})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.addItem("alerts",{message:e.t0,style:"danger"});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Vc(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(Lc(Lc({},f),{},{data:void 0,show:!1})),!t||!t.member||t.member.token||(1===s.role||1===parseInt(t.role.id))&&1!==s.role){e.next=15;break}return e.prev=2,e.next=5,ge.updateMember(t,s.currentTeam);case 5:a=e.sent,n.addItem("alerts",{message:a.message,style:"success"}),w(E.map((function(e){return e.member&&e.member.id&&t.member&&t.member.id&&e.member.id===t.member.id?{member:t.member,role:t.role}:e}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.addItem("alerts",{message:e.t0,style:"danger"});case 13:e.next=16;break;case 15:t&&t.invitation&&(R(t),I(t));case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Vc(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.invitation){e.next=11;break}return e.prev=1,e.next=4,ge.deleteInvitation(a.invitation.id);case 4:w(E.filter((function(e){return e.member||e.invitation&&e.invitation.id!==a.invitation.id}))),a.member||n.addItem("alerts",{message:t("teams.members.messages.delete",{user:a.invitation.email}),style:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Vc(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(Lc(Lc({},f),{},{data:void 0,delete:!1})),!a||!a.member){e.next=14;break}return e.prev=2,e.next=5,ge.deleteMember(a,s.currentTeam,s.entity.handle);case 5:w(E.filter((function(e){return e.member&&e.member.id!==a.member.id}))),n.addItem("alerts",{message:t("teams.members.messages.delete",{user:a.member.name}),style:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.addItem("alerts",{message:e.t0,style:"danger"});case 12:e.next=15;break;case 14:a&&a.invitation&&R(a);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){k&&x(!0)}),[s.currentTeam]),Object(r.useEffect)((function(){S.forEach((function(e){e.role&&!m.find((function(t){return t===e.role.id}))&&d([].concat(Fc(m),[e.role.id])),e.invitation&&!m.find((function(t){return t===L(e.invitation.role)}))&&d([].concat(Fc(m),[L(e.invitation.role)]))}))}),[S]),Object(r.useEffect)((function(){"new"===l.params.action&&P(s,"members","Write")&&b(Lc(Lc({},f),{},{data:void 0,show:!0}))}),[]),o.a.createElement(Jn.a,{className:"main-content-container members p-3 p-md-5"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("teams.members.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return a.goBack()}},t("common:buttons.back")))),_?o.a.createElement(pa,null):o.a.createElement(Ss.a,{className:"mb-3 mb-md-5"},o.a.createElement(Ss.a.Header,{as:cr.a,className:"p-4",noGutters:!0},o.a.createElement(Xn.a,{sm:"8",className:"roles d-block d-sm-flex"},o.a.createElement(dr.a.Control,{className:"w-100",placeholder:t("common:labels.search"),"aria-label":t("common:labels.search"),onChange:function(e){return g(Lc(Lc({},y),{},{search:e.currentTarget.value.trimStart()}))}}),m.length>0&&o.a.createElement(xc.a,{className:"text-nowrap ml-0 mt-2 ml-sm-2 mt-sm-0",variant:"outline-light",title:y.role?q(t,y.role):t("teams.members.labels.all")},m.filter((function(e){return y.role!==e})).map((function(e,a){return o.a.createElement(fr.a.Item,{key:a,onClick:function(){return g(Lc(Lc({},y),{},{role:e}))}},q(t,e))})),y.role&&o.a.createElement(fr.a.Item,{onClick:function(){return g(Lc(Lc({},y),{},{role:""}))}},t("teams.members.labels.all")))),o.a.createElement(Xn.a,{sm:"4",className:"text-right"},P(s,"members","Write")&&o.a.createElement(dn.a,{variant:"secondary",onClick:function(){b(Lc(Lc({},f),{},{data:void 0,show:!0}))}},t("teams.members.buttons.create")," ",o.a.createElement("i",{className:"fas fa-plus-circle ml-2"})))),o.a.createElement(Ss.a.Body,{className:"py-0 px-4"},o.a.createElement("div",{className:"mx-n4"},o.a.createElement(Oc.a,{className:"border-bottom border-light",hover:!0,responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"py-3 pl-4"},t("teams.members.labels.name")),o.a.createElement("th",{className:"py-3 "},t("teams.members.labels.handle")),o.a.createElement("th",{className:"py-3"},t("teams.members.labels.role")),o.a.createElement("th",{className:"py-3"},t("teams.members.labels.status")),P(s,"members","Delete")&&o.a.createElement("th",{className:"py-3 pr-4"}))),o.a.createElement("tbody",null,!S.length>0&&o.a.createElement("tr",{className:"no-hover loaded disabled"},o.a.createElement("td",{colSpan:"4",className:"p-4 text-meta text-center text-lg"},y.search?t("teams.members.empty.search"):t("teams.members.empty.entries"))),S.length>0&&S.sort((function(e,t){return e.member&&t.member?e.member.name.localeCompare(t.member.name):e.invitation&&t.invitation?e.invitation.email.localeCompare(t.invitation.email):e.member?-1:t.member?1:e.invitation&&!T(e.invitation.expires_at)?-1:t.invitation&&!T(t.invitation.expires_at)?1:0})).map((function(e,t){return o.a.createElement(Ac,{key:t,data:e,onEdit:A,onDelete:function(){b(Lc(Lc({},f),{},{data:e,delete:!0}))},ref:S[S.length-1].key===S.key?O:null})}))))),k&&N&&j&&o.a.createElement("div",{className:"fetching"},o.a.createElement(pa,{label:t("teams.members.loading")})))),f.show&&o.a.createElement(Dc,{show:f.show,onHide:f.show&&f.data?C:I,formatRoleID:L,data:f.data}),f.delete&&o.a.createElement(Nc,{show:f.delete,data:f.data,title:t("common:buttons.confirm"),message:f.data.invitation?t("teams.members.messages.revoke",{email:f.data.invitation.email}):t("common:form.messages.confirm.delete",{name:f.data.member?f.data.member.name:f.data.invitation.email}),buttonLabel:f.data.invitation?t("teams.members.buttons.revoke"):t("common:buttons.delete"),buttonVariant:"warning",onHide:M}))},Gc=[{name:"developers.headers.webhooks",items:[{title:"webhooks.endpoints.title",description:"webhooks.endpoints.description",to:"/webhooks",permissions:function(e){return hasPermissions(e,"webhooks","Read")}},{title:"webhooks.events.title",description:"webhooks.events.description",to:"/webhook_events",permissions:function(e){return hasPermissions(e,"webhooks","Read")}}]}],Wc=function(e){var t=e.t;return o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("developers.title")})),o.a.createElement(lc,{items:Gc}))},$c=function(e){var t=e.children;return o.a.createElement("div",{className:"centered-overlay position-absolute w-100 h-100 d-flex flex-column justify-content-center loaded"},o.a.createElement("div",{className:"align-self-center text-center"},t))};$c.propTypes={children:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node])};var Qc=$c;function Zc(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Jc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(a),!0).forEach((function(t){eu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function eu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return au(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return au(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function au(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var nu=parseInt(p.a.get("sila_endpoints_app")),ru=function(e){var t=e.t,a=e.user,n=e.actions,s=e.history,i=tu(Object(r.useState)([]),2),l=i[0],c=i[1],u=tu(Object(r.useState)({app:!1,search:""}),2),d=u[0],f=u[1],b=Dn(It.fetchEndpoints,{apps:l,app_id:d.app||!1,slug:"endpoints",limit:8},P(a,"webhooks","Read")&&0!==l.length),h=b.data,y=b.setRefresh,g=b.lastItem,v=b.isLoading,E=b.hasMore,w=b.isFetching,x=b.setIsLoading,O=(b.loaded,h.filter((function(e){return Object.keys(d).every((function(t){return!d[t]||("app"===t?e.app_id===d[t]:"search"===t?e.name.toLowerCase().includes(d[t].toLowerCase()):void 0)}))})));return Object(r.useEffect)((function(){var e=l.find((function(e){return e.id===nu}));f(Xc(Xc({},d),{},{app:!(!nu||!e)&&e.id})),l.length?y(!0):x(!1)}),[l]),Object(r.useEffect)((function(){(function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,it.fetchApps({team:a.currentTeam.id,limit:20});case 4:t=e.sent,c(t.apps),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n.addItem("alerts",{message:e.t0,style:"danger"}),x(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Zc(o,n,r,s,i,"next",e)}function i(e){Zc(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[a.currentTeam]),Object(r.useEffect)((function(){p.a.set("sila_endpoints_app",d.app)}),[d.app]),o.a.createElement(Jn.a,{className:"webhooks main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("webhooks.endpoints.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",as:m.c,to:{pathname:"/dev",state:{from:location.pathname}}},t("common:buttons.back")))),!P(a,"webhooks","Read")&&o.a.createElement(oc,null),!v&&0===l.length&&o.a.createElement(Qc,null,o.a.createElement("p",{className:"text-meta text-lg"},t("webhooks.endpoints.empty.apps")),P(a,"apps","Write")&&o.a.createElement(dn.a,{as:m.c,to:"/apps/new"},t("applications.empty.action"))),v?o.a.createElement(pa,null):0!==l.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(Ss.a,{className:"mb-3 mb-md-5 loaded"},o.a.createElement(Ss.a.Header,{as:cr.a,className:"p-4",noGutters:!0},o.a.createElement(Xn.a,{sm:"8",className:"apps d-block d-sm-flex align-items-center"},0!==h.length&&o.a.createElement(dr.a.Control,{className:"w-100 mr-3 mb-2 mb-md-0 loaded",placeholder:t("webhooks.endpoints.form.fields.search.placeholder"),"aria-label":t("common:labels.search"),onChange:function(e){return f(Xc(Xc({},d),{},{search:e.currentTarget.value}))}}),o.a.createElement(xc.a,{className:"text-nowrap text-nowrap mt-2 mt-sm-0 loaded",variant:"outline-light",title:l.find((function(e){return e.id===d.app}))?l.find((function(e){return e.id===d.app})).name:t("webhooks.endpoints.labels.apps")},o.a.createElement("div",{className:"overflow-auto mb-n2",style:{maxHeight:300}},d.app&&o.a.createElement(fr.a.Item,{onClick:function(){return f(Xc(Xc({},d),{},{app:!1}))}},t("webhooks.endpoints.labels.apps")),l.filter((function(e){return e.id!==d.app})).map((function(e,t){return o.a.createElement(fr.a.Item,{key:t,onClick:function(){return f(Xc(Xc({},d),{},{app:parseInt(e.id)}))}},e.name)}))))),o.a.createElement(Xn.a,{sm:"4",className:"text-right"},0!==h.length&&P(a,"webhooks","Write")&&o.a.createElement(dn.a,{as:m.c,variant:"secondary",to:"/dev/webhooks/new",className:"ml-0 ml-sm-3 mt-3 mt-sm-0 d-block d-md-inline-block text-nowrap loaded"},t("webhooks.endpoints.buttons.create")," ",o.a.createElement("i",{className:"fas fa-plus-circle ml-2"})))),o.a.createElement(Ss.a.Body,{className:"py-0 px-4"},o.a.createElement("div",{className:"mx-n4"},o.a.createElement(Oc.a,{hover:!0,responsive:!0},0!==h.length&&o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"py-3 pl-4",width:"20%"},t("webhooks.endpoints.labels.name")),o.a.createElement("th",{className:"py-3",width:"20%"},t("webhooks.endpoints.labels.url")),o.a.createElement("th",{className:"py-3",width:"20%"},t("webhooks.endpoints.labels.app")),o.a.createElement("th",eu({className:"py-3",width:"10%"},"className","text-center"),t("webhooks.endpoints.labels.triggers")),o.a.createElement("th",eu({className:"py-3 pr-4",width:"20%"},"className","text-center"),t("webhooks.endpoints.labels.status")))),o.a.createElement("tbody",null,h.length&&(d.app||d.search)&&0===O.length?o.a.createElement("tr",{className:"no-hover loaded disabled"},o.a.createElement("td",{colSpan:"5",className:"p-4 text-meta text-center"},t("webhooks.endpoints.empty.search"))):null,0!==O.length&&O.map((function(e,a){return o.a.createElement("tr",{key:a,className:"loaded",ref:h[h.length-1].key===h.key?g:null,onClick:function(){return s.push("/dev/webhooks/".concat(e.app_id,"/").concat(e.id,"/detail"))}},o.a.createElement("td",{className:"py-3 pl-4",width:"20%"},e.name),o.a.createElement("td",{className:"py-3",width:"20%"},e.url),o.a.createElement("td",{className:"py-3",width:"20%"},l.find((function(t){return t.id===e.app_id})).name),o.a.createElement("td",eu({className:"py-3",width:"10%"},"className","text-center"),e.triggers.length),o.a.createElement("td",eu({className:"py-3 pr-4",width:"20%"},"className","text-center ".concat(e.active?"text-success":"text-warning")),e.active?t("common:status.active"):t("common:status.inactive")))})),0===h.length&&o.a.createElement("tr",{className:"no-hover"},o.a.createElement("td",{colSpan:"5",className:"empty py-5 text-center border-top-0"},o.a.createElement("p",{className:"text-meta text-lg"},t("webhooks.endpoints.empty.message")),P(a,"webhooks","Write")&&o.a.createElement(dn.a,{as:m.c,to:"/dev/webhooks/new"},t("webhooks.endpoints.empty.action"))))))))),w&&E&&o.a.createElement("div",{className:"fetching"},o.a.createElement(pa,{label:t("webhooks.loading")}))):null)},ou=a("./node_modules/react-bootstrap/esm/Collapse.js"),su=a("./node_modules/react-bootstrap/esm/CardGroup.js");function iu(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function lu(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){iu(o,n,r,s,i,"next",e)}function i(e){iu(o,n,r,s,i,"throw",e)}s(void 0)}))}}function cu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uu(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return uu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var mu=function(e){var t=e.show,a=e.data,n=e.onHide,s=e.actions,i=cu(Object(r.useState)(!1),2),l=i[0],c=i[1],u=Object(r.useRef)(null),m=Object(qa.a)().t,d={trigger:a.triggers[0],payload:""},p=x.object().shape({trigger:x.string().required(m("webhooks.endpoints.form.fields.trigger.error")),payload:x.string().required(m("common:form.errors.required",{field:m("webhooks.endpoints.form.fields.payload.label")})).test("validatePayload",m("webhooks.endpoints.form.fields.payload.error"),(function(e){return function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(e)}))}),f=function(){c(!1),n()},b=function(){var e=lu(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.getWebhookEventSample(t);case 3:a=e.sent,u.current.setFieldValue("payload",JSON.stringify(a.payload,null,"\t")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=lu(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.payload||!t.trigger){e.next=12;break}return e.prev=1,e.next=4,It.sendPayload(a.app_id,a.uuid,t.payload,t.trigger);case 4:delete(n=e.sent).segment_data,c({style:n.success?"success":"danger",message:n.validation_details?$(n):m("webhooks.endpoints.test.modal.messages.success",{code:n.status_code}),response:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s.addItem("alerts",{message:e.t0,style:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t&&b(d.trigger)}),[t]),o.a.createElement(mn.a,{id:"delete-modal",backdrop:"static",show:t,onHide:f,size:"xl","aria-labelledby":"delete-modal-title"},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"delete-modal-title"},m("webhooks.endpoints.test.modal.title"))),o.a.createElement(mn.a.Body,null,o.a.createElement(hr.c,{innerRef:u,initialValues:d,validationSchema:p,onSubmit:function(e,t){(0,t.setSubmitting)(!1),h(e)}},(function(e){var t=e.errors,n=e.handleSubmit,r=e.isSubmitting,s=e.values;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:n,className:"mb-4"},o.a.createElement("h3",{className:"text-hdr mb-2"},m("webhooks.endpoints.form.fields.trigger.label")),o.a.createElement("p",{className:"text-meta"},m("webhooks.endpoints.form.fields.trigger.description")),o.a.createElement(cr.a,null,o.a.createElement(Xn.a,{md:"8"},o.a.createElement(hr.a,{required:!0,className:"trigger",id:"endpointTestForm.trigger",name:"trigger",type:"select",options:a.triggers.map((function(e){return{value:e,label:"/".concat(e)}})),handleChange:function(e){return b(e.target.value)},component:ro})),o.a.createElement(Xn.a,{md:"4"},o.a.createElement(dn.a,{block:!0,type:"submit",className:"text-nowrap",disabled:!s.trigger||Object.keys(t).length||r},m("webhooks.endpoints.form.buttons.test")))),o.a.createElement(cr.a,null,o.a.createElement(Xn.a,null,o.a.createElement("h3",{className:"text-hdr mt-5 mb-3"},m("webhooks.endpoints.test.modal.headers.payload")),o.a.createElement(hr.a,{required:!0,className:"payload mb-0",id:"endpointTestForm.payload",name:"payload",is:"textarea",rows:"10",component:ro})),l&&l.response&&o.a.createElement(Xn.a,null,o.a.createElement("div",{className:"d-flex flex-column h-100"},o.a.createElement("h3",{className:"text-hdr mt-5 mb-3"},m("webhooks.endpoints.test.modal.headers.response")),o.a.createElement("div",{className:"border rounded text-sm bg-light p-3 mb-0 overflow-auto",style:{height:"242px"}},o.a.createElement("pre",{className:"mb-0"},JSON.stringify(l.response,null,"\t")))))))})),o.a.createElement("h3",{className:"text-hdr mt-5 mb-3"},m("webhooks.endpoints.test.modal.headers.status")),o.a.createElement("p",{className:l?"text-".concat(l.style):"font-italic text-meta"},l?l.message:m("webhooks.endpoints.test.modal.messages.status"))),o.a.createElement(mn.a.Footer,{className:"text-right"},o.a.createElement(dn.a,{variant:"outline-light",onClick:f},m("common:buttons.cancel"))))};mu.propTypes={show:la.a.bool.isRequired,data:la.a.object.isRequired,onHide:la.a.func.isRequired,actions:la.a.object.isRequired};var du=mu;function pu(e){return function(e){if(Array.isArray(e))return wu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Eu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fu(Object(a),!0).forEach((function(t){hu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yu(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function gu(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){yu(o,n,r,s,i,"next",e)}function i(e){yu(o,n,r,s,i,"throw",e)}s(void 0)}))}}function vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||Eu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eu(e,t){if(e){if("string"==typeof e)return wu(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?wu(e,t):void 0}}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var xu=function(e){var t=e.data,a=e.isLast,n=vu(Object(r.useState)(!1),2),s=n[0],i=n[1],l=Object(qa.a)().t,c=ar()("loaded",s&&"expanded",a&&"border-bottom border-light mb-3 pb-3");return o.a.createElement("div",{className:c},o.a.createElement("h4",{className:"text-hdr"},t.label),o.a.createElement("p",{className:"text-sm text-meta mb-2"},t.description),o.a.createElement(dn.a,{variant:"link",className:"mb-2 p-0",onClick:function(){return i(!s)}},o.a.createElement("i",{className:"fas fa-".concat(s?"minus":"plus","-circle mr-2")}),l("common:buttons.".concat(s?"hide":"show"))," ",l("webhooks.endpoints.form.buttons.example")),o.a.createElement(ou.a,{in:s},o.a.createElement("pre",{className:"border border-light rounded text-sm bg-light p-3"},t.payload)))},Ou=function(e){var t=e.formRef,a=e.actions,n=e.initialValues,s=e.setName,i=e.triggers,l=e.apps,c=e.setIsLoading,u=e.getEndpoint,d=Kt().user,p=vu(Object(r.useState)(n.triggers),2),f=p[0],b=p[1],h=vu(Object(r.useState)(""),2),y=h[0],g=h[1],v=vu(Object(r.useState)(n.app_id),2),E=v[0],w=v[1],O=Object(qa.a)().t,j=Object(Fa.g)(),_=vu(Object(r.useState)({save:!1,delete:!1,test:!1,data:n,name:n.name}),2),N=_[0],k=_[1],S=i.filter((function(e){return y?e.name.includes(y):e})),I=x.object().shape({name:x.string().trim().required(O("common:form.errors.required",{field:O("webhooks.endpoints.form.fields.name.label")})),url:x.string().trim().url(O("common:form.fields.url.error")).required(O("common:form.errors.required",{field:O("webhooks.endpoints.form.fields.url.label")})),max_attempts:x.number().min(1,O("webhooks.endpoints.form.fields.retries.max_attempts.error.min")).max(9,O("webhooks.endpoints.form.fields.retries.max_attempts.error.max")).required(O("common:form.errors.integer")),retry_interval:x.number().min(60,O("webhooks.endpoints.form.fields.retries.retry_interval.error")).required(O("common:form.errors.integer")),app_id:x.string().trim().required(O("common:form.errors.required",{field:O("webhooks.endpoints.form.fields.app.label")}))}),A=function(){var e=gu(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return n(!0),t.app_id=parseInt(t.app_id),e.prev=3,e.next=6,It.createEndpoint(t);case 6:r=e.sent,a.addItem("alerts",{message:r.message,style:"success"}),j.push("/dev/webhooks"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),a.addItem("alerts",{message:e.t0,style:"danger"});case 14:return e.prev=14,n(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=gu(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=20;break}return c(!0),r.app_id=parseInt(r.app_id),e.prev=3,e.next=6,It.updateEndpoint(r.id,r);case 6:(o=e.sent).success?(u(),a.addItem("alerts",{message:o.message,style:"success"})):(t.current.resetForm({values:n}),a.addItem("alerts",{message:getFormattedErrors(o),style:"danger"}),c(!1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.addItem("alerts",{message:e.t0,style:"danger"});case 13:return e.prev=13,k(bu(bu({},N),{},{save:!1})),c(!1),j.push("/dev/webhooks"),e.finish(13);case 18:e.next=22;break;case 20:t.current.setSubmitting(!1),k(bu(bu({},N),{},{save:!1}));case 22:case"end":return e.stop()}}),e,null,[[3,10,13,18]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=gu(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return t.app_id=parseInt(t.app_id),e.prev=2,e.next=5,It.deleteEndpoint(t);case 5:n=e.sent,a.addItem("alerts",{message:n.message,style:"success"}),j.push("/dev/webhooks"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.addItem("alerts",{message:e.t0,style:"danger"});case 13:e.next=16;break;case 15:k(bu(bu({},N),{},{delete:!1}));case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return g(e.target.value)},M=function(e){return w(e.target.value)},D=function(e){b(!f.includes(e.target.name)&&e.target.checked?[].concat(pu(f),[e.target.name]):f.filter((function(t){return t!==e.target.name})))};return Object(r.useEffect)((function(){t.current&&t.current.setFieldValue("triggers",f)}),[f]),P(d,"webhooks","Write")?o.a.createElement(hr.c,{innerRef:t,enableReinitialize:!0,initialValues:n,validationSchema:I,onSubmit:function(e,t){var a=t.setSubmitting;return n.id?k(bu(bu({},N),{},{save:!0,data:bu(bu({},e),{},{app_id:E})})):A(e,a)}},(function(e){var t=e.errors,r=e.handleSubmit,c=e.isSubmitting,u=e.values,p=e.dirty;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:r,className:"mb-4"},o.a.createElement(cr.a,{className:"mb-4"},o.a.createElement(Xn.a,{md:"6"},o.a.createElement("h3",{className:"text-hdr mb-3"},O("webhooks.endpoints.form.fields.name.label")),o.a.createElement(hr.a,{required:!0,className:"name",id:"endpointForm.name",name:"name",handleChange:function(e){return s(e.target.value)},component:ro})),o.a.createElement(Xn.a,{md:"6"},o.a.createElement("h3",{className:"text-hdr mb-3"},O("webhooks.endpoints.form.fields.url.label")),o.a.createElement(hr.a,{required:!0,className:"url",id:"endpointForm.url",placeholder:O("common:form.fields.url.placeholder"),name:"url",component:ro}))),o.a.createElement(cr.a,{className:"mb-4"},o.a.createElement(Xn.a,{className:"align-self-end mb-4 mb-md-0",md:"3"},o.a.createElement("h3",{className:"text-hdr mb-2"},O("webhooks.endpoints.form.fields.retries.label")),o.a.createElement(hr.a,{required:!0,className:"max_attempts mb-n1",id:"endpointForm.max_attempts",name:"max_attempts",label:O("webhooks.endpoints.form.fields.retries.max_attempts.label"),placeholder:O("webhooks.endpoints.form.fields.retries.max_attempts.placeholder"),note:O("webhooks.endpoints.form.fields.retries.max_attempts.description"),type:"number",labelClass:"mb-3",component:ro})),o.a.createElement(Xn.a,{className:"align-self-end mb-4 mb-md-0",md:"3"},o.a.createElement(hr.a,{required:!0,className:"retry_interval mb-n1",id:"endpointForm.retry_interval",name:"retry_interval",label:O("webhooks.endpoints.form.fields.retries.retry_interval.label"),placeholder:O("webhooks.endpoints.form.fields.retries.retry_interval.placeholder"),note:O("webhooks.endpoints.form.fields.retries.retry_interval.description"),type:"number",labelClass:"mb-3",append:u.retry_interval?o.a.createElement("em",{className:"text-meta"},O("common:labels.seconds")):void 0,component:ro})),o.a.createElement(Xn.a,{className:"align-self-end",md:"6"},o.a.createElement("h3",{className:"text-hdr mb-2"},O("webhooks.endpoints.form.fields.app.".concat(n.id?"name.label":"label"))),o.a.createElement(hr.a,{required:!0,readOnly:n.id,className:"app_id".concat(n.id?" mb-n1":""),id:"endpointForm.app_id",name:"app_id",type:"select",label:O("webhooks.endpoints.form.fields.app.".concat(n.id?"name.description":"description")),note:n.id?O("webhooks.endpoints.form.fields.app.name.note"):void 0,labelClass:"mb-4",handleChange:M,options:l.map((function(e){return{label:e.name,value:e.id}})),component:ro}))),o.a.createElement("h3",{className:"text-hdr mb-2"},O("webhooks.endpoints.form.fields.events.label")),o.a.createElement("p",{className:"text-meta mb-4"},o.a.createElement(is.a,{i18nKey:"webhooks.endpoints.form.fields.events.description"},"Visit ",o.a.createElement("a",{href:"https://docs.silamoney.com/docs/webhooks",target:"_blank"},"our docs")," to learn about each of these events and what they do.")),o.a.createElement(su.a,{className:"mb-4"},o.a.createElement(Ss.a,{className:"border"},o.a.createElement(Ss.a.Header,{className:"bg-meta py-3 px-4"},o.a.createElement("h4",{className:"text-hdr-sml m-0"},O("webhooks.endpoints.form.fields.events.available"))),o.a.createElement(Ss.a.Body,{className:"triggers overflow-auto position-relative p-0"},o.a.createElement("div",{className:"trigger-search w-100 bg-white"},o.a.createElement(hr.a,{className:"p-4 m-0",name:"trigger-search",fieldClass:"p-2",placeholder:O("search.placeholder"),handleChange:R,append:o.a.createElement("i",{className:"fas fa-search text-primary"}),component:ro})),o.a.createElement("div",{className:"trigger-results trigger-switches pt-0 px-4 pb-4"},0===i.length?o.a.createElement(pa,{className:"mt-4"}):0!==S.length?S.map((function(e,t){return o.a.createElement(dr.a.Check,{custom:!0,key:t,className:"mb-2 loaded"},o.a.createElement(dr.a.Check.Input,{id:e.name,name:e.name,onChange:D,type:"checkbox",checked:f.some((function(t){return e.name===t}))}),o.a.createElement(dr.a.Check.Label,{className:"text-reset",htmlFor:e.name},"/".concat(e.name)))})):o.a.createElement("p",{className:"text-meta text-center my-4"},O("webhooks.endpoints.empty.triggers"))))),o.a.createElement(Ss.a,{className:"border"},o.a.createElement(Ss.a.Header,{className:"bg-meta py-3 px-4"},o.a.createElement("h4",{className:"text-hdr-sml m-0"},O("webhooks.endpoints.form.fields.events.selected"))),o.a.createElement(Ss.a.Body,{className:"triggers p-4 overflow-auto"},0===f.length&&o.a.createElement("p",{className:"text-meta mb-0"},O("webhooks.endpoints.form.fields.events.error")),i.filter((function(e){return f.some((function(t){return e.name===t}))})).map((function(e,t){return o.a.createElement(xu,{key:t,data:e,isLast:t!==i.filter((function(e){return f.some((function(t){return e.name===t}))})).length-1})}))))),o.a.createElement("footer",{className:"d-flex"},o.a.createElement(co,{variant:"primary",type:"submit",size:"sm",className:"mr-3 px-4",loading:c,disabled:!p||Object.keys(t).length},O(n.id?"common:buttons.save":"webhooks.endpoints.buttons.create")),n.id&&o.a.createElement(dn.a,{variant:"outline-primary",size:"sm",className:"loaded mr-3 px-4",disabled:0===f.length,onClick:function(){return k(bu(bu({},N),{},{test:!0}))}},O("webhooks.endpoints.form.buttons.test")),o.a.createElement(dn.a,hu({variant:"outline-light",disabled:c,size:"sm",className:"px-4",as:m.c,exact:!0,to:"/dev/webhooks"},"exact",!0),O("common:buttons.cancel")),P(d,"webhooks","Delete")&&n.id&&o.a.createElement(dn.a,{variant:N.delete?"warning":"outline-warning",onClick:function(){return k(bu(bu({},N),{},{delete:!0}))},size:"sm",className:"delete action px-4 ml-auto"},O(N.delete?"common:status.deleting":"common:buttons.delete"))),N.delete&&o.a.createElement(Nc,{show:N.delete,data:N.data,title:O("common:buttons.confirm"),message:O("common:form.messages.confirm.delete",{name:N.name}),buttonLabel:O("common:buttons.delete"),buttonVariant:"warning",onHide:C}),N.save&&o.a.createElement(Nc,{show:N.save,title:O("common:buttons.saveChanges"),message:O("common:form.messages.confirm.save",{name:N.name}),buttonLabel:O("common:buttons.save"),onHide:T,data:N.data}),N.test&&o.a.createElement(du,{show:N.test,data:N.data,onHide:function(){return k(bu(bu({},N),{},{test:!1}))},actions:a}))})):o.a.createElement(o.a.Fragment,null,o.a.createElement(cr.a,{as:"ul",className:"list-unstyled mt-3 m-0"},o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},O("webhooks.endpoints.form.fields.name.label")),o.a.createElement("span",{className:"text-lg"},n.name)),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},O("webhooks.endpoints.form.fields.url.label")),o.a.createElement("span",{className:"text-lg"},n.url)),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},O("webhooks.endpoints.form.fields.app.name.label")),o.a.createElement("span",{className:"text-lg"},l.find((function(e){return e.id===n.app_id})).name)),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},O("webhooks.endpoints.form.fields.retries.max_attempts.label")),o.a.createElement("span",{className:"text-lg"},n.max_attempts)),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},O("webhooks.endpoints.form.fields.retries.retry_interval.label")),o.a.createElement("span",{className:"text-lg"},n.retry_interval," ",O("common:labels.seconds"))),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},O("webhooks.endpoints.labels.events")),n.triggers.length?n.triggers.map((function(e,t){return o.a.createElement("span",{className:"text-lg d-block"},"/".concat(e).concat(t!==n.triggers.length-1?", ":""))})):o.a.createElement("span",{className:"text-lg"},O("webhooks.endpoints.form.fields.events.empty")))),0!==n.triggers.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:"text-lg mb-4 text-meta"},O("webhooks.endpoints.form.fields.events.selected")),o.a.createElement(Ss.a,{className:"border mt-4 mb-2"},o.a.createElement(Ss.a.Body,{className:"p-4"},i.filter((function(e){return n.triggers.some((function(t){return e.name===t}))})).map((function(e,t){return o.a.createElement(xu,{key:t,data:e,isLast:t!==i.filter((function(e){return n.triggers.some((function(t){return e.name===t}))})).length-1})}))))))};Ou.propTypes={formRef:la.a.any.isRequired,actions:la.a.object.isRequired,apps:la.a.array.isRequired,setIsLoading:la.a.func.isRequired,initialValues:la.a.object.isRequired,setName:la.a.func.isRequired,getEndpoint:la.a.func.isRequired};var ju=Ou;function _u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(a),!0).forEach((function(t){ku(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ku(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Su(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Iu(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Su(o,n,r,s,i,"next",e)}function i(e){Su(o,n,r,s,i,"throw",e)}s(void 0)}))}}function Au(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pu(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Tu=parseInt(p.a.get("sila_endpoints_app")),Cu=function(e){var t=e.t,a=e.match,n=e.location,s=e.actions,i=e.history,l=e.user,c=Au(Object(r.useState)(!0),2),u=c[0],m=c[1],d=Au(Object(r.useState)([]),2),p=d[0],f=d[1],b=Au(Object(r.useState)([]),2),h=b[0],y=b[1],g=Au(Object(r.useState)({active:!0,name:"",url:"",max_attempts:5,retry_interval:60,app_id:"new"!==a.params.app?a.params.app:Tu||"",triggers:[]}),2),v=g[0],E=g[1],w=Au(Object(r.useState)(v.name),2),x=w[0],O=w[1],j=Object(r.useRef)(null),_=function(){var e=Iu(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.getEndpoint(a.params.id,v.app_id);case 3:(t=e.sent).success?E(t.endpoint):i.push("/dev/webhooks"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:return e.prev=10,m(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Iu(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it.fetchApps({team:l.currentTeam.id,limit:20});case 3:t=e.sent,f(t.apps.map((function(e){return{name:e.name,id:e.id}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[l.currentTeam]),Object(r.useEffect)((function(){p.length&&h.length&&"detail"===a.params.action?_():p.length&&h.length&&m(!1)}),[n,h,p]),Object(r.useEffect)((function(){u||O(v.name)}),[u]),Object(r.useEffect)((function(){var e=function(){var e=Iu(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.fetchPayloads(h.filter((function(e){return!e.payload})));case 3:t=e.sent,y(h.map((function(e){return Nu(Nu({},e),{},{payload:JSON.stringify(t.find((function(t){return t.name===e.name})).payload,null,"\t")})}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();h.length&&h.some((function(e){return!e.payload}))&&e()}),[h]),Object(r.useEffect)((function(){(function(){var e=Iu(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.getTriggers();case 3:t=e.sent,y(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),Object(mr.a)(".triggers .trigger-search",{useStickyClasses:!0})}),[]),o.a.createElement(Jn.a,{className:"webhooks main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},u?o.a.createElement(pa,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5 loaded"},o.a.createElement(Nl,{title:t("webhooks.endpoints.headers.".concat(a.url.includes("new")?"create":"detail"))},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return i.goBack()}},t("common:buttons.back")))),o.a.createElement(Ss.a,{className:"loaded"},"detail"===a.params.action&&o.a.createElement(Ss.a.Header,{className:"d-flex justify-content-between p-4"},o.a.createElement("h2",{className:"m-0"},x),P(l,"webhooks","Write")?o.a.createElement(dr.a,null,o.a.createElement(dr.a.Check,{type:"switch",id:"endpoint-active",defaultChecked:v.active,onChange:function(e){return j.current.setFieldValue("active",e.target.checked)},label:t("common:status.active")})):o.a.createElement("h3",{className:"text-lg text-".concat(v.active?"success":"warning")},t("common:status.".concat(v.active?"active":"inactive")))),o.a.createElement(Ss.a.Body,null,o.a.createElement(ju,{formRef:j,actions:s,initialValues:v,setName:O,triggers:h,apps:p,setIsLoading:m,getEndpoint:_})))))},Ru=a("./node_modules/react-table/index.js");function Mu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Du(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(a),!0).forEach((function(t){Fu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qu(e){return function(e){if(Array.isArray(e))return zu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Uu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||Uu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(e,t){if(e){if("string"==typeof e)return zu(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?zu(e,t):void 0}}function zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Vu=function(e){var t=e.column,a=e.show,n=e.isGlobal,r=e.handleChange;return t.isVisible=a,t.isGlobal=n,t.handleChange=r,t.canFilter&&t.render("Filter")},Bu=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=[];return e.forEach((function(e){a.length&&a.some((function(a){return t[0].split(".").reduce((function(e,t){return e[t]}),e.values).includes(a)}))&&n.push(e)})),n},Hu=function(e){var t=e.column,a=t.filterValue,n=t.setFilter,r=t.preFilteredRows.length,s=Object(qa.a)().t;return o.a.createElement(dr.a.Control,{value:a||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"".concat(s("common:labels.search")," (").concat(r,")")})},Ku=function(e){var t=e.preFilteredRows,a=e.column,n=a.filterValue,s=void 0===n?[]:n,i=a.setFilter,l=a.id,c=a.isVisible,u=a.isGlobal,m=a.handleChange,d=a.Header,p=a.filterOptions,f=Object(qa.a)().t,b=Object(r.useRef)(),h=Object(r.useMemo)((function(){return p&&p.length?p:Ju(t,l)}),[l,t,p]),y=Lu(Object(r.useState)(s.some((function(e){return e.term}))?s.find((function(e){return e.term})).term:""),2),g=y[0],v=y[1],E=Lu(Object(r.useState)(s.filter((function(e){return!e.term&&e!==g}))),2),w=E[0],x=E[1];Object(r.useEffect)((function(){!u&&c&&b.current.reset()}),[u,c]),Object(r.useEffect)((function(){Object(mr.a)(".options .term-message",{useStickyClasses:!0})}),[]);var O=function(){return o.a.createElement(o.a.Fragment,null,!p&&o.a.createElement("header",{className:"p-3 border-light border-bottom"},o.a.createElement(dr.a.Control,{className:"w-100",size:u?"sm":void 0,defaultValue:g,placeholder:f("common:labels.search"),"aria-label":f("common:labels.search"),onChange:function(e){var t=e.target.value.trim();v(t),u&&m&&m(t.length?[].concat(qu(w),[{term:t}]):w.length&&!t.length?w:void 0)}})),0!==h.length&&o.a.createElement("div",{className:"options overflow-auto",style:{maxHeight:200}},!p&&0!==g.length&&o.a.createElement("p",{className:"term-message p-3 mb-0 text-center text-light text-sm bg-alt"},o.a.createElement(is.a,{i18nKey:"common:filters.labels.".concat(s.some((function(e){return e.term}))?"searching":"suggestion")},"Search ",o.a.createElement("span",{className:"mark"},'"',{term:g},'"')," by ",{Header:d},"?")),o.a.createElement("ul",{className:"list-unstyled mb-0 results ".concat(u?"p-2":"p-0")},h.map((function(e,t){var a=e.label||e,n=e.value||e;return o.a.createElement("li",{key:t,className:"px-3 py-2 border-light text-sm".concat(0!==t?" border-top":"")},o.a.createElement(dr.a.Check,{id:n.toString()},o.a.createElement(dr.a.Check.Input,{defaultChecked:s&&s.filter((function(e){return e.length&&!e.term})).some((function(e){return e===n})),type:"checkbox",name:n,value:n,onChange:function(e){var t=Zu(w,e.target.value);x(t),u&&m&&m(t)}}),o.a.createElement(dr.a.Check.Label,{className:"d-block"},a)))})))))};return o.a.createElement("div",{className:"filter m-n3"},u?O():o.a.createElement(dr.a,{ref:b,onSubmit:function(e){e.preventDefault(),i(g.length?[].concat(qu(w),[{term:g}]):w.length&&!g.length?w:void 0)}},O(),o.a.createElement("footer",{className:"p-3 border-top border-light"},o.a.createElement(dn.a,{block:!0,type:"submit",size:"sm"},f("common:buttons.apply")))))},Yu=function(e){var t=e.preFilteredRows,a=e.column,n=a.filterValue,s=a.setFilter,i=a.id,l=a.isVisible,c=a.isGlobal,u=a.handleChange,m=a.filterOptions,d=Object(qa.a)().t,p=Object(r.useRef)(),f=Object(r.useMemo)((function(){return m&&m.length?m:Ju(t,i)}),[i,t,m]);Object(r.useEffect)((function(){!c&&l&&p.current.reset()}),[c,l]);var b=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(dr.a.Control,{id:i,as:"select",defaultValue:n instanceof Array?n[0]:n,onChange:function(e){var t=e.target.value||void 0;c&&u?u(t):s(t)}},o.a.createElement("option",{value:""},d("common:labels.all")),f.map((function(e,t){var a=e.value||e,n=e.label||e;return o.a.createElement("option",{key:t,value:a},n)}))))};return c?b():o.a.createElement(dr.a,{ref:p,className:"filter"},b())},Gu=function(e){var t=e.column,a=t.filterValue,n=void 0===a?[]:a,s=t.setFilter,i=t.id,l=t.isGlobal,c=t.handleChange,u=Lu(Object(r.useState)(0!==n.length),2),m=u[0],d=u[1],p=Lu(Object(r.useState)(n),2),f=p[0],b=p[1],h=Object(qa.a)().t;Object(r.useEffect)((function(){l&&c&&f&&2===f.length&&!f.includes(void 0)&&c(f)}),[f]),Object(r.useEffect)((function(){f||d(!1)}),[]);var y=function(){var e;return o.a.createElement("div",{className:l?"p-3":"p-0"},o.a.createElement("section",{className:"filter-all px-3 py-2 border-light text-sm border-top"},o.a.createElement(dr.a.Check,{className:"text-nowrap",label:h("common:labels.all"),type:"radio",name:"filter",id:"".concat(i,".all"),defaultChecked:!m||!f,onChange:function(){d(!1),l&&c&&c?c(""):s("")}})),o.a.createElement("section",{className:"filter-range px-3 py-2 border-light text-sm border-top"},o.a.createElement(dr.a.Check,{className:"text-nowrap",label:h("common:filters.labels.date"),type:"radio",name:"filter",id:"".concat(i,".range"),defaultChecked:m,onChange:function(){return d(!0)}})),m&&o.a.createElement("section",{className:"filter-picker loaded p-3"},o.a.createElement(dr.a.Label,{className:"text-sm",htmlFor:"".concat(i,".from")},h("common:labels.from"),":"),o.a.createElement(dr.a.Control,{size:"sm",className:"w-100",id:"".concat(i,".from"),onChange:function(e){var t=e.target.value;b((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[t?t.concat("T00:00:00.000Z"):void 0,e[1]]}))},type:"date",defaultValue:f[0]||""}),o.a.createElement("br",null),o.a.createElement(dr.a.Label,{className:"text-sm",htmlFor:"".concat(i,".to")},h("common:labels.to"),":"),o.a.createElement(dr.a.Control,{size:"sm",className:"w-100",id:"".concat(i,".to"),onChange:function(e){var t=e.target.value;b((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e[0],t?t.concat("T23:59:59.999Z"):void 0]}))},type:"date",defaultValue:(null===(e=f[1])||void 0===e?void 0:e.slice(0,10))||""})))};return o.a.createElement("div",{className:"filter m-n3"},l?y():o.a.createElement(dr.a,{onSubmit:function(e){e.preventDefault(),s(f)}},y(),o.a.createElement("footer",{className:"p-3 border-top border-light"},o.a.createElement(dn.a,{block:!0,type:"submit",size:"sm"},h("common:buttons.apply")))))},Wu=function(e){var t=e.preFilteredRows,a=e.column,n=a.filterValue,s=a.setFilter,i=a.id,l=(a.Header,a.isGlobal),c=a.handleChange,u=Object(qa.a)().t,m=Lu(o.a.useMemo((function(){var e=t.length&&t[0].values[i]>1?t[0].values[i]:0,a=t.length&&t[0].values[i]>1?t[0].values[i]:0;return t.forEach((function(t){e=Math.min(t.values[i],e),a=Math.max(t.values[i],a)})),[e,a]}),[i,t]),2),d=m[0],p=m[1],f=Lu(Object(r.useState)(n?n[0]:d),2),b=f[0],h=f[1],y=Lu(Object(r.useState)(n?n[1]:p),2),g=y[0],v=y[1],E=Lu(Object(r.useState)(n||[d,p]),2),w=E[0],x=E[1],O=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"filter-picker p-3"},o.a.createElement(dr.a.Label,{className:"text-sm",htmlFor:"".concat(i,".min")},u("common:labels.min"),":"),o.a.createElement(dr.a.Control,{size:"sm",className:"w-100",id:"".concat(i,".min"),value:b,type:"number",onChange:function(e){var t=[+e.target.value,g];h(t[0]),x(t),l&&c&&c(t)}}),o.a.createElement("br",null),o.a.createElement(dr.a.Label,{className:"text-sm",htmlFor:"".concat(i,".max")},u("common:labels.max"),":"),o.a.createElement(dr.a.Control,{size:"sm",className:"w-100",type:"number",id:"".concat(i,".max"),value:g,onChange:function(e){var t=[b,+e.target.value];v(t[1]),x(t),l&&c&&c(t)}})))};return o.a.createElement("div",{className:"filter m-n3"},l?O():o.a.createElement(dr.a,{onSubmit:function(e){e.preventDefault(),s(w)}},O(),o.a.createElement("footer",{className:"p-3 border-top border-light"},o.a.createElement(dn.a,{block:!0,type:"submit",size:"sm"},u("common:buttons.apply")))))},$u=function(e){var t=e.filters,a=e.sortBy,n=function(e){var t=e.filters,a=e.sortBy,n={filters:[],sortBy:[]};return a.length?a.forEach((function(e){var t="&sort_keys=".concat(e.id).concat(e.desc?"_desc":"");n.sortBy.some((function(t){return t.includes(e.id)}))?n.sortBy.map((function(a){return a.includes(e.id)?t:a})):n.sortBy.push(t)})):n.sortBy=[],t.length?t.forEach((function(e){var t;e.value instanceof Array?e.value.forEach((function(a){t="&".concat(a.term?"".concat(e.id,"SearchTerm"):e.id,"=").concat(a.term||a),n.filters.some((function(e){return e.includes(t)}))||n.filters.push(t)})):(t="&".concat(e.id,"=").concat(e.value),n.filters.some((function(e){return e.includes(t)}))||n.filters.push(t))})):n.filters=[],[].concat(qu(n.sortBy),qu(n.filters)).join("")};return{query:n({filters:t.query,sortBy:a.query}).replace(/SearchTerm/g,""),url:n({filters:t.url,sortBy:a.url}).substring(1)}},Qu=function(e){var t={filters:[],sortBy:[]};return e.split("&").length&&e.split("&").forEach((function(e){var a,n,r=e.split("=");r.length&&(a=r[0],n=decodeURI(r[1]),a.includes("sort_keys")?t.sortBy.push({id:n.replace(/_desc/g,""),desc:n.includes("desc")}):t.filters.some((function(e){return!a.includes("SearchTerm")&&e.id===a&&e.value.some((function(e){return e!==n}))||a.includes("SearchTerm")&&e.id===a.replace(/SearchTerm/g,"")&&e.value.some((function(e){return e.term&&e.term!==n}))}))?t.filters.forEach((function(e,r){t.filters.findIndex((function(e){return e.id===a.replace(/SearchTerm/g,"")}))===r&&(t.filters[r]=Du(Du({},e),{},{value:[].concat(qu(e.value),[e.value.some((function(e){return e.term}))?{term:n}:n])}))})):a.includes("SearchTerm")?t.filters.push({id:a.replace(/SearchTerm/g,""),value:[{term:n}]}):t.filters.push({id:a,value:[n]}))})),t},Zu=function(e,t){return e.includes(t)?e=e.filter((function(e){return e!==t})):e.push(t),e},Ju=function(e,t){var a=[],n=function(e){return!a.some((function(t){return Object.hasOwnProperty("value")&&t.value.toString()===e||!Object.hasOwnProperty("value")&&t===e}))};return e.forEach((function(e){Array.isArray(e.values[t])?e.values[t].forEach((function(e){n(e.value||e)&&a.push(e)})):e.values[t]&&n(e.values[t].value||e.values[t])&&a.push(e.values[t])})),a},Xu=["column","filters"];function em(){return(em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function am(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(a),!0).forEach((function(t){nm(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tm(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function nm(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return om(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return om(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function om(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function sm(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var im=function(e){var t=e.column,a=e.filters,n=sm(e,Xu),s=rm(Object(r.useState)(!1),2),i=s[0],l=s[1],c=Object(qa.a)().t;return o.a.createElement("th",em({},n,t.getHeaderProps(),{className:t.columnClasses?t.columnClasses:void 0,style:t.columnStyles?am(am({},t.getHeaderProps.style),t.columnStyles(t)):void 0}),o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("div",em({className:"position-relative".concat(t.canSort?" pr-3":"")},t.getSortByToggleProps()),t.render("Header"),t.canSort&&o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{style:{right:0},className:"text-ultra-light fas ml-2 mt-1 position-absolute fa-sort"}),t.isSorted&&o.a.createElement("i",{style:{right:0},className:"text-primary fas ml-2 mt-1 position-absolute fa-sort-".concat(t.isSortedDesc?"down":"up")}))),t.canFilter&&o.a.createElement(fr.a,{onToggle:function(e){return l(e)}},o.a.createElement(fr.a.Toggle,{variant:"link",title:c("common:filters.labels.toggle"),bsPrefix:"p-0 ml-2 text-decoration-none"},o.a.createElement("i",{className:"sila-icon filter text-sm ".concat(i||a.some((function(e){return e.id===t.id}))?"text-primary":"text-meta")})),o.a.createElement(fr.a.Menu,{className:"p-0 w-auto",style:{minWidth:200}},o.a.createElement("h3",{className:"bg-primary text-hdr-sml text-white px-3 py-2 rounded-top mb-0"},c("common:filters.headers.filter")),o.a.createElement("div",{className:"p-3"},o.a.createElement(Vu,{column:t,show:i}))))))};im.propTypes={column:la.a.object.isRequired,filters:la.a.array};var lm=im,cm=function(e){var t=e.show,a=e.data,n=e.onHide,r=e.onDelete,s=Object(qa.a)().t;return o.a.createElement(mn.a,{id:"save-filter-modal",centered:!0,backdrop:"static",show:t,onHide:n,"aria-labelledby":"save-filter-modal-title"},o.a.createElement(hr.c,{initialValues:a,validationSchema:x.object().shape({name:x.string().required(s("common:form.errors.required",{field:s("common:filters.form.fields.filter.label")})).max(30,s("common:form.errors.max",{count:30}))}),onSubmit:n},(function(e){var t=e.errors,i=e.handleSubmit,l=e.dirty;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:i},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"save-filter-modal-title"},s("common:filters.buttons.save"))),o.a.createElement(mn.a.Body,null,o.a.createElement("p",{className:"text-lg"},s("common:filters.form.description")),o.a.createElement(hr.a,{required:!0,className:"filter-name",id:"filterForm.name",name:"name",placeholder:s("common:filters.form.fields.filter.label"),component:ro}),o.a.createElement(hr.a,{className:"filter-active",id:"filterForm.active",name:"active",type:"checkbox",component:ro},s("common:filters.form.fields.default.label"))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:a.id?"warning":"outline-light",onClick:function(){return a.id?r(a.id):n()}},s("common:buttons.".concat(a.id?"delete":"cancel"))),o.a.createElement(dn.a,{disabled:!l||Object.keys(t).length,type:"submit"},s("common:filters.buttons.".concat(a.id?"update":"save")))))})))};cm.propTypes={show:la.a.bool.isRequired,filter:la.a.object,onHide:la.a.func.isRequired};var um=cm,mm=["slug","columns","data","lastItem","tableFilters","setTableFilters","activeFilter","setActiveFilter","onRowClick","onRowHover","headerLeftComponent","headerRightComponent","renderRowSubComponent","renderCellComponent","renderEmptyComponent","handleRowClasses"];function dm(){return(dm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pm(e){return function(e){if(Array.isArray(e))return vm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fm(Object(a),!0).forEach((function(t){hm(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fm(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hm(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ym(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||gm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(e,t){if(e){if("string"==typeof e)return vm(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?vm(e,t):void 0}}function vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Em(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var wm=function(e){var t=e.slug,a=e.columns,n=e.data,s=e.lastItem,i=e.tableFilters,l=e.setTableFilters,c=e.activeFilter,u=e.setActiveFilter,m=e.onRowClick,d=e.onRowHover,p=e.headerLeftComponent,f=e.headerRightComponent,b=(e.renderRowSubComponent,e.renderCellComponent),h=e.renderEmptyComponent,y=e.handleRowClasses,g=Em(e,mm),v=ra(),E=v.app,w=v.setAppData,x=Object(qa.a)().t,O=i.sortBy,j=i.filters,_=Object(Fa.g)(),N=(jn(),Object(Ru.useTable)({columns:a,data:n,activeColumn:{Filter:Hu},manualFilters:!0,manualSortBy:!0,autoResetFilters:!1,autoResetSortBy:!1,initialState:{filters:j,sortBy:O}},Ru.useFilters,Ru.useSortBy)),k=N.state,S=N.getTableProps,I=N.getTableBodyProps,A=N.headerGroups,P=N.rows,T=N.prepareRow,C=N.visibleColumns,R=N.setAllFilters,M=N.setSortBy,D=ym(Object(r.useState)(!1),2),F=D[0],q=D[1],L=function(){u(!1),l({filters:[],sortBy:[]}),R([]),M([]),_.push(_.location.pathname)},U=function(e,t){e.target.closest&&!e.target.closest(".edit")?function(e){u(e)}(t):e.preventDefault()},z=function(e,t){return y?y(e,t):ar()("py-3",0===e&&"pl-4",e===t-1&&"pr-4",0!==e&&e!==t&&"px-4",e%2!=0&&"bg-alt",e%2==0&&"bg-white")};return Object(r.useEffect)((function(){c&&l({filters:c.filters,sortBy:c.sortBy})}),[c]),Object(r.useEffect)((function(){l({sortBy:k.sortBy,filters:k.filters})}),[k,l]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Ss.a,{className:"loaded flex-grow-1"},o.a.createElement(Ss.a.Header,{className:"p-4 d-block d-lg-flex align-items-center justify-content-between"},o.a.createElement("div",{className:"mr-auto d-block d-lg-flex align-items-center"},o.a.createElement(dr.a.Label,{className:"mr-3 mb-0 text-uppercase text-sm text-nowrap",htmlFor:"views-filter"},x("common:filters.views.header")),o.a.createElement(xc.a,{id:"views-filter",className:"text-nowrap ml-0 mt-2 ml-lg-2 mt-lg-0 w-auto",bsPrefix:"btn btn-outline-light btn-block",variant:"outline-light",disabled:0===E.settings.filters.filter((function(e){return e[t]})).length,title:c&&E.settings.filters.filter((function(e){return e[t]})).length?c.name:x("common:filters.views.all")},E.settings.filters.filter((function(e){return e[t]})).map((function(e,t){return o.a.createElement(fr.a.Item,{key:t,style:{minWidth:200},onClick:function(t){return U(t,e)},className:"d-flex align-items-center".concat(c&&e.id===c.id?" active":"")},o.a.createElement("span",{className:"text-sm"},e.name),o.a.createElement(dn.a,{size:"sm",variant:"link",className:"p-0 ml-auto edit",onClick:function(){q(e)}},o.a.createElement("i",{className:"ml-3 fas fa-pen ".concat(c&&e.id===c.id?"text-white":"text-primary")})))})),c&&o.a.createElement(fr.a.Item,{onClick:L},o.a.createElement("span",{className:"text-sm"},x("common:filters.views.all")))),p&&o.a.createElement("div",{className:"ml-0 mt-2 ml-lg-3 mt-lg-0"},p),o.a.createElement("div",{className:"d-flex align-items-top align-items-lg-center"},o.a.createElement("div",{className:"d-block d-lg-flex"},(!c&&(0!==j.length||0!==O.length)||c&&(JSON.stringify(c.filters)!==JSON.stringify(j)||JSON.stringify(c.sortBy)!==JSON.stringify(O)))&&o.a.createElement(dn.a,{size:"sm",variant:"link p-0 text-underline d-block d-lg-inline-block ml-0 ml-lg-4 mt-3 mt-lg-0 loaded",onClick:function(){q({filters:j,sortBy:O})}},x("common:filters.buttons.create")),(0!==j.length||0!==O.length)&&o.a.createElement(dn.a,{size:"sm",onClick:L,variant:"link",className:"p-0 text-underline text-meta d-block d-lg-inline-block mt-2 ml-0 mt-lg-0 ml-lg-3 loaded"},x("common:filters.buttons.clear"))))),o.a.createElement("div",{className:"ml-auto d-block d-lg-flex align-items-center"},f&&o.a.createElement("div",{className:"ml-0 mt-2 ml-lg-3 mt-lg-0"},f))),o.a.createElement(Ss.a.Body,{className:"py-0 px-4 d-flex flex-column"},o.a.createElement("div",{className:"mx-n4 table-filter d-flex flex-grow-1"},o.a.createElement(Oc.a,dm({hover:!0,responsive:!0,className:0!==n.length?"border-bottom border-light":void 0},S(),g),o.a.createElement("thead",null,A.map((function(e){return o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(t,a){return o.a.createElement(lm,{key:a,column:t,filters:j,className:z(a,e.headers.length)})})))}))),o.a.createElement("tbody",I(),0!==P.length?P.map((function(e){return T(e),o.a.createElement(r.Fragment,{key:e.getRowProps().key},o.a.createElement("tr",{onMouseEnter:d?function(t){return d(e.original,t)}:void 0,onMouseLeave:d?function(e){return d(!1,e)}:void 0,onClick:m?function(t){return m(e.original,t)}:void 0,ref:s&&P[P.length-1].index===parseInt(e.getRowProps().key.replace("row_",""))?s:null},e.cells.map((function(t,a){return o.a.createElement("td",dm({key:a,className:z(a,e.cells.length)},t.getCellProps()),b?b(t):t.render("Cell"))}))))})):o.a.createElement("tr",null,o.a.createElement("td",{className:"p-0 bg-white border-0 cursor-default",colSpan:C.length},h?h({headerGroups:A,tableFilters:i,setAllFilters:R}):o.a.createElement("p",{className:"text-meta text-center mx-4 my-5"},x("common:form.messages.empty"))))))))),F&&o.a.createElement(um,{show:F&&0!==Object.keys(F).length,data:F,onHide:function(e){if(e&&e.id)w({settings:bm(bm({},E.settings),{},{filters:E.settings.filters.map((function(a){return a[t]&&a.id===e.id?bm(bm({},a),e):a[t]&&e.active?bm(bm({},a),{},{active:!1}):a}))})},(function(){e.active&&u(e)}));else if(e){var a;w({settings:bm(bm({},E.settings),{},{filters:[].concat(pm(E.settings.filters.map((function(a){return a[t]?bm(bm({},a),{},{active:!e.active&&a.active}):a}))),[bm((a={},hm(a,t,!0),hm(a,"id",ka()()),a),e)])})},(function(){u(e)}))}q(!1)},onDelete:function(e){w({settings:bm(bm({},E.settings),{},{filters:E.settings.filters.filter((function(t){return t.id!==e}))})},(function(){c&&c.id===e&&L(),q(!1)}))}}))};wm.propTypes={slug:la.a.string.isRequired,columns:la.a.array.isRequired,data:la.a.array.isRequired,lastItem:la.a.oneOfType([la.a.func,la.a.string,la.a.object]),tableFilters:la.a.object.isRequired,setTableFilters:la.a.func.isRequired,activeFilter:la.a.oneOfType([la.a.object,la.a.bool]),setActiveFilter:la.a.func.isRequired,onRowClick:la.a.func,onRowHover:la.a.func,headerLeftComponent:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node]),headerRightComponent:la.a.oneOfType([la.a.arrayOf(la.a.node),la.a.node]),renderRowSubComponent:la.a.func,renderCellComponent:la.a.func,renderEmptyComponent:la.a.func,handleRowClasses:la.a.func};var xm=wm,Om=function(e){var t=e.onSubmit,a=Object(qa.a)().t;return o.a.createElement(hr.c,{initialValues:{uuid:""},validationSchema:x.object().shape({uuid:x.string().matches(an,{message:a("common:form.fields.uuid.error")})}),onSubmit:t},(function(e){var t=e.handleSubmit;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:t},o.a.createElement(hr.a,{required:!0,className:"uuid mb-0",htmlSize:40,fieldClass:"pr-0",id:"uuidSearchForm.uuid",placeholder:a("common:form.fields.uuid.placeholder"),name:"uuid",component:ro}))}))};Om.propTypes={onSubmit:la.a.func.isRequired};var jm=Om;function _m(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Nm(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){_m(o,n,r,s,i,"next",e)}function i(e){_m(o,n,r,s,i,"throw",e)}s(void 0)}))}}function km(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||Im(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sm(e){return function(e){if(Array.isArray(e))return Am(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Im(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(e,t){if(e){if("string"==typeof e)return Am(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Am(e,t):void 0}}function Am(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Pm=function(e){var t=e,a=e.find((function(e){return"event_created"===e.id})),n=e.find((function(e){return"last_response_status_code"===e.id}));return a&&(t=[].concat(Sm(t.filter((function(e){return"event_created"!==e.id}))),[{id:"event_created_from",value:a.value[0]},{id:"event_created_to",value:a.value[1]}])),n&&n.value[0].includes(",")&&(t=[].concat(Sm(t.filter((function(e){return"last_response_status_code"===e.id&&!e.value[0].includes(",")}))),Sm(n.value[0].split(",").map((function(e){return{id:"last_response_status_code",value:e.trim()}}))))),{url:e,query:t}},Tm=function(e){var t,a=e.t,n=e.history,s=e.user,i=e.actions,l=e.app,c=km(Object(r.useState)({show:!1,data:void 0}),2),u=c[0],d=c[1],p=km(Object(r.useState)([]),2),f=p[0],b=p[1],h=km(Object(r.useState)(!1),2),y=h[0],g=h[1],v=km(Object(r.useState)(l.settings.filters.find((function(e){return e.active&&e.webhook_events}))),2),E=v[0],w=v[1],x=km(Object(r.useState)(location.search.length?Qu(location.search.substring(1)):{filters:E?E.filters:[],sortBy:E?E.sortBy:[]}),2),O=x[0],j=x[1],_=$u({filters:Pm(O.filters),sortBy:(t=O.sortBy,{url:t,query:t})}),N=_.query,k=_.url,S=Dn(It.fetchWebhookEvents,{slug:"events",limit:20,team:s.currentTeam.id,query:N},P(s,"webhooks","Read")),I=S.data,A=S.lastItem,T=S.hasMore,C=S.isLoading,R=S.isFetching,M=S.setRefresh,D=S.loaded,F=function(){var e=Nm(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.getTriggers();case 3:t=e.sent,b(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Nm(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.fetchDisabledWebhooks(s.currentTeam.id);case 3:t=e.sent,g(0!==I.length&&0!==t.endpoints.length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Nm(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.resendWebhookEvent(t,s.currentTeam.id);case 3:a=e.sent,i.addItem("alerts",{message:a.message,style:"success"}),M(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i.addItem("alerts",{message:e.t0,style:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),U=Object(r.useMemo)((function(){return[{id:"event_created",Header:a("common:labels.created"),accessor:"event_created",Filter:Gu,Cell:function(e){var t=e.value;return z(t)},columnStyles:function(){return{width:"20%"}}},{id:"webhook_endpoint_name",Header:a("webhooks.events.list.labels.name"),accessor:"webhook_endpoint_name",disableSortBy:!0,filter:Bu,Filter:Ku,Cell:function(e){var t=e.value,a=e.row;return o.a.createElement("span",{className:"text-break d-inline-block position-relative".concat(a.original.webhook_endpoint_active?"":" text-warning pr-4")},t,!a.original.webhook_endpoint_active&&o.a.createElement("i",{className:"ml-2 fas fa-exclamation-triangle text-warning position-absolute mt-1"}))}},{id:"app_handle",Header:a("admin.labels.app"),accessor:"app_handle",disableSortBy:!0,filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},t)}},{id:"webhook_endpoint_active",Header:a("webhooks.events.list.labels.active"),accessor:"webhook_endpoint_active",filter:Bu,Filter:Yu,columnStyles:function(){return{width:"1%"}},Cell:function(e){var t=e.value;return o.a.createElement("span",{className:t?void 0:"text-warning"},a("common:status.".concat(t?"active":"inactive")))},disableSortBy:!0,disableFilters:!0,filterOptions:[{label:a("common:status.active"),value:"true"},{label:a("common:status.inactive"),value:"false"}]},{id:"event_type",Header:a("webhooks.events.list.labels.event"),accessor:"event_type",filter:Bu,Filter:Ku,columnStyles:function(){return{width:"5%"}},Cell:function(e){var t=e.value;return"/".concat(t)},disableSortBy:!0,filterOptions:f.map((function(e){return{label:e.label,value:e.name}}))},{id:"is_delivered",Header:a("webhooks.events.list.labels.delivered"),accessor:"is_delivered",Filter:Yu,Cell:function(e){var t=e.value;return K(t)},columnStyles:function(){return{width:"1%"}},disableSortBy:!0,filterOptions:[{label:a("common:status.true"),value:"true"},{label:a("common:status.false"),value:"false"}]},{id:"last_response_status_code",Header:a("webhooks.events.list.labels.status_code"),accessor:"last_response_status_code",filter:Bu,Filter:Ku,Cell:function(e){var t=e.value,a=t&&parseInt(t.toString().charAt(0));return t?o.a.createElement("span",{className:"text-".concat(2==a?"success":4==a||5==a?"warning":"primary")},t):null},columnStyles:function(){return{width:"1%"}},disableSortBy:!0,filterOptions:[{label:a("webhooks.events.list.filters.status_code.info"),value:"1XX"},{label:a("webhooks.events.list.filters.status_code.success"),value:"2XX"},{label:a("webhooks.events.list.filters.status_code.redirect"),value:"3XX"},{label:a("webhooks.events.list.filters.status_code.error"),value:"4XX,5XX"}]},{id:"retry",Header:"",filter:Bu,Filter:Ku,disableFilters:!0,disableSortBy:!0,Cell:function(e){var t=e.row;return!P(s,"webhooks","Write")||t.original.is_delivered||t.original.is_pending?null:o.a.createElement(dn.a,{size:"sm",className:"retry",onClick:function(){return d({show:!0,data:t.original})}},a("common:buttons.retry"))}}]}),[f,s]),V=function(e,t){!t.target||t.target.closest&&!t.target.closest(".retry")||!t.target.closest&&!t.target.className.includes("retry")?n.push("/dev/webhook_events/".concat(e.uuid,"/detail")):t.preventDefault()},B=function(){M(!0),q()};return Object(r.useEffect)((function(){D&&B()}),[s.currentTeam,O.filters,O.sortBy]),Object(r.useEffect)((function(){decodeURI(location.search.substring(1))!==k&&n.push({pathname:location.pathname,search:k})}),[k]),Object(r.useEffect)((function(){q()}),[I]),Object(r.useEffect)((function(){F()}),[]),o.a.createElement(o.a.Fragment,null,y&&o.a.createElement(sr,{className:"border-top-0 border-left-0 border-right-0 d-flex flex-grow-0 loaded",alert:{icon:"fa-exclamation-triangle",message:a("webhooks.events.list.messages.disabled"),style:"danger",dismissible:!0}}),o.a.createElement(Jn.a,{className:"main-content-container d-flex flex-column flex-grow-1 p-3 p-md-5"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:a("webhooks.events.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",as:m.c,to:{pathname:"/dev",state:{from:location.pathname}}},a("common:buttons.back")))),!P(s,"webhooks","Read")&&o.a.createElement(oc,null),C?o.a.createElement(pa,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(xm,{tableFilters:O,setTableFilters:j,activeFilter:E,setActiveFilter:w,slug:"webhook_events",lastItem:R?void 0:A,onRowClick:V,headerLeftComponent:o.a.createElement(jm,{onSubmit:V}),headerRightComponent:o.a.createElement(dn.a,{variant:"link",onClick:B,className:"text-meta text-lg text-bold p-0 ml-0 ml-sm-4 mt-2 mt-sm-0"},o.a.createElement("i",{className:"fas fa-sync-alt mr-2 text-primary"}),a("common:buttons.refresh")),columns:U,data:I}),R&&T&&o.a.createElement("div",{className:"fetching"},o.a.createElement(pa,{label:a("webhooks.events.loading")}))),u.show&&o.a.createElement(Nc,{show:u.show,data:u.data,title:a("webhooks.events.retry.confirm.title",{name:u.data.webhook_endpoint_name}),message:a("webhooks.events.retry.confirm.description",{name:u.data.webhook_endpoint_name}),buttonLabel:a("common:buttons.retry"),onHide:function(e){e&&L(e),d({show:!1,data:void 0})}})))};function Cm(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Rm(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Cm(o,n,r,s,i,"next",e)}function i(e){Cm(o,n,r,s,i,"throw",e)}s(void 0)}))}}function Mm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dm(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dm(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Fm=function(e){var t=e.t,a=e.match,n=e.location,s=e.actions,i=e.history,l=e.user,c=Mm(Object(r.useState)(!1),2),u=c[0],d=c[1],p=Mm(Object(r.useState)(!1),2),f=p[0],b=p[1],h=u?parseInt(u.last_response_status_code.toString().charAt(0)):0,y=function(){var e=Rm(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.getEndpoint(t,a);case 3:n=e.sent,b(n.success),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Rm(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.getWebhookEvent(a.params.id,l.currentTeam.id);case 3:(t=e.sent).success?(d(t.event),y(t.event.webhook_endpoint_id,t.event.app.app_id)):i.push("/dev/webhook_events"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){"detail"===a.params.action?g():i.push("/dev/webhook_events")}),[n]),o.a.createElement(Jn.a,{className:"webhooks main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5 loaded"},o.a.createElement(Nl,{title:t("webhooks.events.detail.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return i.goBack()}},t("common:buttons.back")))),u?o.a.createElement(Ss.a,{className:"loaded"},o.a.createElement(Ss.a.Header,{className:"d-block d-sm-flex justify-content-between aling-content-stretch p-4"},o.a.createElement("h2",{className:"mb-3 mb-sm-0 flex-grow-1"},o.a.createElement("span",{className:"text-break d-block w-75"},u.webhook_endpoint_name," ",o.a.createElement("span",{className:"mx-2 text-meta"},"|")," ",u.webhook_endpoint_url)),o.a.createElement("div",{className:"d-flex align-items-center"},f&&o.a.createElement(dn.a,{as:m.c,size:"sm",className:"loaded mr-4",to:{pathname:"/dev/webhooks/".concat(u.app.app_id,"/").concat(u.webhook_endpoint_id,"/detail"),state:{from:n.pathname}}},t("webhooks.events.detail.buttons.manage")),o.a.createElement("p",{className:"text-lg mb-0 text-".concat(u.is_webhook_endpoint_disabled?"warning":"success")},t("common:status.".concat(u.is_webhook_endpoint_disabled?"inactive":"active"))))),o.a.createElement(Ss.a.Body,{className:"pt-5"},o.a.createElement(cr.a,{as:"ul",className:"list-unstyled m-0"},o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},t("common:labels.created")),o.a.createElement("span",{className:"text-lg"},z(u.created))),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},t("webhooks.endpoints.labels.events")),o.a.createElement("span",{className:"text-lg"},"/".concat(u.event_type))),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},t("webhooks.events.detail.labels.status_code")),o.a.createElement("span",{className:"text-lg text-".concat(2==h?"success":4==h||5==h?"warning":"primary")},u.last_response_status_code)),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},t("webhooks.endpoints.labels.attempts")),o.a.createElement("span",{className:"text-lg"},u.attempts)),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},t("webhooks.events.detail.labels.uuid")),o.a.createElement("span",{className:"text-lg text-break w-100"},u.uuid)),o.a.createElement(Xn.a,{as:"li",md:"4",className:"border-left pl-4 mb-5"},o.a.createElement("h4",{className:"text-meta text-sm"},t("webhooks.endpoints.labels.app")),o.a.createElement("span",{className:"text-lg"},u.app.app_nickname.length?u.app.app_nickname:u.app.app_handle))),o.a.createElement(dr.a.Group,null,o.a.createElement(dr.a.Label,{className:"text-lg mb-4"},t("webhooks.events.detail.labels.request")),o.a.createElement(dr.a.Control,{readOnly:!0,disabled:!0,className:"no-resize overflow-auto",as:"textarea",rows:Object.keys(JSON.parse(u.json_details)).length+2,value:JSON.stringify(JSON.parse(u.json_details),null,"\t")})))):o.a.createElement(pa,null))},qm=[{name:"admin.headers.consoleUsers",items:[{title:"admin.consoleUsers.title",description:"admin.consoleUsers.description",to:"/console_users"}],permissions:function(e){return e&&e.is_superuser}},{name:"admin.headers.endUsers",items:[{title:"admin.endUsers.title",description:"admin.endUsers.description",to:"/end_users"}],permissions:function(e){return e&&e.is_superuser}},{name:"admin.headers.transactions",items:[{title:"admin.transactions.title",description:"admin.transactions.description",to:"/transactions"}],permissions:function(e){return e&&e.is_superuser}}],Lm=function(e){var t=e.t;return o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("admin.title")})),o.a.createElement(lc,{items:qm}))},Um=function(e){var t=e.t,a=e.history;return o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("admin.customers.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return a.goBack()}},t("common:buttons.back")))))};function zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||Ym(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Bm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vm(Object(a),!0).forEach((function(t){Hm(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vm(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Hm(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Km(e){return function(e){if(Array.isArray(e))return Gm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ym(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ym(e,t){if(e){if("string"==typeof e)return Gm(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Gm(e,t):void 0}}function Gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Wm=function(e){var t=e,a=e.find((function(e){return"name"===e.id}));return a&&(t=[].concat(Km(t.filter((function(e){return"name"!==e.id}))),[{id:"full_name",desc:a.desc},{id:"first_name",desc:a.desc}])),{url:e,query:t}},$m=function(e){var t=e,a=e.find((function(e){return"access_granted"===e.id}));return a&&2===a.value.length?t=t.filter((function(e){return"access_granted"!==e.id})):a&&(t=t.map((function(e){return"access_granted"===e.id?Bm(Bm({},e),{},{value:"Production"===e.value[0]}):e}))),{url:e,query:t}},Qm=function(e){var t=e.t,a=e.history,n=e.user,s=e.env,i=e.location,l=e.app,c=zm(Object(r.useState)(l.settings.filters.find((function(e){return e.active&&e.console_users}))),2),u=c[0],d=c[1],p=zm(Object(r.useState)(i.search.length?Qu(i.search.substring(1)):{filters:u?u.filters:[],sortBy:u?u.sortBy:[]}),2),f=p[0],b=p[1],h=$u({filters:$m(f.filters),sortBy:Wm(f.sortBy)}),y=h.query,g=h.url,v=Dn(Mt.fetchConsoleUsers,{slug:"console_users",limit:20,query:y},n&&n.is_superuser),E=v.data,w=v.lastItem,x=v.hasMore,O=v.isLoading,j=v.isFetching,_=v.setRefresh,N=v.loaded,k=Object(r.useMemo)((function(){return[{id:"name",Header:t("admin.labels.name"),accessor:function(e){return e.full_name||"".concat(e.first_name," ").concat(e.last_name)},filter:Bu,Filter:Ku,Cell:function(e){var a=e.value;return a?o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},a):t("common:labels.na")}},{id:"handle",Header:t("admin.labels.handle"),accessor:"handle",filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},t)}},{id:"email",Header:t("admin.labels.email"),accessor:function(e){return e.emails.map((function(e){return e.email}))},filter:Bu,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},t)},Filter:Ku},{id:"company",Header:t("admin.labels.company"),accessor:function(e){return e.companies.map((function(e){return e.name}))},filter:Bu,Cell:function(e){var a=e.value;return a.length?a.map((function(e,t){return o.a.createElement("span",{key:t,className:"d-block"},e)})):t("common:labels.na")},Filter:Ku},{id:"team",Header:t("admin.labels.team"),accessor:function(e){return e.teams.map((function(e){return e.name}))},filter:Bu,Cell:function(e){return e.value.map((function(e,t){return o.a.createElement("span",{key:t,className:"text-break d-block",style:{maxWidth:140}},e)}))},Filter:Ku},{id:"role",Header:t("admin.labels.role"),accessor:function(e){return e.teams.map((function(e){return K(e.role_name)}))},Cell:function(e){return e.value.map((function(e,t){return o.a.createElement("span",{key:t,className:"d-block"},e)}))},Filter:Ku,filter:Bu,filterOptions:[{label:t("teams.members.labels.roles.owner"),value:"owner"},{label:t("teams.members.labels.roles.manager"),value:"manager"},{label:t("teams.members.labels.roles.developer"),value:"developer"}]},{id:"access_granted",Header:t("admin.labels.approved"),accessor:function(e){return{label:e.access_granted?t("env.prod.label"):t("env.sandbox.label"),value:e.access_granted}},filter:Bu,Filter:Ku,Cell:function(e){return e.value.label},filterOptions:[{label:t("env.prod.label"),value:t("env.prod.label")},{label:t("env.sandbox.label"),value:t("env.sandbox.label")}]}]}),[]);return Object(r.useEffect)((function(){N&&_(!0)}),[s,f.filters,f.sortBy]),Object(r.useEffect)((function(){decodeURI(i.search.substring(1))!==g&&a.push({pathname:i.pathname,search:g})}),[g]),o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("admin.consoleUsers.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",as:m.c,to:{pathname:"/admin",state:{from:i.pathname}}},t("common:buttons.back")))),n&&!n.is_superuser&&o.a.createElement("div",{className:"position-relative"},o.a.createElement(oc,null)),O?o.a.createElement(pa,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(xm,{tableFilters:f,setTableFilters:b,activeFilter:u,setActiveFilter:d,slug:"console_users",lastItem:j?void 0:w,onRowClick:function(e){return a.push("/admin/console_users/".concat(e.handle,"/profile"))},columns:k,data:E}),N&&j&&x&&o.a.createElement("div",{className:"fetching"},o.a.createElement(pa,{label:t("admin.consoleUsers.loading")}))))},Zm=a("./node_modules/react-bootstrap/esm/Tab.js");function Jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xm(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ed=function(e){var t=e.show,a=e.name,n=e.handle,s=e.onHide,i=e.access_granted,l=Object(qa.a)().t,c=Jm(Object(r.useState)(!1),2),u=c[0],m=c[1],d=i?"revoke":"grant";return o.a.createElement(mn.a,{id:"prod-access-modal",centered:!0,backdrop:"static",show:t,onHide:s,"aria-labelledby":"prod-access-modal-title"},o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:function(e){e.preventDefault(),m(!0),s({access_granted:!i})}},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"prod-access-modal-title"},l("admin.consoleUsers.profile.prodAccess.".concat(d,".title")))),o.a.createElement(mn.a.Body,null,o.a.createElement("p",{className:"text-lg mb-4"},l("admin.consoleUsers.profile.prodAccess.".concat(d,".confirm"),{name:a})),o.a.createElement("p",{className:"text-meta"},l("admin.consoleUsers.profile.prodAccess.".concat(d,".description"),{name:a,handle:n}))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{variant:"outline-light",disabled:u,onClick:function(){return s()}},l("common:buttons.cancel")),o.a.createElement(co,{loading:u,onClick:u?function(e){return e.preventDefault()}:void 0,type:"submit"},l("admin.consoleUsers.profile.prodAccess.".concat(d,".action"))))))};ed.propTypes={show:la.a.bool.isRequired,name:la.a.string.isRequired,handle:la.a.string.isRequired,onHide:la.a.func.isRequired,access_granted:la.a.bool.isRequired};var td=ed;function ad(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nd(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var rd,od,sd,id=function(e){var t=e.show,a=e.data,n=e.handle,s=e.onHide,i=e.name,l=Object(qa.a)().t,c=ad(Object(r.useState)(!1),2),u=c[0],m=c[1];return o.a.createElement(mn.a,{id:"update-user-modal",centered:!0,backdrop:"static",show:t,onHide:function(){return s()},"aria-labelledby":"update-user-modal-title"},o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:function(e){e.preventDefault(),m(!0),s(a)}},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"update-user-modal-title"},l("admin.user.update.title"))),o.a.createElement(mn.a.Body,null,o.a.createElement("p",{className:"text-lg mb-4"},l("admin.user.update.confirm",{name:i})),o.a.createElement("p",{className:"text-meta"},l("admin.user.update.description",{name:i,handle:n}))),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{disabled:u,variant:"outline-light",onClick:function(){return s()}},l("common:buttons.cancel")),o.a.createElement(co,{loading:u,onClick:u?function(e){return e.preventDefault()}:void 0,type:"submit"},l("admin.user.update.action")))))};id.propTypes=(rd={show:la.a.bool.isRequired,handle:la.a.string.isRequired,onHide:la.a.func.isRequired,data:la.a.object},od="data",sd=la.a.object,od in rd?Object.defineProperty(rd,od,{value:sd,enumerable:!0,configurable:!0,writable:!0}):rd[od]=sd,rd);var ld=id;function cd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ud(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cd(Object(a),!0).forEach((function(t){md(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function md(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dd(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function pd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fd(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var bd=function(e){var t=e.actions,a=e.initialValues,n=e.getConsoleUser,s=e.setName,i=(e.setIsLoading,pd(Object(r.useState)({show:!1,data:void 0,handle:a.handle,name:"".concat(a.first_name," ").concat(a.surname)}),2)),l=i[0],c=i[1],u=Object(r.useRef)(null),m=Object(qa.a)().t,d=function(){var e,r=(e=regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=17;break}return e.prev=1,e.next=4,Mt.updateConsoleUser(a.handle,{first_name:r.first_name,last_name:r.surname,emails:r.emails.length&&r.emails.some((function(e){return e.email.length}))?r.emails:null,phones:r.phones.length&&r.phones.some((function(e){return e.phone.length}))?r.phones:null,birthdate:r.birthdate,addresses:r.addresses.length&&r.addresses.some((function(e){return e.street_address_1.length}))?r.addresses:null});case 4:n(),t.addItem("alerts",{message:m("admin.user.update.message",{name:"".concat(r.first_name," ").concat(r.surname)}),style:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t.addItem("alerts",{message:e.t0,style:"danger"}),u.current.resetForm({values:a});case 12:return e.prev=12,c(ud(ud({},l),{},{show:!1,data:void 0})),e.finish(12);case 15:e.next=19;break;case 17:u.current.setSubmitting(!1),c(ud(ud({},l),{},{show:!1,data:void 0}));case 19:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){dd(o,n,r,s,i,"next",e)}function i(e){dd(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return r.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jl,{formRef:u,initialValues:a,setName:s,onSubmit:function(e){return c(ud(ud({},l),{},{show:!0,data:e}))}}),l.show&&o.a.createElement(ld,{show:l.show,handle:l.handle,name:l.name,onHide:d,data:l.data}))};bd.propTypes={actions:la.a.object.isRequired,initialValues:la.a.object.isRequired,getConsoleUser:la.a.func.isRequired,setName:la.a.func,setIsLoading:la.a.func.isRequired};var hd=bd;function yd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(a),!0).forEach((function(t){vd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ed(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function wd(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Ed(o,n,r,s,i,"next",e)}function i(e){Ed(o,n,r,s,i,"throw",e)}s(void 0)}))}}function xd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Od(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Od(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Od(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var jd=function(e){var t=e.t,a=e.match,n=e.location,s=e.actions,i=e.history,l=xd(Object(r.useState)(a.params.action),2),c=l[0],u=l[1],d=xd(Object(r.useState)(!0),2),p=d[0],f=d[1],b=xd(Object(r.useState)({first_name:"",surname:"",full_name:"",handle:"",emails:[{email:"",action:"add"}],phones:[{phone:"",action:"add"}],birthdate:"",addresses:[{action:"add",street_address_1:"",street_address_2:null,city:"",state:"",postal_code:""}],lastActive:"",created:"",access_granted:!1}),2),h=b[0],y=b[1],g=xd(Object(r.useState)({show:!1,access_granted:h.access_granted,handle:a.params.handle}),2),v=g[0],E=g[1],w=function(){var e=wd(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.getConsoleUser(a.params.handle);case 3:(t=e.sent).success?(n=t.console_user,y({first_name:n.first_name,surname:n.last_name,full_name:n.full_name,handle:n.handle,emails:n.emails.length?n.emails:h.emails,phones:n.phones.length?n.phones:h.phones,birthdate:n.birthdate,addresses:n.addresses.length?n.addresses:h.addresses,lastActive:n.last_login_attempt,created:n.created,access_granted:n.access_granted})):i.goBack(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:return e.prev=10,f(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=wd(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=16;break}return e.prev=1,e.next=4,Mt.updateConsoleUser(a.params.handle,{access_granted:n.access_granted});case 4:y(gd(gd({},h),{},{access_granted:n.access_granted})),s.addItem("alerts",{message:t("admin.consoleUsers.profile.prodAccess.".concat(n.access_granted?"grant":"revoke",".message"),{handle:a.params.handle}),style:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s.addItem("alerts",{message:e.t0,style:"danger"});case 11:return e.prev=11,E(gd(gd({},v),{},{show:!1})),e.finish(11);case 14:e.next=17;break;case 16:E(gd(gd({},v),{},{show:!1}));case 17:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){u(a.params.action),"profile"===a.params.action&&w()}),[n]),o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("admin.consoleUsers.profile.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return i.goBack()}},t("common:buttons.back")))),p?o.a.createElement(pa,null):o.a.createElement(Ss.a,{className:"loaded"},o.a.createElement(Ss.a.Header,{className:"d-flex justify-content-between p-4"},o.a.createElement("h2",{className:"m-0"},h.full_name),o.a.createElement(dn.a,{variant:"link text-underline",onClick:function(){return E(gd(gd({},v),{},{show:!0}))},className:"p-0"},t("admin.consoleUsers.profile.prodAccess.".concat(h.access_granted?"revoke":"grant",".title")))),o.a.createElement(Ss.a.Body,{as:cr.a,className:"p-0",noGutters:!0},o.a.createElement(Zm.a.Container,{defaultActiveKey:c,onSelect:function(e){return u(e)}},o.a.createElement(Xn.a,{md:"4",lg:"3",xl:"2",className:"border-right border-light"},o.a.createElement(br.a,{className:"d-flex flex-column align-content-start h-100 py-4"},o.a.createElement(br.a.Item,{className:"w-100"},o.a.createElement(br.a.Link,{className:"d-block px-4 py-3".concat("profile"===c?" bg-alt text-primary":""),eventKey:"profile",as:m.c,to:{pathname:"/admin/console_users/".concat(a.params.handle,"/profile"),state:{from:n.pathname}}},t("admin.consoleUsers.navigation.profile"))))),o.a.createElement(Xn.a,{md:"8",lg:"9",xl:"10",className:"p-4"},o.a.createElement(Zm.a.Content,null,o.a.createElement(Zm.a.Pane,{eventKey:"profile"},o.a.createElement(cr.a,{noGutters:!0,className:"bg-meta px-4 py-3 mt-n4 ml-n4 mr-n4 mb-4"},o.a.createElement(Xn.a,null,o.a.createElement(dr.a.Label,{className:"text-primary mb-0"},t("common:labels.lastActive")),":",o.a.createElement("span",{className:"ml-3"},h.lastActive?z(h.lastActive):t("common:labels.na"))),o.a.createElement(Xn.a,null,o.a.createElement(dr.a.Label,{className:"text-primary mb-0"},t("common:labels.created")),":",o.a.createElement("span",{className:"ml-3"},z(h.created)))),o.a.createElement(hd,{actions:s,setIsLoading:f,getConsoleUser:w,initialValues:h}))))))),v.show&&o.a.createElement(td,{show:v.show,name:h.full_name,handle:h.handle,onHide:x,access_granted:h.access_granted}))},_d=function(e){var t=e.t,a=e.history;return o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("admin.apps.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return a.goBack()}},t("common:buttons.back")))))};function Nd(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||Id(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sd(e){return function(e){if(Array.isArray(e))return Ad(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Id(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Id(e,t){if(e){if("string"==typeof e)return Ad(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ad(e,t):void 0}}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Pd=function(e){var t=e,a=e.find((function(e){return"name"===e.id}));return a&&(t=[].concat(Sd(t.filter((function(e){return"name"!==e.id}))),[{id:"full_name",desc:a.desc},{id:"first_name",desc:a.desc}])),{url:e,query:t}},Td=function(e){var t,a=e.t,n=e.history,s=e.user,i=e.actions,l=e.env,c=e.app,u=kd(Object(r.useState)(c.settings.filters.find((function(e){return e.active&&e.end_users}))),2),d=u[0],p=u[1],f=kd(Object(r.useState)(location.search.length?Qu(location.search.substring(1)):{filters:d?d.filters:[],sortBy:d?d.sortBy:[]}),2),b=f[0],h=f[1],y=$u({filters:(t=b.filters,{url:t,query:t}),sortBy:Pd(b.sortBy)}),g=y.query,v=y.url,E=kd(Object(r.useState)([]),2),w=E[0],x=E[1],O=Dn(Mt.fetchEndUsers,{slug:"end_users",limit:20,query:g},s&&s.is_superuser&&P),j=O.data,_=O.setData,N=O.lastItem,k=O.hasMore,S=O.isLoading,I=O.isFetching,A=O.setRefresh,P=O.loaded,T=O.setLoaded,C=Object(r.useMemo)((function(){return[{id:"last_verification_time",Header:a("admin.endUsers.labels.verificationTime"),accessor:"last_verification_update",disableFilters:!0,Cell:function(e){var t=e.value;return t?z(t):a("common:labels.na")}},{id:"name",Header:a("admin.labels.name"),accessor:function(e){return e.full_name||"".concat(e.first_name," ").concat(e.last_name)},filter:Bu,Filter:Ku,Cell:function(e){var t=e.value,n=e.row;return o.a.createElement("span",{className:"text-break d-block position-relative pl-4",style:{maxWidth:160}},o.a.createElement("i",{className:"sila-icon mr-2 text-primary text-lg ml-n4 position-absolute ".concat(n.original.entity_type)})," ",t||a("common:labels.na"))}},{id:"handle",Header:a("admin.labels.handle"),accessor:"user_handle",filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},t)}},{id:"app_handle",Header:a("admin.labels.app"),accessor:"apps",filter:Bu,Cell:function(e){return e.value.map((function(e,t){return o.a.createElement("span",{key:t,className:"d-block"},e)}))},Filter:Ku},{id:"last_verification_status",Header:a("admin.endUsers.labels.kycStatus"),accessor:"last_verification_status",filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement(ol.a,{pill:!0,className:"badge-outline py-2 px-3 w-100 d-block mx-auto",variant:t.value&&t.value.includes("passed")?"success":t&&t.includes("failed")?"warning":"primary"},w.find((function(e){return e.name==t})).label)},filterOptions:w.map((function(e){return{value:e.name,label:e.label}}))}]}),[w]),R=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.getVerificationStatuses();case 3:(t=e.sent).success&&x(t.verification_statuses),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Nd(o,n,r,s,i,"next",e)}function i(e){Nd(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){b.filters.length||b.sortBy.length?A(!0):(_([]),T(!0))}),[l,b.filters,b.sortBy]),Object(r.useEffect)((function(){decodeURI(location.search.substring(1))!==v&&n.push({pathname:location.pathname,search:v})}),[v]),Object(r.useEffect)((function(){R()}),[]),o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:a("admin.endUsers.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",as:m.c,exact:!0,to:{pathname:"/admin",state:{from:location.pathname}}},a("common:buttons.back")))),s&&!s.is_superuser&&o.a.createElement("div",{className:"position-relative"},o.a.createElement(oc,null)),S?o.a.createElement(pa,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(xm,{tableFilters:b,setTableFilters:h,activeFilter:d,setActiveFilter:p,slug:"end_users",lastItem:I?void 0:N,onRowClick:function(e){return n.push("/admin/end_users/".concat(e.user_handle,"/profile"))},columns:C,renderEmptyComponent:0===b.filters.length&&0===b.sortBy.length?function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"text-lg text-center mt-5"},a("common:filters.empty.title")),o.a.createElement("p",{className:"text-meta text-center mb-5"},a("common:filters.empty.description")))}:void 0,data:j}),P&&I&&k&&o.a.createElement("div",{className:"fetching"},o.a.createElement(pa,{label:a("admin.endUsers.loading")}))))},Cd=function(e){var t=e.show,a=e.onHide,n=e.handle,r=e.name,s=e.data,i=e.flow,l=e.kyc_levels,c=e.verification_statuses,u=Object(qa.a)().t,m="kyb"===i?l.filter((function(e){return e.is_kyb&&"KYB-FD"!==e.name||"RECEIVE_ONLY"===e.name})).map((function(e){return{value:e.name,label:e.name}})):l.filter((function(e){return!e.is_kyb&&"DOC_KYC_BETA"!==e.name})).map((function(e){return{value:e.name,label:e.name}})),d=c.filter((function(e){return"unverified"!==e.name})).map((function(e){return{label:e.label,value:e.name}}));return o.a.createElement(mn.a,{id:"verfication-record-modal",centered:!0,backdrop:"static",show:t,onHide:function(){return a()},size:"lg","aria-labelledby":"verfication-record-modal-title"},o.a.createElement(hr.c,{enableReinitialize:!0,initialValues:{kyc_level:s?null:m[0].value,verification_status:s?s.verification_status:null,comment:""},validationSchema:x.object().shape({comment:x.string().max(512,u("common:form.errors.max",{count:512}))}),onSubmit:function(e){return a(s&&s.user_handle?s.user_handle:n,e,s&&s.user_handle?"member_verifications":"verification_history",s?s.verification_id:void 0)}},(function(e){var t=e.handleSubmit,l=e.isSubmitting,c=e.errors;e.dirty;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:t},o.a.createElement(mn.a.Header,{closeButton:!0},o.a.createElement(mn.a.Title,{id:"verfication-record-modal-title"},s?o.a.createElement("span",{className:"d-flex flex-wrap"},o.a.createElement("span",{className:"mr-2"},u("admin.endUsers.profile.new_evaluation.edit.header"),":"),o.a.createElement("span",{className:"text-primary"},s.user_handle?"".concat(s.first_name," ").concat(s.last_name):"".concat(z(1e3*s.requested_at)," ").concat(u("common:partials.for")," ").concat(n))):u("admin.endUsers.profile.new_evaluation.new.header"))),o.a.createElement(mn.a.Body,null,!s&&o.a.createElement("p",{className:"text-lg mb-3"},u("admin.endUsers.profile.new_evaluation.new.title")),o.a.createElement("p",{className:"text-meta mb-4"},s?u("admin.endUsers.profile.new_evaluation.edit.description",{name:r}):u("admin.endUsers.profile.new_evaluation.new.description",{handle:n})),s?o.a.createElement(hr.a,{required:!0,className:"verification-status",id:"verficationRecordForm.verification_status",label:u("admin.endUsers.profile.new_evaluation.form.fields.verification_status.label"),options:d,name:"verification_status",type:"select",component:ro}):o.a.createElement(hr.a,{required:!0,className:"kyc_level",id:"verficationRecordForm.kyc_level",label:u("admin.endUsers.profile.new_evaluation.form.fields.kyc_level.label",{flow:i.toUpperCase()}),options:m,name:"kyc_level",type:"select",component:ro}),o.a.createElement(hr.a,{className:"comment mb-0",id:"verficationRecordForm.comment",is:"textarea",rows:"10",label:u("admin.endUsers.profile.new_evaluation.form.fields.comment.label"),placeholder:u("admin.endUsers.profile.new_evaluation.form.fields.comment.placeholder"),name:"comment",component:ro})),o.a.createElement(mn.a.Footer,null,o.a.createElement(dn.a,{disabled:l,variant:"outline-light",onClick:function(){return a()}},u("common:buttons.cancel")),o.a.createElement(co,{loading:l,disabled:Object.keys(c).length,onClick:l?function(e){return e.preventDefault()}:void 0,type:"submit"},u(s?"common:buttons.saveChanges":"admin.endUsers.profile.new_evaluation.form.buttons.submit"))))})))};Cd.propTypes={show:la.a.bool.isRequired,data:la.a.object,onHide:la.a.func.isRequired,handle:la.a.string.isRequired,flow:la.a.string.isRequired,kyc_levels:la.a.array.isRequired,verification_statuses:la.a.array.isRequired};var Rd=Cd,Md=["values","errors","handleSubmit","isSubmitting","dirty","setFieldValue"];function Dd(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Fd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fd(Object(a),!0).forEach((function(t){Ld(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ld(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ud(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function zd(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Ud(o,n,r,s,i,"next",e)}function i(e){Ud(o,n,r,s,i,"throw",e)}s(void 0)}))}}function Vd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bd(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}x.addMethod(x.array,"unique",Q);var Hd=function(e){var t=e.actions,a=e.initialValues,n=e.setInitialValues,s=e.getEndUser,i=Object(qa.a)().t,l=Object(Fa.h)(),c=Vd(Object(r.useState)({show:!1,data:void 0,handle:a.handle,name:a.full_name}),2),u=c[0],d=c[1],p=Vd(Object(r.useState)({show:!1,data:void 0,handle:a.handle,name:a.full_name}),2),f=p[0],b=p[1],h=Object(r.useRef)(null),y=Vd(Object(r.useState)({verification_history:0!==a.verification_history.length,member_verifications:!!a.member_verifications}),2),g=y[0],v=y[1],E=function(){var e=zd(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(qd(qd({},g),{},Ld({},r,!1))),e.prev=1,e.next=4,Mt.getEndUser(a.handle);case 4:(o=e.sent).success&&(n(qd(qd({},a),{},Ld({},r,o[r]))),v(qd(qd({},g),{},Ld({},r,o[r]&&0!==o[r].length)))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.addItem("alerts",{message:e.t0,style:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=zd(regeneratorRuntime.mark((function e(n,r,o,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return e.prev=1,e.next=4,Mt.updateEndUser(n,{verification_records:[s?{action:"update",uuid:s,verification_status:r.verification_status,comment:r.comment||null}:{action:"add",kyc_level:r.kyc_level,comment:r.comment||null}]});case 4:t.addItem("alerts",{message:i("admin.endUsers.profile.new_evaluation.form.messages.".concat(s?"update":"create")),style:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.addItem("alerts",{message:e.t0,style:"danger"});case 10:return e.prev=10,E(o),d(qd(qd({},u),{},{show:!1,data:void 0,handle:a.handle,name:a.full_name})),e.finish(10);case 14:e.next=17;break;case 16:d(qd(qd({},u),{},{show:!1,data:void 0,handle:a.handle,name:a.full_name}));case 17:case"end":return e.stop()}}),e,null,[[1,7,10,14]])})));return function(t,a,n,r){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.c,{innerRef:h,enableReinitialize:!0,initialValues:a,validationSchema:x.object().shape({first_name:x.string().required(i("common:form.errors.required",{field:i("common:form.fields.firstName.label")})),last_name:x.string().required(i("common:form.errors.required",{field:i("common:form.fields.lastName.label")})),phones:x.array().of(x.object().shape({phone:x.string().matches(Xa,i("common:form.fields.phone.error")).required(i("common:form.errors.required",{field:i("common:form.fields.phone.label")}))})).unique("phone",i("common:form.errors.exists",{field:i("common:form.fields.phone.label")}),(function(e){return e.phone})),identities:x.array().of(x.object().shape({identity:x.string().test("checkMask",i("common:form.fields.".concat("business"===a.entity_type?"ein":"ssn",".error")),(function(e){var t="business"===a.entity_type?tn:en;return!e||!!e.includes("*")||!!t.test(e)})).required(i("common:form.errors.required",{field:i("common:form.fields.".concat("business"===a.entity_type?"ein":"ssn",".label"))}))})),emails:x.array().of(x.object().shape({email:x.string().email(i("common:form.fields.email.error")).max(254,i("common:form.errors.max",{count:320})).required(i("common:form.errors.required",{field:i("common:form.fields.email.label")}))})).unique("email",i("common:form.errors.exists",{field:i("common:form.fields.email.label")}),(function(e){return e.email})),addresses:x.array().of(x.object().shape({street_address_1:x.string().max(254,i("common:form.errors.max",{count:254})),street_address_2:x.string().nullable().max(254,i("common:form.errors.max",{count:254})),city:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(i("common:form.errors.required",{field:i("common:form.fields.address.city.label")}))}).max(96,i("common:form.errors.max",{count:96})),state:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(i("common:form.errors.required",{field:i("common:form.fields.address.state.label")}))}),postal_code:x.string().ensure().when("street_address_1",{is:function(e){return e&&e.length},then:x.string().required(i("common:form.errors.required",{field:i("common:form.fields.address.zip.label")})).matches(nn,{message:i("common:form.fields.address.zip.error")})})})),wallets:x.array().of(x.object().shape({blockchain_address:x.string().matches(rn,{message:i("applications.form.fields.address.error")}).required(i("common:form.errors.required",{field:i("applications.form.fields.address.label")}))}))}),onSubmit:function(e){return b(qd(qd({},f),{},{show:!0,data:e}))}},(function(e){var t=e.values,n=e.errors,r=e.handleSubmit,s=e.isSubmitting,l=e.dirty,c=e.setFieldValue,u=Dd(e,Md);return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:r},l&&o.a.createElement(er.a,{variant:"warning",className:"mb-4 loaded"},i("common:form.messages.unsavedChanges")),o.a.createElement("div",{className:"position-relative"},s&&o.a.createElement(pa,null),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,className:"first-name",id:"endUserForm.first_name",label:i("common:form.fields.firstName.label"),name:"first_name",component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,className:"last-name",id:"endUserForm.last_name",label:i("common:form.fields.lastName.label"),name:"last_name",component:ro}))),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,readOnly:!0,className:"handle",id:"endUserForm.handle",label:i("common:form.fields.handle.label"),name:"handle",component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(Kl,{form:qd({id:"endUserForm"},u),label:i("common:form.fields.".concat("business"===a.entity_type?"ein":"ssn",".label")),pluralLabel:i("common:form.fields.".concat("business"===a.entity_type?"ein":"ssn",".label")),field:{name:"identities",slug:"identity",initialValues:{identity:""}},values:t,errors:n}))),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(hr.a,{autofocus:!0,className:"birthdate",id:"endUserForm.birthdate",label:i("common:form.fields.birthdate.shortLabel"),name:"birthdate",type:"date",component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"6"},o.a.createElement(Kl,{form:qd({id:"endUserForm"},u),field:{name:"emails",slug:"email",handleChange:function(e){return c(e.target.name,e.target.value.toLowerCase().trim())},initialValues:{email:""}},values:t,errors:n}))),o.a.createElement(Kl,{form:qd({id:"endUserForm"},u),field:{name:"phones",slug:"phone",initialValues:{phone:""}},values:t,errors:n}),o.a.createElement(Kl,{form:qd({id:"endUserForm"},u),field:{name:"addresses",slug:"address"},values:t,errors:n,formatValue:V,fields:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr.a,{autofocus:!0,className:"addresses",id:"endUserForm.addresses.".concat(e,".street1"),label:i("common:form.fields.address.street1.label"),name:"addresses.".concat(e,".street_address_1"),component:ro}),o.a.createElement(hr.a,{autofocus:!0,className:"street-address-2",id:"endUserForm.addresses.".concat(e,".street2"),label:i("common:form.fields.address.street2.label"),name:"addresses.".concat(e,".street_address_2"),component:ro}),o.a.createElement(dr.a.Row,null,o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"city",id:"endUserForm.addresses.".concat(e,".city"),label:i("common:form.fields.address.city.label"),name:"addresses.".concat(e,".city"),component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"state",id:"endUserForm.addresses.".concat(e,".state"),label:i("common:form.fields.address.state.label"),name:"addresses.".concat(e,".state"),type:"select",options:Ya.map((function(e){return{label:i("common:form.fields.address.state.options.".concat(e)),value:e}})),component:ro})),o.a.createElement(Xn.a,{xs:"12",sm:"4"},o.a.createElement(hr.a,{autofocus:!0,className:"postal-code",id:"endUserForm.addresses.".concat(e,".postal_code"),label:i("common:form.fields.address.zip.label"),name:"addresses.".concat(e,".postal_code"),component:ro}))))}}),o.a.createElement("br",null)),o.a.createElement(co,{className:"float-right",loading:s,onClick:s?function(e){return e.preventDefault()}:void 0,type:"submit",disabled:!l||Object.keys(n).length},i("common:buttons.save")))})),o.a.createElement("div",{className:"d-flex mb-5"},o.a.createElement("div",{className:"d-flex mr-5"},o.a.createElement("h3",{className:"text-meta text-uppercase text-font-100 mr-3"},i("admin.endUsers.profile.headers.device"),":"),o.a.createElement("span",null,i("common:labels.".concat(a.devices.length?"yes":"no")))),o.a.createElement("div",{className:"d-flex"},o.a.createElement("h3",{className:"text-meta text-uppercase text-font-100 mr-3"},i("admin.endUsers.profile.headers.sms"),":"),o.a.createElement("span",null,a.phones.some((function(e){return e.sms_confirmation_requested&&!e.sms_confirmed}))&&"".concat(a.phones.filter((function(e){return e.sms_confirmation_requested})).map((function(e){return e.phone})).join(", ")," (").concat(i("common:status.requested"),")"),a.phones.some((function(e){return e.sms_confirmed}))&&"".concat(a.phones.some((function(e){return e.sms_confirmation_requested&&!e.sms_confirmed}))?", ":"").concat(a.phones.filter((function(e){return e.sms_confirmed})).map((function(e){return e.phone})).join(", ")," (").concat(i("common:status.confirmed"),")"),a.phones.some((function(e){return!e.sms_confirmation_requested||!e.sms_confirmed}))&&i("common:labels.no")))),o.a.createElement("h3",{className:"mb-3"},i("admin.endUsers.profile.headers.wallets")),o.a.createElement(Ss.a,{className:"mb-5 border"},o.a.createElement(Oc.a,{bordered:!0,responsive:!0,className:"border-0"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"bg-secondary"},o.a.createElement("th",{className:"border-right border-light pl-4 py-3"},i("applications.form.fields.address.label")),o.a.createElement("th",{className:"border-right border-light px-4 py-3"},i("admin.labels.wallets.type.label")),o.a.createElement("th",{className:"pr-4 py-3"},i("admin.labels.wallets.migration.label")))),o.a.createElement("tbody",null,a.wallets.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",{className:"pl-4 py-3"},e.blockchain_address),o.a.createElement("td",{className:"px-4 py-3"},i("admin.labels.wallets.type.".concat(e.blockchain_network.toLowerCase()))),o.a.createElement("td",{className:"pr-4 py-3"},z(e.migrated_at)||i("common:labels.na")))}))))),a.memberships&&0!==a.memberships.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mb-3"},i("admin.endUsers.profile.headers.memberships")),o.a.createElement(Ss.a,{className:"mb-5 border"},o.a.createElement(Oc.a,{bordered:!0,responsive:!0,className:"border-0"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"bg-secondary"},o.a.createElement("th",{className:"border-right border-light pl-4 py-3"},i("common:form.fields.name.label")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("common:kyb.roles.controlling_officer")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("common:kyb.roles.beneficial_owner")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("common:kyb.roles.admin")),o.a.createElement("th",{className:"pr-4 py-3"},i("common:kyb.certification_status")))),o.a.createElement("tbody",null,a.memberships.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",{className:"pl-4 py-3"},o.a.createElement(dn.a,{as:m.c,to:{pathname:"/admin/end_users/".concat(e.business_handle,"/profile"),state:{from:l.pathname}},variant:"link",className:"text-reset text-underline p-0"},e.entity_name)),o.a.createElement("td",{className:"px-4 py-3 text-center"},"controlling_officer"===e.role&&o.a.createElement("i",{className:"fas fa-circle text-primary"})),o.a.createElement("td",{className:"px-4 py-3 text-center"},"beneficial_owner"===e.role&&o.a.createElement("i",{className:"fas fa-circle text-primary"})),o.a.createElement("td",{className:"px-4 py-3 text-center"},"administrator"===e.role&&o.a.createElement("i",{className:"fas fa-circle text-primary"})),o.a.createElement("td",{className:"pr-4 py-3"},i("common:kyb.".concat(e.certification_token?"certified":"not_certified"))))})))))),a.apps&&0!==a.apps.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mb-3"},i("admin.endUsers.profile.headers.apps")),o.a.createElement(Ss.a,{className:"mb-5 border"},o.a.createElement(Oc.a,{bordered:!0,responsive:!0,className:"border-0"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"bg-secondary"},o.a.createElement("th",{className:"border-right border-light pl-4 py-3"},i("applications.form.fields.name.label")),o.a.createElement("th",{className:"border-right border-light px-4 py-3"},i("applications.form.fields.handle.label")),o.a.createElement("th",{className:"pr-4 py-3"},i("common:labels.created")))),o.a.createElement("tbody",null,a.apps.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",{className:"pl-4 py-3"},e.app_nickname),o.a.createElement("td",{className:"px-4 py-3"},e.app_handle),o.a.createElement("td",{className:"pr-4 py-3"},z(e.added)))})))))),0!==a.verification_history.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mb-2"},i("admin.endUsers.profile.headers.".concat(a.entity_type,".verification"))),o.a.createElement("p",{className:"text-meta mb-2"},i("admin.endUsers.profile.verification_history.".concat(a.entity_type,".description"))),o.a.createElement("p",{className:"text-right mb-3"},o.a.createElement(dn.a,{variant:"link",onClick:function(){return E("verification_history")},className:"text-reset text-lg p-0"},o.a.createElement("i",{className:"fas fa-sync-alt mr-3 text-primary"}),i("common:buttons.refresh"))),o.a.createElement(Ss.a,{className:"mb-2 border"},!g.verification_history&&o.a.createElement(pa,null),o.a.createElement(Oc.a,{bordered:!0,responsive:!0,className:"border-0"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"bg-secondary"},o.a.createElement("th",{className:"border-right border-light pl-4 py-3"},i("admin.endUsers.profile.verification_history.requestDate",{type:"business"===a.entity_type?i("common:kyb.label"):i("common:kyc.label")})),o.a.createElement("th",{className:"border-right border-light px-4 py-3"},i("admin.endUsers.profile.verification_history.level",{type:"business"===a.entity_type?i("common:kyb.label"):i("common:kyc.label")})),o.a.createElement("th",{className:"border-right border-light px-4 py-3"},i("admin.endUsers.profile.verification_history.allowEvalLink")),o.a.createElement("th",{className:"border-right border-light px-4 py-3"},i("admin.endUsers.profile.verification_history.verificationStatus")),"business"===a.entity_type&&o.a.createElement("th",{className:"px-4 py-3"},i("common:kyb.certification_status")),o.a.createElement("th",{className:"pr-4 py-3"},i("common:labels.action")))),o.a.createElement("tbody",null,a.verification_history.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",{className:"pl-4 py-3"},z(1e3*e.requested_at)),o.a.createElement("td",{className:"px-4 py-3"},e.kyc_level),o.a.createElement("td",{className:"px-4 py-3"},e.entity_token?o.a.createElement(dn.a,{href:"https://app.alloy.co/entities/".concat(e.entity_token,"/evaluations/").concat(e.evaluation_token),target:"_blank",variant:"link",className:"p-0 text-reset text-underline"},i("admin.endUsers.profile.verification_history.viewAllowEvalLink")):i("common:labels.na")),o.a.createElement("td",{className:"px-4 py-3"},o.a.createElement(ol.a,{pill:!0,className:"badge-outline py-2 px-3 w-100",variant:e.verification_status.includes("passed")?"success":e.verification_status.includes("failed")?"warning":"primary"},a.verification_statuses.find((function(t){return t.name==e.verification_status})).label)),"business"===a.entity_type&&o.a.createElement("td",{className:"px-4 py-3"},i("common:kyb.".concat(a.certification_status))),o.a.createElement("td",{className:"pr-4 py-3 text-center"},e.verification_id?o.a.createElement(dn.a,{className:"p-0 text-lg text-meta hover",onClick:function(){return d(qd(qd({},e),{},{show:!0,data:e,name:a.full_name,handle:a.handle}))},variant:"link"},o.a.createElement("i",{className:"fas fa-pen"})):o.a.createElement(Xs,{placement:"auto",variant:"link",text:i("admin.endUsers.profile.verification_history.noId"),className:"p-0 cursor-pointer"},o.a.createElement("i",{className:"fas fa-exclamation-triangle text-warning text-lg"}))))}))))),o.a.createElement("p",{className:"text-right mb-5"},o.a.createElement(dn.a,{target:"_blank",variant:"link",className:"p-0 text-underline",onClick:function(){return d(qd(qd({},u),{},{show:!0,handle:a.handle,name:a.full_name}))}},i("admin.endUsers.profile.verification_history.addNewEvalLink")))),a.member_verifications&&0!==a.member_verifications.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mb-2"},i("admin.endUsers.profile.headers.".concat(a.entity_type,".member_verifications"))),o.a.createElement("p",{className:"text-meta mb-2"},i("admin.endUsers.profile.member_verifications.description")),o.a.createElement("p",{className:"text-right mb-3"},o.a.createElement(dn.a,{variant:"link",className:"text-reset text-lg p-0",onClick:function(){return E("member_verifications")}},o.a.createElement("i",{className:"fas fa-sync-alt mr-3 text-primary"}),i("common:buttons.refresh"))),o.a.createElement(Ss.a,{className:"mb-2 border position-relative"},!g.member_verifications&&o.a.createElement(pa,null),o.a.createElement(Oc.a,{bordered:!0,responsive:!0,className:"border-0"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"bg-secondary"},o.a.createElement("th",{className:"border-right border-light pl-4 py-3"},i("common:form.fields.name.label")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("common:kyb.roles.controlling_officer")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("common:kyb.roles.beneficial_owner")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("common:kyb.roles.admin")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("admin.endUsers.profile.verification_history.verificationStatus")),o.a.createElement("th",{className:"border-right border-light px-4 py-3",width:"1%"},i("common:kyb.certification_status")),o.a.createElement("th",{className:"pr-4 py-3",width:"1%"},i("common:labels.action")))),o.a.createElement("tbody",null,a.member_verifications.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",{className:"pl-4 py-3"},o.a.createElement(dn.a,{as:m.c,to:{pathname:"/admin/end_users/".concat(e.user_handle,"/profile"),state:{from:l.pathname}},variant:"link",className:"text-reset text-underline p-0"},"".concat(e.first_name," ").concat(e.last_name))),o.a.createElement("td",{className:"px-4 py-3 text-center"},"controlling_officer"===e.role&&o.a.createElement("i",{className:"fas fa-circle text-primary"})),o.a.createElement("td",{className:"px-4 py-3 text-center"},"beneficial_owner"===e.role&&o.a.createElement("i",{className:"fas fa-circle text-primary"})),o.a.createElement("td",{className:"px-4 py-3 text-center"},"administrator"===e.role&&o.a.createElement("i",{className:"fas fa-circle text-primary"})),e.entity_token&&o.a.createElement("td",{className:"px-4 py-3"},e.entity_token?o.a.createElement(dn.a,{href:"https://app.alloy.co/entities/".concat(e.entity_token,"/evaluations/").concat(e.evaluation_token),target:"_blank",variant:"link",className:"p-0 text-reset text-underline"},i("admin.endUsers.profile.verification_history.addNewEvalLink")):i("common:labels.na")),o.a.createElement("td",{className:"px-4 py-3"},o.a.createElement(ol.a,{pill:!0,className:"badge-outline py-2 px-3 w-100",variant:e.verification_status.includes("passed")?"success":e.verification_status.includes("failed")?"warning":"primary"},a.verification_statuses.find((function(t){return t.name==e.verification_status})).label)),o.a.createElement("td",{className:"px-4 py-3"},i("common:kyb.".concat(e.beneficial_owner_certification_status))),o.a.createElement("td",{className:"pr-4 py-3 text-center"},e.verification_id?o.a.createElement(dn.a,{className:"p-0 text-lg text-meta hover",onClick:function(){return d(qd(qd({},e),{},{show:!0,data:e,handle:e.user_handle,name:"".concat(e.first_name," ").concat(e.last_name)}))},variant:"link"},o.a.createElement("i",{className:"fas fa-pen"})):o.a.createElement(Xs,{placement:"auto",variant:"link",text:i("admin.endUsers.profile.verification_history.noId"),className:"p-0 cursor-pointer"},o.a.createElement("i",{className:"fas fa-exclamation-triangle text-warning text-lg"}))))})))))),a.kyc_levels&&a.verification_statuses&&o.a.createElement(Rd,{show:u.show,onHide:w,data:u.data,name:u.name,kyc_levels:a.kyc_levels,verification_statuses:a.verification_statuses,flow:"business"===a.entity_type?"kyb":"kyc",handle:a.handle}),f.data&&o.a.createElement(ld,{show:f.show,handle:f.handle,name:f.name,onHide:function(e){e?Z(e,void 0,function(){var e=zd(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.updateEndUser(a.handle,n);case 3:s(),t.addItem("alerts",{message:i("admin.user.update.message",{name:"".concat(n.first_name," ").concat(n.surname)}),style:"success"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.addItem("alerts",{message:e.t0,style:"danger"}),h.current.resetForm({values:a});case 11:return e.prev=11,b(qd(qd({},f),{},{show:!1,data:void 0})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(t){return e.apply(this,arguments)}}()):(h.current.setSubmitting(!1),b(qd(qd({},f),{},{show:!1,data:void 0})))},data:f.data}))};Hd.propTypes={actions:la.a.object.isRequired,initialValues:la.a.object.isRequired,setInitialValues:la.a.func.isRequired,getEndUser:la.a.func.isRequired};var Kd=Hd;function Yd(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function Gd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wd(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var $d=function(e){var t=e.t,a=e.match,n=e.location,s=e.actions,i=e.history,l=Gd(Object(r.useState)(a.params.action),2),c=l[0],u=l[1],d=Gd(Object(r.useState)(!0),2),p=d[0],f=d[1],b=Gd(Object(r.useState)({first_name:"",last_name:"",full_name:"",handle:"",emails:[{email:"",action:"add"}],phones:[{phone:"",action:"add"}],birthdate:"",addresses:[{action:"add",street_address_1:"",street_address_2:null,city:"",state:"",postal_code:""}],wallets:[{action:"add",blockchain_address:""}],identities:[{action:"add",identity_type:"SSN",identity:""}],devices:[],apps:[],verification_status:!1,certification_status:"",verification_history:[],member_verifications:[]}),2),h=b[0],y=b[1],g=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([Mt.getEndUser(a.params.handle),Mt.getVerificationStatuses(),Mt.getKycLevels()]);case 3:t=e.sent,n=Gd(t,3),r=n[0],o=n[1],l=n[2],r.success&&o.success&&l.success?y({first_name:r.entity.first_name,last_name:r.entity.last_name,full_name:r.entity.entity_name,handle:r.user_handle,emails:r.emails.length?r.emails:h.emails,phones:r.phones.length?r.phones:h.phones,birthdate:r.entity.birthdate,addresses:r.addresses.length?r.addresses:h.addresses,wallets:r.wallets.length?r.wallets:h.wallets,identities:r.identities.length?r.identities.filter((function(e){return e.identity})):h.identities,devices:r.devices,entity_type:r.entity_type,apps:r.apps,memberships:"individual"===r.entity_type?r.memberships:null,members:"business"===r.entity_type?r.members:null,member_verifications:"business"===r.entity_type?r.member_verifications:null,verification_history:r.verification_history,verification_status:r.verification_status,certification_status:r.certification_status,verification_statuses:o.verification_statuses,kyc_levels:l.kyc_levels}):i.goBack(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Yd(o,n,r,s,i,"next",e)}function i(e){Yd(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){u(a.params.action),"profile"===a.params.action&&g()}),[n]),o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("admin.endUsers.profile.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return i.goBack()}},t("common:buttons.back")))),p?o.a.createElement(pa,null):o.a.createElement(Ss.a,{className:"loaded"},o.a.createElement(Ss.a.Header,{className:"d-flex justify-content-between p-4"},o.a.createElement("h2",{className:"m-0"},o.a.createElement("i",{className:"sila-icon mr-2 text-primary ".concat(h.entity_type)})," ",h.full_name),h.verification_status&&o.a.createElement("h3",{className:"text-lg text-".concat(h.verification_status.includes("passed")?"success":h.verification_status.includes("failed")?"warning":"primary")},"business"===h.entity_type?"KYB":"KYC"," ",h.verification_statuses.find((function(e){return e.name==h.verification_status})).label)),o.a.createElement(Ss.a.Body,{as:cr.a,className:"p-0",noGutters:!0},o.a.createElement(Zm.a.Container,{defaultActiveKey:c,onSelect:function(e){return u(e)}},o.a.createElement(Xn.a,{md:"4",lg:"3",xl:"2",className:"border-right border-light"},o.a.createElement(br.a,{className:"d-flex flex-column align-content-start h-100 py-4"},o.a.createElement(br.a.Item,{className:"w-100"},o.a.createElement(br.a.Link,{className:"d-block px-4 py-3".concat("profile"===c?" bg-alt text-primary":""),eventKey:"profile",as:m.c,to:{pathname:"/admin/end_users/".concat(a.params.handle,"/profile"),state:{from:n.pathname}}},t("admin.endUsers.navigation.profile"))))),o.a.createElement(Xn.a,{md:"8",lg:"9",xl:"10",className:"p-4"},o.a.createElement(Zm.a.Content,null,o.a.createElement(Zm.a.Pane,{eventKey:"profile"},o.a.createElement(Kd,{actions:s,initialValues:h,setInitialValues:y,getEndUser:g}))))))))};function Qd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||tp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Jd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(a),!0).forEach((function(t){Xd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Xd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ep(e){return function(e){if(Array.isArray(e))return ap(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tp(e,t){if(e){if("string"==typeof e)return ap(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ap(e,t):void 0}}function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var np=function(e){var t=e,a=e.find((function(e){return"created"===e.id})),n=e.find((function(e){return"amount"===e.id})),r=e.find((function(e){return"source"===e.id})),o=e.find((function(e){return"destination"===e.id})),s=e.find((function(e){return"return_code"===e.id}));return a&&(t=[].concat(ep(t.filter((function(e){return"created"!==e.id}))),[{id:"start_date",value:a.value[0]},{id:"end_date",value:a.value[1]}])),n&&(t=[].concat(ep(t.filter((function(e){return"amount"!==e.id}))),[{id:"min_amount",value:n.value[0]},{id:"max_amount",value:n.value[1]}])),r&&(t=ep(t.filter((function(e){return"source"!==e.id}))),t="card"===r.value[0]?[].concat(ep(t),[{id:"transaction_type",value:"issue"},{id:"processing_type",value:r.value[0]}]):"blockchain_address"===r.value[0]?[].concat(ep(t),[{id:"transaction_type",value:"redeem"}]):[].concat(ep(t),[{id:"transaction_type",value:"issue"}],ep(cn.filter((function(e){return"CARD"!==e})).map((function(e){return{id:"processing_type",value:e.toLowerCase()}}))))),o&&(t=ep(t.filter((function(e){return"destination"!==e.id}))),t="card"===o.value[0]?[].concat(ep(t),[{id:"transaction_type",value:"redeem"},{id:"transaction_type",value:"transfer"},{id:"processing_type",value:o.value[0]}]):"blockchain_address"===o.value[0]?[].concat(ep(t),[{id:"transaction_type",value:"issue"}]):[].concat(ep(t),[{id:"transaction_type",value:"redeem"}],ep(cn.filter((function(e){return"CARD"!==e})).map((function(e){return{id:"processing_type",value:e.toLowerCase()}}))))),s&&(t=t.map((function(e){return"return_code"===e.id&&"all"===e.value[0]?Jd(Jd({},e),{},{value:"R"}):e}))),{url:e,query:t}},rp=function(e){var t,a=e.t,n=e.history,s=e.user,i=e.env,l=e.app,c=Qd(Object(r.useState)(l.settings.filters.find((function(e){return e.active&&e.transactions}))),2),u=c[0],d=c[1],p=Qd(Object(r.useState)({filters:u?u.filters:location.search.length?Qu(location.search.substring(1)).filters:[],sortBy:u?u.sortBy:location.search.length?Qu(location.search.substring(1)).sortBy:[]}),2),f=p[0],b=p[1],h=$u({filters:np(f.filters),sortBy:(t=f.sortBy,{url:t,query:t.map((function(e){return"source"===e.id||"user_handle"===e.id?Jd(Jd({},e),{},{id:"source_user_handle"}):"destination"===e.id?Jd(Jd({},e),{},{id:"destination_user_handle"}):e}))})}),y=h.query,g=h.url,v=Dn(Mt.fetchTransactions,{slug:"transactions",limit:20,query:y},s&&s.is_superuser),E=v.data,w=v.lastItem,x=v.hasMore,O=v.isLoading,j=v.isFetching,_=v.setRefresh,N=v.loaded,k=function(e,t){return o.a.createElement(Ws.a,{id:"row-".concat(e,"-source")},o.a.createElement(Ws.a.Title,{as:"h4"},a("admin.transactions.labels.".concat(t.payment_instrument_type))),o.a.createElement(Ws.a.Content,null,o.a.createElement("p",{className:"mb-2"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.labels.userHandle"),":"),t.user_handle),t.nickname&&o.a.createElement("p",{className:"mb-2"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.transactions.labels.nickname"),":"),t.nickname),"bank_account"===t.payment_instrument_type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"mb-2"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.transactions.labels.account"),":"),"*",t.last_4)),"blockchain_address"===t.payment_instrument_type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"mb-2"},o.a.createElement("span",{className:"text-meta d-block"},a("applications.form.fields.address.label"),":"),t.address),o.a.createElement("p",{className:"mb-2"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.labels.wallets.type.label"),":"),a("admin.labels.wallets.type.".concat(t.blockchain_network.toLowerCase()))),o.a.createElement("p",{className:"mb-0"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.labels.wallets.migration.label"),":"),t.migrated_at||a("common:labels.na"))),"card"===t.payment_instrument_type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"mb-2"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.transactions.labels.cards.network"),":"),t.card_network),o.a.createElement("p",{className:"mb-2"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.transactions.labels.cards.type"),":"),t.card_type),o.a.createElement("p",{className:"mb-0"},o.a.createElement("span",{className:"text-meta d-block"},a("admin.transactions.labels.cards.number"),":"),"*",t.last_4))))},S=Object(r.useMemo)((function(){return[{id:"created",Header:a("common:labels.created"),accessor:"created",Filter:Gu,Cell:function(e){var t=e.value;return z(t)},columnStyles:function(){return{width:"15%"}}},{id:"user_handle",Header:a("admin.labels.userHandle"),accessor:function(e){return e.source.user_handle},filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},t)},columnStyles:function(){return{width:"20%"}}},{id:"app_handle",Header:a("admin.labels.app"),accessor:function(e){return e.app.app_handle},filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},t)},columnStyles:function(){return{width:"5%"}}},{id:"transaction_type",Header:a("admin.labels.type"),accessor:function(e){return e.transaction_type},filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return a("common:transactions.".concat(t))},filterOptions:[{value:"issue",label:a("common:transactions.issue")},{value:"redeem",label:a("common:transactions.redeem")},{value:"transfer",label:a("common:transactions.transfer")}],columnStyles:function(){return{width:"5%"}}},{id:"amount",Header:a("admin.labels.amount"),accessor:function(e){return e.sila_amount},Filter:Wu,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block",style:{maxWidth:160}},o.a.createElement("i",{className:"sila-icon sila text-primary mr-1"}),H(t))},columnStyles:function(){return{width:"15%"}}},{id:"source",Header:a("admin.labels.source"),accessor:function(e){return e.source},Cell:function(e){var t=e.value,a=e.row.id;return o.a.createElement(Gs.a,{placement:"top",delay:{show:250,hide:400},overlay:k(a,t)},o.a.createElement("span",{className:"d-block text-center"},o.a.createElement("i",{className:"sila-icon ".concat("card"===t.payment_instrument_type?"credit-card":"".concat(t.payment_instrument_type," text-lg")," text-primary")})))},Filter:Ku,disableFilters:!0,filterOptions:[{label:a("admin.transactions.labels.bank_account"),value:"bank_account"},{label:a("admin.transactions.labels.blockchain_address"),value:"blockchain_address"},{label:a("admin.transactions.labels.card"),value:"card"}],columnStyles:function(){return{width:"5%"}}},{id:"destination",Header:a("admin.labels.destination"),accessor:function(e){return e.destination},disableFilters:!0,Cell:function(e){var t=e.value,a=e.row.id;return o.a.createElement(Gs.a,{placement:"top",delay:{show:250,hide:400},overlay:k(a,t)},o.a.createElement("span",{className:"d-block text-center"},o.a.createElement("i",{className:"sila-icon ".concat("bank_account"===t.payment_instrument_type?"bank":"wallet"," text-lg text-primary")})))},Filter:Ku,filterOptions:[{label:a("admin.transactions.labels.bank_account"),value:"bank_account"},{label:a("admin.transactions.labels.blockchain_address"),value:"blockchain_address"},{label:a("admin.transactions.labels.card"),value:"card"}],columnStyles:function(){return{width:"5%"}}},{id:"processing_type",Header:a("admin.labels.processingType"),accessor:"processing_type",filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement("span",{className:"text-break d-block text-sm",style:{maxWidth:160}},t)},columnStyles:function(){return{width:"15%"}},filterOptions:cn.map((function(e){return{value:e,label:e}}))},{id:"return_code",Header:a("admin.labels.returnCode"),accessor:function(e){return e.return_code||a("common:labels.null")},filter:Bu,Filter:Ku,columnStyles:function(){return{width:"5%"}},filterOptions:[{label:a("admin.labels.allCodes"),value:"all"}].concat(ep(ep(Array(85).keys()).map((function(e){return{label:"R".concat(String(e+1).padStart(2,"0")),value:"R".concat(String(e+1).padStart(2,"0"))}}))))},{id:"transaction_status",Header:a("admin.labels.status"),accessor:"transaction_status",filter:Bu,Filter:Ku,Cell:function(e){var t=e.value;return o.a.createElement(ol.a,{pill:!0,className:"badge-outline py-2 px-3 w-100 d-block mx-auto",style:{maxWidth:140},variant:t.includes("success")?"success":t.includes("failed")?"warning":"primary"},a("common:transactions.status.".concat(t)))},columnStyles:function(){return{width:"10%"}},filterOptions:[{value:"queued",label:a("common:transactions.status.queued")},{value:"pending",label:a("common:transactions.status.pending")},{value:"reversed",label:a("common:transactions.status.reversed")},{value:"failed",label:a("common:transactions.status.failed")},{value:"success",label:a("common:transactions.status.success")},{value:"rollback",label:a("common:transactions.status.rollback")},{value:"review",label:a("common:transactions.status.review")},{value:"pending_confirmation",label:a("common:transactions.status.pending_confirmation")}]}]}),[]),I=function(e){return n.push("/admin/transactions/".concat(e.uuid||e.transaction_uuid,"/detail"))};return Object(r.useEffect)((function(){N&&_(!0)}),[i,f.filters,f.sortBy]),Object(r.useEffect)((function(){decodeURI(location.search.substring(1))!==g&&n.push({pathname:location.pathname,search:g})}),[g]),o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:a("admin.transactions.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",as:m.c,to:{pathname:"/admin",state:{from:location.pathname}}},a("common:buttons.back")))),s&&!s.is_superuser&&o.a.createElement("div",{className:"position-relative"},o.a.createElement(oc,null)),O?o.a.createElement(pa,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(xm,{tableFilters:f,setTableFilters:b,activeFilter:u,setActiveFilter:d,slug:"transactions",lastItem:j?void 0:w,onRowClick:I,headerLeftComponent:o.a.createElement(jm,{onSubmit:I}),columns:S,data:E.map((function(e,t){return Jd(Jd({},e),{},{id:t+1})}))}),N&&j&&x&&o.a.createElement("div",{className:"fetching"},o.a.createElement(pa,{label:a("admin.transactions.loading")}))))},op=a("./node_modules/react-bootstrap/esm/Accordion.js"),sp=a("./node_modules/react-bootstrap/esm/AccordionToggle.js"),ip=function(e){var t=e.children,a=e.eventKey,n=e.prepend,r=e.append,s=e.renderToggleIcon,i=e.isExpanded,l=e.small;return o.a.createElement("div",{className:"d-flex"},o.a.createElement("div",{className:"mr-auto d-flex align-items-center"},n,o.a.createElement("h2",{className:"ttl m-0".concat(l?" text-reg":"")},t)),o.a.createElement("div",{className:"ml-auto d-flex align-items-center"},r,o.a.createElement("button",{className:"toggle m-1",type:"button",onClick:Object(sp.b)(a)},o.a.createElement("i",{className:s?s(i):"sila-icon arrow-down"}))))},lp=function(e){var t=e.className,a=e.children,n=e.eventKey,r=e.label,s=e.expanded,i=e.onSetExpanded,l=e.prepend,c=e.append,u=e.itemRef,m=e.renderToggleIcon,d=e.small,p=s instanceof Array?s.includes(n):s===n;return o.a.createElement(Ss.a,{className:t},o.a.createElement(op.a.Toggle,{as:Ss.a.Header,eventKey:n,className:"".concat(d?"px-3 py-1":"px-4 py-3").concat(p?" active":""),ref:u,onClick:function(){return i(n)}},o.a.createElement(ip,{eventKey:n,prepend:l,isExpanded:p,append:c,renderToggleIcon:m,small:d},r)),o.a.createElement(op.a.Collapse,{eventKey:n},o.a.createElement(Ss.a.Body,{className:d?"p-3":"p-4"},a)))};lp.propTypes={eventKey:la.a.number,expanded:la.a.oneOfType([la.a.number.isRequired,la.a.array.isRequired]),onSetExpanded:la.a.func.isRequired,label:la.a.oneOfType([la.a.string.isRequired,la.a.arrayOf(la.a.node),la.a.node])};var cp=lp;function up(){return(up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function mp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(a),!0).forEach((function(t){pp(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mp(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fp(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function bp(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){fp(o,n,r,s,i,"next",e)}function i(e){fp(o,n,r,s,i,"throw",e)}s(void 0)}))}}function hp(e){return function(e){if(Array.isArray(e))return vp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||gp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){if(e){if("string"==typeof e)return vp(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?vp(e,t):void 0}}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ep=function(e){var t=e.type,a=e.value,n=e.balance,r=e.getBalance,s=Object(qa.a)().t;return o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"sila-icon sila text-primary"})," ",n?H(n):s("common:status.loading")," ",o.a.createElement(dn.a,{variant:"link",className:"p-0 mt-n1 ml-2".concat(n?"":" spin")},o.a.createElement("i",{className:"fas fa-sync-alt",onClick:function(){return r(t,a)}})))},wp=function(e,t,a,n){var r=Object(qa.a)().t;return o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.entityName")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.entity_name)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.labels.userHandle")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.user_handle)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.nickname")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.nickname||r("admin.transactions.labels.default"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.ledger")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.gla_uuid)),"bank_account"===t.payment_instrument_type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.routing")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.routing_number)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.account")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},"*",t.last_4)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.linkStatus")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.link_status))),"blockchain_address"===t.payment_instrument_type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("applications.form.fields.address.label")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.address)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.labels.wallets.type.label")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},r("admin.labels.wallets.type.".concat(t.blockchain_network.toLowerCase())))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.labels.wallets.migration.label")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.migrated_at||r("common:labels.na"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.glaBalance")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement(Ep,{type:e,value:t,balance:a,getBalance:n})))),"card"===t.payment_instrument_type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.cards.network")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.card_network)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.cards.type")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.card_type)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.cards.number")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},"*",t.last_4))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},r("admin.transactions.labels.frozen")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},K(t.frozen))))},xp=function(e){var t=e.initialValues,a=Object(qa.a)().t,n=yp(Object(r.useState)([1]),2),s=n[0],i=n[1],l=yp(Object(r.useState)({source:!1,destination:!1}),2),c=l[0],u=l[1],m={expanded:s,onSetExpanded:function(e){return i(s.includes(e)?s.filter((function(t){return t!==e})):[].concat(hp(s),[e]))}},d=function(e){return s.includes(e)&&e},p=function(){var e=bp(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a.get_balance_url){e.next=16;break}return u(dp(dp({},c),{},pp({},t,!1))),e.prev=2,e.next=5,fetch(a.get_balance_url);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent).success&&u(dp(dp({},c),{},pp({},t,r.sila_balance.toString()))),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=bp(regeneratorRuntime.mark((function e(){var a,n,r,o,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("issue"!==t.transaction_type){e.next=4;break}p("destination",t.destination),e.next=29;break;case 4:if("redeem"!==t.transaction_type){e.next=8;break}p("source",t.source),e.next=29;break;case 8:return u({source:!1,destination:!1}),e.prev=9,e.next=12,Promise.all([fetch(t.source.get_balance_url),fetch(t.destination.get_balance_url)]);case 12:return a=e.sent,n=yp(a,2),r=n[0],o=n[1],e.next=18,r.json();case 18:return s=e.sent,e.next=21,o.json();case 21:i=e.sent,s.success&&i.success&&u({source:s.sila_balance.toString(),destination:i.sila_balance.toString()}),e.next=28;break;case 25:throw e.prev=25,e.t0=e.catch(9),e.t0;case 28:case 29:case"end":return e.stop()}}),e,null,[[9,25]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(op.a,{id:"critical",className:"mb-4",activeKey:d(1)},o.a.createElement(cp,up({className:"border rounded",eventKey:1,label:a("admin.transactions.detail.headers.critical")},m),o.a.createElement("div",{className:"m-n4"},o.a.createElement(Oc.a,{responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"py-2 pl-4 border-top border-light",width:"50%"},a("admin.labels.detail")),o.a.createElement("th",{className:"py-2 pr-4 border-top border-light",width:"50%"},a("admin.labels.data")))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("common:labels.created")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},z(t.created))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.labels.userHandle")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.source.user_handle)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("common:apps.handle")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.app.app_handle)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("common:apps.nickname")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.app.app_nickname)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.labels.amount")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement("i",{className:"sila-icon sila text-primary"})," ",H(t.sila_amount))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.labels.source")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},"bank_account"===t.source.payment_instrument_type||"card"===t.source.payment_instrument_type?a("admin.transactions.labels.bank_account_number",{number:t.source.last_4}):a("admin.transactions.labels.blockchain_address_nickname",{nickname:t.source.nickname||a("admin.transactions.labels.default"),app:t.app.app_nickname}))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.labels.destination")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},"bank_account"===t.destination.payment_instrument_type||"card"===t.destination.payment_instrument_type?a("admin.transactions.labels.bank_account_number",{number:t.destination.last_4}):a("admin.transactions.labels.blockchain_address_nickname",{nickname:t.destination.nickname||a("admin.transactions.labels.default"),app:t.app.app_nickname}))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.type")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},a("common:transactions.".concat(t.transaction_type)))),t.ach_details.is_debit&&o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.debit")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},K(t.ach_details.is_debit))),"issue"===t.transaction_type?o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.balance")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement(Ep,{type:"destination",balance:c.destination,value:t.destination,getBalance:p}))):"redeem"===t.transaction_type?o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.balance")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement(Ep,{type:"source",value:t.source,balance:c.source,getBalance:p}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.balanceWithLabel",{label:a("admin.labels.source")})),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement(Ep,{type:"source",value:t.source,balance:c.source,getBalance:p}))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.balanceWithLabel",{label:a("admin.labels.destination")})),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement(Ep,{type:"destination",value:t.destination,balance:c.destination,getBalance:p}))))))))),o.a.createElement(op.a,{id:"transaction",className:"mb-4",activeKey:d(2)},o.a.createElement(cp,up({className:"border rounded",eventKey:2,label:a("admin.transactions.detail.headers.transaction")},m),o.a.createElement("div",{className:"m-n4"},o.a.createElement(Oc.a,{responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"py-2 pl-4 border-top border-light",width:"50%"},a("admin.labels.detail")),o.a.createElement("th",{className:"py-2 pr-4 border-top border-light",width:"50%"},a("admin.labels.data")))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.id")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.transaction_db_id)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.uuid")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.transaction_uuid)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.addenda")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.ach_details.addenda_uuid||a("common:labels.na"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.usdStatus")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement("span",{className:"text-".concat("failed"===t.transaction_status_details.usd_status?"warning":"success"===t.transaction_status_details.usd_status?"success":"primary")},K(t.transaction_status_details.usd_status)))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.cryptoStatus")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},o.a.createElement("span",{className:"text-".concat("failed"===t.transaction_status_details.crypto_status?"warning":"success"===t.transaction_status_details.crypto_status?"success":"primary")},K(t.transaction_status_details.crypto_status))))))))),o.a.createElement(op.a,{id:"ach",className:"mb-4",activeKey:d(3)},o.a.createElement(cp,up({className:"border rounded",eventKey:3,label:a("admin.transactions.detail.headers.ach")},m),o.a.createElement("div",{className:"m-n4"},o.a.createElement(Oc.a,{responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"py-2 pl-4 border-top border-light",width:"50%"},a("admin.labels.detail")),o.a.createElement("th",{className:"py-2 pr-4 border-top border-light",width:"50%"},a("admin.labels.data")))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("common:labels.submitted")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.ach_details.submitted_at?z(t.ach_details.submitted_at):a("common:labels.na"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.ach")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.ach_details.ach_filename||a("common:labels.na"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.labels.returnCode")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.ach_details.return_code||a("common:labels.na"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.labels.returnDescription")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.ach_details.return_description||a("common:labels.na"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.labels.processingType")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.processing_type)),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.review")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},K(t.review_needed))),o.a.createElement("tr",null,o.a.createElement("td",{className:"py-2 pl-4",width:"50%"},a("admin.transactions.labels.traceNumber")),o.a.createElement("td",{className:"py-2 pr-4",width:"50%"},t.ach_details.trace_number||a("common:labels.na")))))))),o.a.createElement(op.a,{id:"source",className:"mb-4",activeKey:d(4)},o.a.createElement(cp,up({className:"border rounded",eventKey:4,label:"".concat(a("admin.transactions.detail.headers.source")," (").concat(a("admin.transactions.labels.".concat(t.source.payment_instrument_type)),")")},m),o.a.createElement("div",{className:"m-n4"},o.a.createElement(Oc.a,{responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"py-2 pl-4 border-top border-light",width:"50%"},a("admin.labels.detail")),o.a.createElement("th",{className:"py-2 pr-4 border-top border-light",width:"50%"},a("admin.labels.data")))),o.a.createElement("tbody",null,wp("source",t.source,c.source,p)))))),o.a.createElement(op.a,{id:"destination",activeKey:d(5)},o.a.createElement(cp,up({className:"border rounded",eventKey:5,label:"".concat(a("admin.transactions.detail.headers.destination")," (").concat(a("admin.transactions.labels.".concat(t.destination.payment_instrument_type)),")")},m),o.a.createElement("div",{className:"m-n4"},o.a.createElement(Oc.a,{responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"py-2 pl-4 border-top border-light",width:"50%"},a("admin.labels.detail")),o.a.createElement("th",{className:"py-2 pr-4 border-top border-light",width:"50%"},a("admin.labels.data")))),o.a.createElement("tbody",null,wp("destination",t.destination,c.destination,p)))))))};xp.propTypes={initialValues:la.a.object.isRequired};var Op=xp;function jp(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function _p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Np(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Np(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Np(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var kp=function(e){var t=e.t,a=e.match,n=e.location,s=e.actions,i=e.history,l=_p(Object(r.useState)(a.params.action),2),c=l[0],u=l[1],d=_p(Object(r.useState)(!0),2),p=d[0],f=d[1],b=_p(Object(r.useState)({}),2),h=b[0],y=b[1],g=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.getTransaction(a.params.id);case 3:(t=e.sent).success?y(t.transaction):i.goBack(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i.push("/admin/transactions"),s.addItem("alerts",{message:e.t0,style:"danger"});case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){jp(o,n,r,s,i,"next",e)}function i(e){jp(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){u(a.params.action),"detail"===a.params.action&&g()}),[n]),o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("admin.transactions.detail.title")},o.a.createElement(dn.a,{variant:"outline-light",className:"back text-meta",onClick:function(){return i.goBack()}},t("common:buttons.back")))),p?o.a.createElement(pa,null):o.a.createElement(Ss.a,{className:"loaded"},o.a.createElement(Ss.a.Header,{className:"d-flex justify-content-between p-4"},o.a.createElement("h2",{className:"m-0"},"".concat(t("admin.transactions.detail.type"),": "," "," ").concat(t("common:transactions.".concat(h.transaction_type)))),o.a.createElement("h3",{className:"text-lg mb-0 text-".concat("failed"===h.transaction_status?"warning":"success"===h.transaction_status?"success":"primary")},K(h.transaction_status))),o.a.createElement(Ss.a.Body,{as:cr.a,className:"p-0",noGutters:!0},o.a.createElement(Zm.a.Container,{defaultActiveKey:c,onSelect:function(e){return u(e)}},o.a.createElement(Xn.a,{md:"4",lg:"3",xl:"2",className:"border-right border-light"},o.a.createElement(br.a,{className:"d-flex flex-column align-content-start h-100 py-4"},o.a.createElement(br.a.Item,{className:"w-100"},o.a.createElement(br.a.Link,{className:"d-block px-4 py-3".concat("detail"===c?" bg-alt text-primary":""),eventKey:"detail",as:m.c,to:{pathname:"/admin/transactions/".concat(a.params.id,"/detail"),state:{from:n.pathname}}},t("admin.transactions.detail.title"))))),o.a.createElement(Xn.a,{md:"8",lg:"9",xl:"10",className:"p-4"},o.a.createElement(Zm.a.Content,null,o.a.createElement(Zm.a.Pane,{eventKey:"detail"},o.a.createElement(Op,{initialValues:h}))))))))},Sp=a("./node_modules/react-bootstrap/esm/Fade.js"),Ip=a("./assets/images/icon-copy.svg"),Ap=a.n(Ip),Pp=["inputRef"];function Tp(){return(Tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Cp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rp(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Rp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Mp(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Dp=function(e){var t=e.inputRef,a=Mp(e,Pp),n=Cp(Object(r.useState)(!1),2),s=n[0],i=n[1],l=Object(qa.a)().t;return Object(r.useEffect)((function(){var e;return s&&(e=setTimeout((function(){return i(!1)}),1e3)),function(){return clearTimeout(e)}}),[s]),o.a.createElement(Xs,Tp({},a,{onClick:function(){t.current&&t.current.select(),document.execCommand("copy"),i(l("common:labels.copied"))},text:s||l("common:labels.copy")}),o.a.createElement("img",{src:Ap.a,height:"24",alt:l("common:labels.copy")}))};Dp.propTypes={inputRef:la.a.any.isRequired};var Fp=Dp,qp=a("./assets/images/icon-reveal.svg"),Lp=a.n(qp),Up=a("./assets/images/icon-hide.svg"),zp=a.n(Up);function Vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bp(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Hp=function(e){var t=e.wallet,a=e.autoFocus,n=e.label,s=e.readOnly,i=e.onAddressChange,l=e.handleGenerate,c=e.showDesc,u=e.tabIndex,m=Object(r.useRef)(null),d=Object(qa.a)().t;return Object(r.useEffect)((function(){a&&m.current&&setTimeout((function(){m.current.focus()}),100)}),[]),o.a.createElement(hr.a,{required:!0,hideError:!0,className:"address loaded",tabIndex:u,readOnly:s,id:"keyGenForm.address",label:n||d("applications.form.fields.address.label"),placeholder:d("applications.form.fields.address.placeholder"),note:!s&&c&&d("applications.form.fields.address.description"),handleChange:i,append:o.a.createElement(o.a.Fragment,null,t.privateKey&&!s&&o.a.createElement("strong",{className:"text-success mr-2"},d("applications.labels.generated")),t.address&&document.queryCommandSupported("copy")&&o.a.createElement(Fp,{inputRef:m,variant:"link",placement:"top",className:"p-1"}),!s&&o.a.createElement(dn.a,{className:"generate ml-2",variant:"primary",size:"sm",onClick:l},d("common:buttons.generate"))),name:"blockchain_address",value:t.address,inputRef:m,component:ro})},Kp=function(e){var t=e.label,a=e.wallet,n=Vp(Object(r.useState)(!1),2),s=n[0],i=n[1],l=Object(r.useRef)(null),c=Object(qa.a)().t;return o.a.createElement(dr.a.Group,{className:"loaded readonly",controlId:"keyGenForm.privateKey"},o.a.createElement(dr.a.Label,null,t||c("applications.form.fields.key.label")),o.a.createElement(pr.a,null,o.a.createElement(dr.a.Control,{autoComplete:"new-password",type:s?"text":"password",name:"privateKey",value:a.privateKey,readOnly:!0}),o.a.createElement("input",{className:"sr-only",type:"text",name:"privateKey-hidden",value:a.privateKey,ref:l,readOnly:!0}),o.a.createElement(pr.a.Append,{className:"d-flex align-items-center"},o.a.createElement(Xs,{placement:"top",variant:"link",text:c(s?"common:buttons.hide":"common:buttons.reveal"),onClick:function(){return i(!s)},className:"p-1"},o.a.createElement("img",{src:s?zp.a:Lp.a,alt:c(s?"common:buttons.hide":"common:buttons.reveal"),height:"24"})),document.queryCommandSupported("copy")&&o.a.createElement(Fp,{inputRef:l,variant:"link",placement:"top",className:"p-1 ml-2"}))))},Yp=function(e){var t=e.values,a=e.onAddressChange,n=e.onGenerateAddress,r=e.readOnly,s=Kt().user;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Hp,{autoFocus:!0,showDesc:!0,readOnly:r,wallet:t,handleGenerate:function(){D((function(e){n&&n(e),window.analytics.track("Generated Keys",{userId:s.entity.emails[0].email})}))},onAddressChange:function(e){var t=e.target.value;return a&&a(t),t}}),t.privateKey&&o.a.createElement(Kp,{wallet:t}))};Yp.propTypes={values:la.a.object,onAddressChange:la.a.func,onGenerateAddress:la.a.func};var Gp=Yp,Wp=Hp,$p=Kp,Qp=function(e){var t=e.show,a=e.onHide,n=e.name,r=e.brand_name,s=e.handle,i=e.wallet,l=e.isMobile,c=Kt().user,u=Object(qa.a)().t;return o.a.createElement(mn.a,{id:"key-generation-modal",backdrop:"static",show:t,onHide:a,size:"lg","aria-labelledby":"key-generation-modal-title"},o.a.createElement(mn.a.Header,{className:"d-block"},o.a.createElement(mn.a.Title,{id:"key-generation-modal-title"},u("keyGen.title")),o.a.createElement("p",{className:"text-primary mb-0 mt-2"},u("keyGen.description"))),o.a.createElement(mn.a.Body,null,o.a.createElement(Gp,{readOnly:!0,values:i}),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("i",{className:"fas fa-info-circle mr-3",style:{fontSize:"2rem",opacity:"0.1"}}),o.a.createElement("div",{className:"text-sm"},o.a.createElement("p",{className:"text-primary text-uppercase mb-2"},u("keyGen.disclaimer.title")),o.a.createElement("p",{className:"text-meta mb-0"},u("keyGen.disclaimer.description"))))),o.a.createElement(mn.a.Footer,{className:"text-right"},o.a.createElement(dn.a,{onClick:l?a:function(){var e="".concat(s,"_keys.txt"),t=new Blob(["".concat(u("keyGen.download.description",{date:(new Date).toString()}),"\n\n"),"".concat(u("common:apps.name"),":  ").concat(n,"\n"),"".concat(u("keyGen.download.appBrandName"),":  ").concat(r,"\n"),"".concat(u("common:apps.handle"),":  ").concat(s,"\n"),"".concat(u("keyGen.download.appAddress"),": ").concat(i.address,"\n"),"".concat(u("keyGen.download.appKey"),": ").concat(i.privateKey,"\n")],{type:"text/plain"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var o=document.createElement("a");document.body.appendChild(o),o.style="display: none";var l=URL.createObjectURL(t);o.href=l,o.download=e,o.click(),URL.revokeObjectURL(o.href),o.remove()}a(),window.analytics.track("Downloaded Local Keys",{userId:c.entity.emails[0].email,name:n,brand_name:r,handle:s,address:i.address})}},u("keyGen.buttons.confirm"))))};Qp.propTypes={show:la.a.bool.isRequired,onHide:la.a.func.isRequired,app:la.a.object};var Zp=Qp;function Jp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(a),!0).forEach((function(t){ef(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jp(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ef(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tf(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nf(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var rf=function(){var e=Object(qa.a)().t;return o.a.createElement(Xs,{placement:"auto",variant:"secondary",text:e("applications.form.fields.name.description"),className:"btn-circle btn-circle-sm ml-2"},o.a.createElement("i",{className:"fas fa-info"}))},of=function(){var e=Object(qa.a)().t;return o.a.createElement(Xs,{placement:"auto",variant:"secondary",text:e("applications.form.fields.brand_name.description"),className:"btn-circle btn-circle-sm ml-2"},o.a.createElement("i",{className:"fas fa-info"}))},sf=function(){return o.a.createElement(Xs,{placement:"auto",variant:"secondary",text:o.a.createElement(is.a,{i18nKey:"applications.form.fields.handle.description"},"This will be the ",o.a.createElement("span",{className:"text-primary"},"app_handle")," used to identify all requests made by this app."),className:"btn-circle btn-circle-sm ml-2"},o.a.createElement("i",{className:"fas fa-info"}))},lf=function(){var e=Object(qa.a)().t;return o.a.createElement(Xs,{placement:"auto",variant:"secondary",text:e("applications.form.fields.address.description"),className:"btn-circle btn-circle-sm ml-2"},o.a.createElement("i",{className:"fas fa-info"}))},cf=function(){return o.a.createElement(Xs,{placement:"auto",variant:"secondary",text:o.a.createElement(is.a,{i18nKey:"applications.form.fields.key.description"},"The private key associated with this account will be used to sign the request body to create the ",o.a.createElement("span",{className:"text-primary"},"authsignature")," header and authenticate the request. ",o.a.createElement("span",{className:"text-warning"},"IMPORTANT! Never give your private key to us or anyone else!")),className:"btn-circle btn-circle-sm ml-2"},o.a.createElement("i",{className:"fas fa-info"}))},uf=Object(r.forwardRef)((function(e,t){var a=e.className,n=e.app,s=e.metrics,i=e.onDelete,l=e.onSave,c=e.onFreeze,u=e.hasPermissions,m=e.isMobile,d=n.id,p=n.name,f=n.brand_name,b=n.handle,h=n.blockchain_address,y=n.frozen,g=n.hasError,v=n.isLast,w=af(Object(r.useState)(!1),2),O=w[0],j=w[1],_=af(Object(r.useState)(!1),2),N=_[0],k=_[1],S=af(Object(r.useState)(!!g),2),I=S[0],A=S[1],P=af(Object(r.useState)(!!y),2),T=P[0],C=P[1],R=af(Object(r.useState)(b),2),M=R[0],F=R[1],q=af(Object(r.useState)({address:h,privateKey:!1}),2),L=q[0],U=q[1],z=af(Object(r.useState)({handleIsValid:!0,isSending:!1}),2),V=z[0],H=z[1],K={name:p,brand_name:f,handle:b,blockchain_address:L.address,frozen:y},Y=Object(qa.a)().t,G=Kt().user,W=Object(r.useRef)(null),$=Object(r.useRef)(null),Q=Y(T?"common:status.disabled":"common:status.enabled"),Z=T?"text-danger":"text-success",J=ar()(a,"app",!v&&"mb-3 mb-md-5"),X=function(e){return F(e.target.value.toLowerCase())},ee=function(e){return U({address:e.target.value,privateKey:!1})},te=kn(M,750),ae=Object(r.useRef)(null),ne=function(e){e&&(i(e.id,e),A(!1)),k(!1)},re=function(){D((function(e){U(e),window.analytics.track("Generated Keys",{userId:G.entity.emails[0].email})}))},oe=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t==K.handle){e.next=18;break}return H(Xp(Xp({},V),{},{isSending:!0})),e.prev=2,e.next=5,it.checkAppHandle(t);case 5:a=e.sent,n=!(!a||!0!==a.success),H(Xp(Xp({},V),{},n?{handleIsValid:!0,isSending:!1}:{handleIsValid:!1,isSending:!1})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),H(Xp(Xp({},V),{},{handleIsValid:!1,isSending:!1}));case 13:return e.prev=13,ae.current.setFieldTouched("handle",!0),e.finish(13);case 16:e.next=20;break;case 18:H(Xp(Xp({},V),{},{handleIsValid:!0,isSending:!1})),ae.current.setFieldTouched("handle",!1);case 20:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){tf(o,n,r,s,i,"next",e)}function i(e){tf(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){(T&&T!==y||!T&&T!==y)&&(n.frozen=T,c(d,n))}),[T]),Object(r.useEffect)((function(){g&&A(!0)}),[g]),Object(r.useEffect)((function(){b&&F(b)}),[b]),Object(r.useEffect)((function(){te&&oe(te)}),[te]),o.a.createElement("div",{className:J,ref:t},o.a.createElement(ou.a,{appear:!0,in:!0},o.a.createElement(Ss.a,null,o.a.createElement(Sp.a,{appear:!0,in:!0,timeout:2e3},o.a.createElement(hr.c,{enableReinitialize:!0,initialValues:K,validationSchema:x.object().shape({name:x.string().trim().required(Y("common:form.errors.required",{field:Y("applications.form.fields.name.label")})),brand_name:x.string().trim().required(Y("common:form.errors.required",{field:Y("applications.form.fields.brand_name.label")})),handle:x.string().matches(/^([a-zA-Z0-9._-]+)$/,{message:Y("common:form.fields.handle.error")}).required(Y("common:form.errors.required",{field:Y("applications.form.fields.handle.label")})).min(3,Y("common:form.errors.min",{count:3})).test("checkAppHandle",Y("common:form.fields.handle.exists")||Y("common:status.validating"),(function(e){return V.handleIsValid})),blockchain_address:x.string().matches(rn,{message:Y("applications.form.fields.address.error")}).required(Y("common:form.errors.required",{field:Y("applications.form.fields.address.label")}))}),innerRef:ae,onSubmit:function(e,t){var a=t.setSubmitting;L.privateKey&&j(!0),l(d,e,(function(){a(!1),g||A(!1)}))}},(function(e){var t=e.values,a=e.errors,r=e.handleSubmit,l=e.isSubmitting,c=e.resetForm;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:r},l&&o.a.createElement(pa,null),o.a.createElement(Ss.a.Header,{className:"d-flex align-items-center p-4 ".concat(I?"border-0":"border-light")},o.a.createElement("h2",{className:"mb-0 mr-5"},t.name," / ",t.brand_name),I?o.a.createElement("p",{className:"text-warning ml-auto mb-0 text-nowrap ".concat(m?"text-sm":"text-lg")},Y("applications.labels.update")):o.a.createElement("p",{className:"text-lg ".concat(Z," ml-auto mb-0")},Q)),o.a.createElement(Ss.a.Body,{className:"p-4 pt-md-0"},I?o.a.createElement("div",{className:"d-none d-md-block mx-n4"},o.a.createElement(Oc.a,{className:"border-light",responsive:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"pl-4 border-0"},o.a.createElement(hr.a,{required:!0,className:"name loaded m-0",tabIndex:1,id:"editAppForm.name",placeholder:Y("applications.form.fields.name.label"),name:"name",inputRef:W,label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.name.label")," ",o.a.createElement(rf,null)),component:ro})),o.a.createElement("td",{className:"border-0 pr-4"},o.a.createElement(hr.a,{required:!0,className:"brand-name loaded m-0",tabIndex:2,id:"editAppForm.brand_name",placeholder:Y("applications.form.fields.brand_name.label"),name:"brand_name",inputRef:$,label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.brand_name.label")," ",o.a.createElement(of,null)),component:ro})))))):null,I?o.a.createElement("div",{className:"d-block d-md-none"},o.a.createElement(Oc.a,{className:"m-0",responsive:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"border-0 p-0"},o.a.createElement(hr.a,{required:!0,className:"name loaded",tabIndex:1,id:"editAppForm.name",placeholder:Y("applications.form.fields.name.label"),name:"name",label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.name.label")," ",o.a.createElement(rf,null)),component:ro}))))),o.a.createElement(Oc.a,{className:"m-0",responsive:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"border-0 p-0 loaded"},o.a.createElement(hr.a,{required:!0,className:"brand-name loaded",tabIndex:2,id:"editAppForm.brand_name",placeholder:Y("applications.form.fields.brand_name.label"),name:"brand_name",label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.brand_name.label")," ",o.a.createElement(of,null)),component:ro})))))):null,o.a.createElement("div",{className:"d-none d-md-block mx-n4"},o.a.createElement(Oc.a,{className:"border-bottom border-light",responsive:!0},!I&&o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"pl-4"},Y("applications.form.fields.handle.label")),o.a.createElement("th",null,Y("applications.form.fields.address.label")))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"pl-4 ".concat(I?" border-0":"")},I?o.a.createElement(hr.a,{required:!0,className:"handle loaded",tabIndex:3,id:"editAppForm.handle",name:"handle",value:M,handleChange:X,label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.handle.label")," ",o.a.createElement(sf,null)),placeholder:Y("applications.form.fields.handle.placeholder"),component:ro}):b),o.a.createElement("td",{className:I?"border-0 pr-4":void 0},I?o.a.createElement(Wp,ef({tabIndex:4,label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.address.label")," ",o.a.createElement(lf,null)),onAddressChange:ee,wallet:L,handleGenerate:re},"onAddressChange",ee)):h)),L.privateKey&&o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2",className:"px-4 border-0 loaded"},o.a.createElement($p,{label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.key.label")," ",o.a.createElement(cf,null)),readOnly:!0,wallet:L})))))),o.a.createElement("div",{className:"d-block d-md-none"},o.a.createElement(Oc.a,{className:"m-0",responsive:!0},!I&&o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,Y("applications.form.fields.handle.label"),I&&o.a.createElement(Xs,{variant:"secondary",text:o.a.createElement(is.a,{i18nKey:"applications.form.fields.handle.description"},"This will be the ",o.a.createElement("span",{className:"text-primary"},"app_handle")," used to identify all requests made by this app."),className:"btn-circle btn-circle-sm ml-2"},o.a.createElement("i",{className:"fas fa-info"}))))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:I?"border-0 p-0":void 0},I?o.a.createElement(hr.a,{required:!0,className:"handle loaded",tabIndex:3,id:"editAppForm.handle",name:"handle",handleChange:X,value:M,label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.handle.label")," ",o.a.createElement(sf,null)),placeholder:Y("applications.form.fields.handle.placeholder"),component:ro}):b)))),o.a.createElement(Oc.a,{className:"m-0",responsive:!0},!I&&o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,Y("common:apps.address")))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:I?"border-0 p-0 loaded":void 0},I?o.a.createElement(Wp,{tabIndex:4,label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.address.label")," ",o.a.createElement(lf,null)),wallet:L,handleGenerate:re,onAddressChange:ee}):h)),I&&L.privateKey&&o.a.createElement("tr",null,o.a.createElement("td",{className:"border-0 p-0 loaded"},o.a.createElement($p,{label:o.a.createElement(o.a.Fragment,null,Y("applications.form.fields.key.label")," ",o.a.createElement(cf,null)),readOnly:!0,wallet:L})))))),!I&&o.a.createElement(su.a,{className:"my-4"},o.a.createElement(Ss.a,{className:"text-center border border-light"},o.a.createElement(Ss.a.Body,null,o.a.createElement("h1",{className:"m-0"},s?B(s.user_count,1):o.a.createElement("div",{className:"position-relative mb-4 pb-2"},o.a.createElement(pa,{style:"dots"}))),o.a.createElement("span",{className:"text-lg text-meta"},Y("applications.labels.users")))),o.a.createElement(Ss.a,{className:"text-center border border-light"},o.a.createElement(Ss.a.Body,null,o.a.createElement("h1",{className:"m-0"},s?B(s.transaction_count,1):o.a.createElement("div",{className:"position-relative mb-4 pb-2"},o.a.createElement(pa,{style:"dots"}))),o.a.createElement("span",{className:"text-lg text-meta"},Y("common:transactions.title")))),o.a.createElement(Ss.a,{className:"text-center border border-light"},o.a.createElement(Ss.a.Body,null,o.a.createElement("h1",{className:"m-0"},s?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"sila-icon sila text-primary mr-1"}),B(s.issue_amount,1)," "):o.a.createElement("div",{className:"position-relative mb-4 pb-2"},o.a.createElement(pa,{style:"dots"}))),o.a.createElement("span",{className:"text-lg text-meta"},Y("common:transactions.issued")))),o.a.createElement(Ss.a,{className:"text-center border border-light"},o.a.createElement(Ss.a.Body,null,o.a.createElement("h1",{className:"m-0"},s?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"sila-icon sila text-primary mr-1"}),B(s.transfer_amount,1)," "):o.a.createElement("div",{className:"position-relative mb-4 pb-2"},o.a.createElement(pa,{style:"dots"}))),o.a.createElement("span",{className:"text-lg text-meta"},Y("common:transactions.transferred")))),o.a.createElement(Ss.a,{className:"text-center border border-light"},o.a.createElement(Ss.a.Body,null,o.a.createElement("h1",{className:"m-0"},s?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"sila-icon sila text-primary mr-1"}),B(s.redeem_amount,1)," "):o.a.createElement("div",{className:"position-relative mb-4 pb-2"},o.a.createElement(pa,{style:"dots"}))),o.a.createElement("span",{className:"text-lg text-meta"},Y("common:transactions.redeemed"))))),o.a.createElement("div",{className:"actions d-flex flex-wrap mt-4"},u("Write")&&o.a.createElement(co,{variant:I?"primary":"outline-light",type:I&&"submit",loading:!(!I||!l),disabled:N||Object.keys(a).length,onClick:function(e){I||e.preventDefault(),A(!0)},size:!m&&"sm",className:"edit action mr-0 mr-md-3 px-4"},Y(I?"applications.form.buttons.save":"common:buttons.edit")),I&&o.a.createElement(dn.a,{variant:"outline-light",onClick:function(){return function(e){e({values:K}),U({address:h,privateKey:!1}),A(!1),i()}(c)},size:!m&&"sm",className:"cancel action mr-0 mr-md-3 px-4"},Y("common:buttons.cancel")),u("Write")&&o.a.createElement(dn.a,{variant:T?"primary":"outline-light",onClick:function(){return C(!T)},size:!m&&"sm",disabled:I||N,className:"freeze action mr-0 mr-md-3 px-4"},Y(T?"applications.form.buttons.enable":"applications.form.buttons.disable")),!I&&o.a.createElement(dn.a,{variant:"outline-light",onClick:function(){return Object(E.IntercomAPI)("showNewMessage",Y("applications.form.messages.support",{name:p}))},size:!m&&"sm",disabled:I,className:"request-support action mr-0 mr-md-3 px-4"},Y("applications.form.buttons.support")),u("Delete")&&I&&o.a.createElement(dn.a,{variant:N?"warning":"outline-warning",onClick:function(){return k(!0)},size:!m&&"sm",className:"delete action px-4 ml-auto"},Y(N?"common:status.deleting":"common:buttons.delete")))),O&&o.a.createElement(Zp,{name:t.name,brand_name:t.brand_name,handle:t.handle,wallet:L,show:O,onHide:function(){j(!1),U({address:h,privateKey:!1})}}),o.a.createElement(Nc,{show:N,data:Xp(Xp({},n),t),title:Y("common:buttons.confirm"),message:Y("common:form.messages.confirm.delete",{name:t.name}),buttonLabel:Y("common:buttons.delete"),buttonVariant:"warning",onHide:ne}))}))))))}));uf.propTypes={forwardRef:la.a.shape({className:la.a.string,app:la.a.object.isRequired,metrics:la.a.object.isRequired,onDelete:la.a.func.isRequired,onSave:la.a.object.isRequired,onFreeze:la.a.object.isRequired,isMobile:la.a.bool.isRequired})};var mf=uf;function df(e){return function(e){if(Array.isArray(e))return Ef(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(){return(pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ff(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bf(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(a),!0).forEach((function(t){hf(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ff(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yf(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function gf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||vf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){if(e){if("string"==typeof e)return Ef(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ef(e,t):void 0}}function Ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var wf=function(e){var t=e.onHide,a=e.onSave,n=gf(Object(r.useState)(1),2),s=n[0],i=n[1],l=gf(Object(r.useState)([s]),2),c=l[0],u=l[1],m=gf(Object(r.useState)(!1),2),d=m[0],p=m[1],f=gf(Object(r.useState)(!0),2),b=f[0],h=f[1],y=gf(Object(r.useState)(""),2),g=y[0],v=y[1],E=Object(qa.a)().t,w=Object(r.useRef)(null),O=Object(r.useRef)(null),j=Object(r.useRef)(null),_={expanded:s,onSetExpanded:i},N=gf(Object(r.useState)({handleIsValid:!0,isSending:!1}),2),k=N[0],S=N[1],I=kn(g,750),A=Object(r.useRef)(null),P=x.object().shape({name:x.string().trim().required(E("common:form.errors.required",{field:E("applications.form.fields.name.label")})).max(100,E("common:form.errors.max",{count:100})),brand_name:x.string().trim().required(E("common:form.errors.required",{field:E("applications.form.fields.brand_name.label")})).max(100,E("common:form.errors.max",{count:100})),handle:x.string().matches(/^([a-zA-Z0-9._-]+)$/,{message:E("common:form.fields.handle.error")}).required(E("common:form.errors.required",{field:E("applications.form.fields.handle.label")})).min(3,E("common:form.errors.min",{count:3})).max(100,E("common:form.errors.max",{count:100})).test("checkAppHandle",E("common:form.fields.handle.exists")||E("common:status.validating"),(function(e){return k.handleIsValid})),blockchain_address:x.string().matches(rn,{message:E("applications.form.fields.address.error")}).required(E("common:form.errors.required",{field:E("applications.form.fields.address.label")}))}),T=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return S(bf(bf({},k),{},{isSending:!0})),e.prev=2,e.next=5,it.checkAppHandle(t);case 5:a=e.sent,n=!(!a||!0!==a.success),S(bf(bf({},k),{},n?{handleIsValid:!0,isSending:!1}:{handleIsValid:!1,isSending:!1})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),S(bf(bf({},k),{},{handleIsValid:!1,isSending:!1}));case 13:return e.prev=13,A.current.setFieldTouched("handle",!0),e.finish(13);case 16:e.next=19;break;case 18:S(bf(bf({},k),{},{handleIsValid:!0,isSending:!1}));case 19:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){yf(o,n,r,s,i,"next",e)}function i(e){yf(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),C=function(e,t,a){return!(1===e&&t.name&&!a.name&&t.brand_name&&!a.brand_name||2===e&&g&&!a.handle&&k.handleIsValid||3===e&&t.blockchain_address&&!a.blockchain_address)},R=function(e){return v(e.target.value.toLowerCase())};return Object(r.useEffect)((function(){b&&1===s&&w.current?setTimeout((function(){w.current.focus()}),100):b&&2===s&&j.current&&setTimeout((function(){j.current.focus()}),100)}),[b,s]),Object(r.useEffect)((function(){I&&T(I)}),[I]),o.a.createElement(ou.a,{appear:!0,in:b,onExited:t},o.a.createElement(Sp.a,{appear:!0,in:!b,timeout:2e3},o.a.createElement(Ss.a,{className:"mb-5"},o.a.createElement(hr.c,{initialErrors:{},initialValues:{name:"",brand_name:"",handle:"",blockchain_address:"",privateKey:!1},validationSchema:P,innerRef:A,onSubmit:function(e,t){var n=t.setSubmitting,r=t.resetForm;a(e,(function(){n(!1),r({values:e}),p(!0)}))}},(function(e){var a=e.values,n=e.errors,r=(e.setErrors,e.resetForm),l=e.handleSubmit;return o.a.createElement(dr.a,{noValidate:!0,autoComplete:"new-password",onSubmit:l,className:"mb-4"},o.a.createElement(Ss.a.Header,{className:"p-4 border-light"},o.a.createElement("a",{className:"close",onClick:function(e){e.preventDefault(),r({values:a}),h(!1)}},o.a.createElement("span",{"aria-hidden":"true"},"×"),o.a.createElement("span",{className:"sr-only"},E("common:buttons.close"))),o.a.createElement("h2",{className:"m-0 text-primary"},E("applications.labels.pending"))),o.a.createElement(op.a,{className:"no-border mb-3 mb-md-5",activeKey:s,defaultActiveKey:s},o.a.createElement(cp,pf({className:"app-name",eventKey:1,label:E(1===s?"applications.form.fields.name.longLabel":"applications.steps.name.title"),append:1===s&&o.a.createElement("span",{className:"steps text-meta text-nowrap loaded mr-2 ml-5"},E("common:pagination.steps",{current:s,total:3}))},_),o.a.createElement("div",{className:"my-n4"},o.a.createElement("p",{className:"text-meta w-75"},E("applications.steps.name.description")),o.a.createElement(hr.a,{required:!0,className:"name",tabIndex:1,id:"createAppForm.name",placeholder:E("applications.form.fields.name.label"),name:"name",inputRef:w,component:ro}),o.a.createElement(hr.a,{required:!0,className:"brand-name",tabIndex:2,id:"createAppForm.brand_name",placeholder:E("applications.form.fields.brand_name.label"),name:"brand_name",inputRef:O,component:ro}))),a.name&&c.includes(2)&&o.a.createElement(cp,pf({className:"app-handle loaded",eventKey:a.name?2:void 0,label:E(2===s?"applications.form.fields.handle.longLabel":"applications.steps.handle.title"),append:2===s&&o.a.createElement("span",{className:"steps text-meta text-nowrap loaded mr-2 ml-5"},E("common:pagination.steps",{current:s,total:3}))},_),o.a.createElement("div",{className:"my-n4"},o.a.createElement(hr.a,{required:!0,className:"handle",tabIndex:3,id:"createAppForm.handle",placeholder:E("applications.form.fields.handle.label"),value:g,handleChange:R,note:o.a.createElement(is.a,{i18nKey:"applications.form.fields.handle.description"},"This will be the ",o.a.createElement("span",{className:"text-primary"},"app_handle")," used to identify all API requests made by this app."),name:"handle",inputRef:j,component:ro,isValid:k&&k.isValid&&!k.pending}))),a.name&&c.includes(3)&&o.a.createElement(cp,pf({className:"app-keys loaded",eventKey:g?3:void 0,label:E("applications.steps.keys.title"),append:3===s&&o.a.createElement("span",{className:"steps text-meta text-nowrap loaded mr-2 ml-5"},E("common:pagination.steps",{current:s,total:3}))},_),o.a.createElement("div",{className:"my-n4"},o.a.createElement("p",{className:"text-meta"},E("applications.steps.keys.description")),3===s&&o.a.createElement(Gp,{values:{address:a.blockchain_address,privateKey:a.privateKey},onAddressChange:function(e){r({values:bf(bf({},a),{},{blockchain_address:e,privateKey:!1})})},onGenerateAddress:function(e){r({values:bf(bf({},a),{},{blockchain_address:e.address,privateKey:e.privateKey})})}})))),a.privateKey&&o.a.createElement(Zp,{name:a.name,brand_name:a.brand_name,handle:g,wallet:{address:a.blockchain_address,privateKey:a.privateKey},show:d,onHide:function(){return t()}}),o.a.createElement(Ss.a.Body,{className:"text-center pt-0"},o.a.createElement(dn.a,{type:"submit",className:"w-50",onClick:s<3?function(){i(s+1),!c.includes(s+1)&&u([].concat(df(c),[s+1]))}:void 0,disabled:C(s,a,n)},E("applications.form.buttons.".concat(a.privateKey?"download":a.blockchain_address?"save":"continue")))))})))))};wf.propTypes={onHide:la.a.func.isRequired,onSave:la.a.func.isRequired};var xf=wf;function Of(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jf(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(a),!0).forEach((function(t){_f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Of(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Nf(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function kf(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Nf(o,n,r,s,i,"next",e)}function i(e){Nf(o,n,r,s,i,"throw",e)}s(void 0)}))}}function Sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return If(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return If(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Af=function(e){var t=e.t,a=e.history,n=e.status;return o.a.createElement(Jn.a,{className:"error splash main-content-container d-flex flex-grow-1 p-5"},o.a.createElement("div",{className:"splash__content align-self-center"},o.a.createElement("i",{className:"sila-icon sad-cloud"}),(404===n||500===n)&&o.a.createElement("h2",null,n),404===n&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,t("errors.404.title")),o.a.createElement("p",{className:"text-lg"},t("errors.404.description"))),500===n&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,t("errors.500.title")),o.a.createElement("p",{className:"text-lg"},t("errors.500.description"))),"frozen"===n&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,t("errors.frozen.title")),o.a.createElement("p",{className:"text-lg"},t("errors.frozen.description1")),o.a.createElement("p",null,o.a.createElement(is.a,{i18nKey:"errors.frozen.description2"},"Please contact our ",o.a.createElement("a",{href:"mailto:customer-success@silamoney.com"},"Customer Success Team")," to request access. We will review your request within 2 business days.")),o.a.createElement("p",{className:"text-info text-center"},t("errors.frozen.note"))),o.a.createElement(dn.a,{className:"back",onClick:function(){return a.goBack()}},t("common:buttons.goBack"))))},Pf=function(){var e=Object(qa.a)().t;return o.a.createElement(Jn.a,{className:"maintenance splash main-content-container d-flex flex-grow-1 p-5"},o.a.createElement("div",{className:"splash__content"},o.a.createElement("i",{className:"fas fa-wrench"}),o.a.createElement("h3",null,e("maintenance.title")),o.a.createElement("p",{className:"text-lg"},e("maintenance.description")),o.a.createElement("p",null,o.a.createElement(is.a,{i18nKey:"maintenance.action"},"For emergency issues, please ",o.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),Object(E.IntercomAPI)("show")}},"contact support"),"."))))};function Tf(){return(Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Cf=[{restricted:!1,name:"Login",path:"/login",layout:Os,component:Hs,seo:{title:"Sign In | Sila API"},routes:[{all:!0,name:"Sign In::MFA",path:"/login/mfa",layout:js,component:li}]},{all:!0,name:"Logout",path:"/logout",layout:Os,component:ui},{restricted:!1,name:"Register",path:"/register",layout:Os,component:wi,seo:{title:"Sign Up | Sila API"},routes:[{all:!0,name:"Register::Invite Team Members",path:"/register/invite_team_members",layout:js,component:Ii},{all:!0,name:"Register::Questions",path:"/register/questionnaire",layout:js,component:Ri}]},{restricted:!1,name:"Forgot Password",path:"/forgot_password",layout:Os,component:Ki},{restricted:!0,name:"Welcome Series",path:"/welcome/:page?",layout:Os,component:wl},{restricted:!0,name:"Account",path:"/account",layout:Os,component:ac,routes:[{all:!0,disableTracking:!0,name:"Account::Reset Password",path:"/account/reset_password/:token?/:email?",layout:Os,component:rl},{all:!0,disableTracking:!0,name:"Account::Confirmation",path:"/account/confirm/:token",layout:Os,component:zi}]},{all:!0,disableTracking:!0,name:"Account Admin::Team Member Confirmation",path:"/invitation/:token",layout:Os,component:Li},{admin:!0,name:"Sila Admin",path:"/admin",layout:Os,component:Lm,routes:[{admin:!0,name:"Sila Admin::Customers",path:"/admin/customers",layout:Os,component:Um},{admin:!0,exact:!0,name:"Sila Admin::Console Users",path:"/admin/console_users",layout:Os,component:Qm},{admin:!0,name:"Sila Admin::Console User Details",path:"/admin/console_users/:handle/:action?",layout:Os,component:jd},{admin:!0,name:"Sila Admin::Apps",path:"/admin/apps",layout:Os,component:_d},{admin:!0,name:"Sila Admin::End Users",path:"/admin/end_users",exact:!0,layout:Os,component:Td},{admin:!0,name:"Sila Admin::End User Details",path:"/admin/end_users/:handle/:action?",layout:Os,component:$d},{admin:!0,name:"Sila Admin::Transactions",path:"/admin/transactions",exact:!0,layout:Os,component:rp},{admin:!0,name:"Sila Admin::Transaction Details",path:"/admin/transactions/:id/:action?",layout:Os,component:kp}]},{restricted:!0,name:"Account Admin",path:"/settings",layout:Os,component:cc,routes:[{restricted:!0,name:"Account Admin::Account Information",path:"/settings/team",layout:Os,component:wc},{restricted:!0,name:"Account Admin::Team Management",path:"/settings/members/:action?",layout:Os,component:Yc}]},{restricted:!0,name:"Applications",path:"/apps/:action?/:id?",layout:Os,component:function(e){var t=e.t,a=e.match,n=e.user,s=e.actions,i=e.isMobile,l=e.history,c=Sf(Object(r.useState)(!1),2),u=c[0],m=c[1],d=Kt().onUpdateUser,f=n.confirmed_at||p.a.get("sila_console_confirmed_".concat(n.entity.handle)),b=Dn(it.fetchApps,{slug:"apps",team:n.currentTeam?n.currentTeam.id:null,limit:5},P(n,"apps","Read")),h=b.data,y=b.setData,g=b.setRefresh,v=b.lastItem,E=b.hasMore,w=b.isLoading,x=b.isFetching,O=b.loaded,j=function(){var e=kf(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.prev=1,e.next=4,it.createApp(t,n.currentTeam.id);case 4:o=e.sent,g(!0),s.addItem("alerts",{message:o.message,style:"success"}),t.privateKey||m(!1),r&&r(),n.hasApps||d({hasApps:!0}),"new"===a.params.action&&l.push("/apps"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),s.addItem("alerts",{message:e.t0,style:"danger"});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=kf(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a){e.next=13;break}return e.prev=1,e.next=4,it.deleteApp(t,a);case 4:n=e.sent,y(h.filter((function(e){return e.id!==t}))),s.addItem("alerts",{message:n.message,style:"success"}),h.length||d({hasApps:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s.addItem("alerts",{message:e.t0,style:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=kf(regeneratorRuntime.mark((function e(t,a,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a){e.next=13;break}return e.prev=1,e.next=4,it.updateApp(t,a);case 4:r=e.sent,y(h.map((function(e){return e.id===t?jf(jf({},e),a):e}))),s.addItem("alerts",{message:r.message,style:"success"}),n&&n(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s.addItem("alerts",{message:e.t0,style:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),k=function(){var e=kf(regeneratorRuntime.mark((function e(a,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!n){e.next=11;break}return e.prev=1,e.next=4,it.freezeApp(a,n);case 4:y(h.map((function(e){return e.id===a?jf(jf({},e),{},{frozen:n.frozen}):e}))),s.addItem("alerts",{message:t("applications.form.messages.status",{name:n.name,status:(n.frozen?t("common:status.disabled"):t("common:status.enabled")).toLowerCase()}),style:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s.addItem("alerts",{message:e.t0,style:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){O&&g(!0)}),[n.currentTeam]),Object(r.useEffect)((function(){x||function(){var e=kf(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it.fetchMetrics(h.filter((function(e){return!e.metrics&&!e.pending})).map((function(e){return e.id})));case 3:t=e.sent,y(h.map((function(e){var a=t.find((function(t){return t.id===e.id}));return a?jf(jf({},e),{},{metrics:a}):e}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.addItem("alerts",{message:e.t0,style:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[x]),Object(r.useEffect)((function(){"new"===a.params.action&&P(n,"apps","Write")&&f&&m(!0)}),[a]),o.a.createElement(Jn.a,{className:"applications main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("applications.title")},f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"text-meta font-italic mb-md-0 mr-md-4"},o.a.createElement(is.a,{i18nKey:"common:tips.apiExplorer"},"Try using our ",o.a.createElement("a",{href:"https://demo.silamoney.com/",target:"_blank"},"hosted API explorer"),"!")),P(n,"apps","Write")&&!u&&h.length>0&&o.a.createElement(dn.a,{variant:"secondary",onClick:function(){return m(!0)}},t("applications.buttons.create")," ",o.a.createElement("i",{className:"fas fa-plus-circle ml-2"}))))),u&&o.a.createElement(xf,{onHide:function(){return m(!1)},onSave:j}),!P(n,"apps","Read")&&o.a.createElement(oc,null),w?o.a.createElement(pa,null):o.a.createElement(o.a.Fragment,null,0!==h.length?h.map((function(e,t){return o.a.createElement(mf,{key:t,className:0===t&&"first",user:n,app:e,metrics:e.metrics,onSave:N,onFreeze:k,onDelete:_,isMobile:i,hasPermissions:function(e){return P(n,"apps",e)},ref:h[h.length-1].key===h.key?v:null})})):u?null:o.a.createElement(Qc,null,o.a.createElement("p",{className:"text-meta text-lg"},t(f?"applications.empty.messages.confirmed":"applications.empty.messages.notConfirmed")),P(n,"apps","Write")&&f&&o.a.createElement(dn.a,{onClick:function(){return m(!0)}},t("applications.empty.action"))),O&&x&&E&&o.a.createElement("div",{className:"fetching"},o.a.createElement(pa,{label:t("applications.loading")}))))}},{restricted:!0,name:"Developers",path:"/dev",layout:Os,component:Wc,routes:[{restricted:!0,name:"Webhooks",path:"/dev/webhooks",exact:!0,layout:Os,component:ru},{exact:!0,restricted:!0,name:"Webhooks::Endpoint",path:"/dev/webhooks/:app?/:id?/:action?",layout:Os,component:Cu},{exact:!0,restricted:!0,name:"Webhooks::Endpoint",path:"/dev/webhooks/new",layout:Os,component:Cu},{exact:!0,restricted:!0,name:"Webhooks::Webhook Activity Dashboard",path:"/dev/webhook_events",layout:Os,component:Tm},{exact:!0,restricted:!0,name:"Webhooks::Webhook Activity Dashboard",path:"/dev/webhook_events/:id?/:action?",layout:Os,component:Fm}]},{restricted:!0,name:"Reports & Analytics",path:"/reports",layout:Os,component:function(e){var t=e.t;return o.a.createElement(Jn.a,{className:"main-content-container p-3 p-md-5 d-flex flex-column flex-grow-1"},o.a.createElement(cr.a,{noGutters:!0,className:"page-header mb-3 mb-md-5"},o.a.createElement(Nl,{title:t("reports.title")})),t("common:status.comingSoon"))}},{all:!0,name:"System Error (500)",path:"/error",layout:Os,component:function(e){return o.a.createElement(Af,Tf({status:500},e))},routes:[{frozen:!0,name:"Account frozen",path:"/error/frozen",layout:Os,component:function(e){return o.a.createElement(Af,Tf({status:"frozen"},e))}}]},{all:!0,name:"Maintenance",path:"/maintenance",layout:function(e){return o.a.createElement(Os,Tf({full:!0},e))},component:function(){return o.a.createElement(Pf,null)}},{exact:!0,path:"/",layout:Os,component:Yn},{all:!0,name:"Page not found (404)",path:"/not_found",layout:Os,component:function(e){return o.a.createElement(Af,Tf({status:404},e))}}];function Rf(){return(Rf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Mf(e,t,a,n,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}var Df=Object(u.b)((function(e){return{state:e.console}}),(function(e){return{actions:Object(ja.b)(n,e)}}))((function(e){var t=e.actions,a=e.state,n=Kt(),r=n.user,s=n.onLogout,i=n.authLoaded,l=n.session,c=Object(qa.a)().t,u=Object(Fa.h)(),m=Object(Fa.g)(),d=!!r&&{handle:r.entity.handle,email:r.entity.emails[0].email,name:r.entity.full_name},p={alignment:"right",horizontal_padding:50,vertical_padding:50},f=!r||u.pathname.includes("invite_team_members")||u.pathname.includes("questionnaire")?" guest":"";d&&(p.user_id=d.email,p.email=d.email,p.name=d.name);var b=function(){var e,a=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=14;break}return e.prev=1,e.next=4,$e.logout();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t.addItem("alerts",{message:e.t0,style:"danger"});case 9:return e.prev=9,m.push({pathname:"/login",state:{from:u.pathname,handle:r.entity.emails[0].email}}),s(),t.addItem("alerts",{message:c("user.status.inactive"),style:"warning",dismissible:!0}),e.finish(9);case 14:case"end":return e.stop()}}),e,null,[[1,6,9,14]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){Mf(o,n,r,s,i,"next",e)}function i(e){Mf(o,n,r,s,i,"throw",e)}s(void 0)}))});return function(){return a.apply(this,arguments)}}();return i?o.a.createElement(La.a,{ref:function(e){e},element:document,onIdle:b,debounce:250,timeout:l?new Date(l.expiry_date).getTime()-(new Date).getTime():9e5},o.a.createElement(un,null),o.a.createElement("div",{className:"app".concat(f)},a.alerts.length>0&&o.a.createElement(lr,{state:a,route:Cf.some((function(e){return e.routes}))?Cf.find((function(e){return e.routes&&e.routes.some((function(e){return e.path==u.pathname}))})):Cf.find((function(e){return e.path==u.pathname}))}),o.a.createElement(Zn,{routes:Cf,state:a,actions:t})),o.a.createElement(w.a,Rf({appID:"ca0ac5u1"},p)),r&&a.invitation&&o.a.createElement(vn,{show:!!a.invitation,data:a.invitation,actions:t})):o.a.createElement(pa,null)})),Ff=a("./node_modules/i18next/dist/esm/i18next.js"),qf=a("./node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js"),Lf=a("./node_modules/react-i18next/dist/es/context.js"),Uf=a("./node_modules/i18next-xhr-backend/dist/esm/i18nextXHRBackend.js");Ff.a.use(Uf.a).use(qf.a).use(Lf.e).init({fallbackLng:"en",ns:["app","common"],detection:{order:["cookie","navigator","localStorage","queryString","htmlTag"],lookupFromPathIndex:0},defaultNS:"app",load:"languageOnly",debug:!1,interpolation:{escapeValue:!1},backend:{loadPath:"".concat("/static","/locales/{{lng}}-{{ns}}.json?v=").concat("27214d64f7248d862bac08c95365a45eb1e1541b"),crossDomain:!1}});Ff.a,a("./assets/styles/scss/dashboard.scss");c.a.initialize({gtmId:"GTM-57ST4NC"}),i.a.render(o.a.createElement(u.a,{store:Da.configureStore()},o.a.createElement(m.a,{context:{}},o.a.createElement(Yt,null,o.a.createElement(oa,null,o.a.createElement(r.Suspense,{fallback:o.a.createElement(pa,null)},o.a.createElement(Df,null)))))),document.getElementById("sila-app"))},"./assets/styles/scss/dashboard.scss":function(e,t,a){var n=a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/dist/cjs.js!./assets/styles/scss/dashboard.scss");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},o=a("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals),e.hot.accept("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/dist/cjs.js!./assets/styles/scss/dashboard.scss",(function(){var t=a("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/dist/cjs.js!./assets/styles/scss/dashboard.scss");if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/dist/cjs.js!./assets/styles/scss/dashboard.scss":function(e,t,a){},0:function(e,t,a){a("./node_modules/whatwg-fetch/fetch.js"),a("./node_modules/@babel/polyfill/lib/index.js"),e.exports=a("./assets/js/index.js")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){}});