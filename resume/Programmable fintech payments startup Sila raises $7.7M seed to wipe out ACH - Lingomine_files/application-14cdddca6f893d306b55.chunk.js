/*! For license information please see application-14cdddca6f893d306b55.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.a={param:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object.keys(t).map((function(o){var s=t[o];if("[object Object]"===Object.prototype.toString.call(s)||Array.isArray(s))return Array.isArray(t)?n.push(""):n.push(o),e.param(s,n,Array.isArray(s));var c=o;return n.length>0&&(c=(i?n:[].concat(r(n),[o])).reduce((function(t,e){return""===t?e:"".concat(t,"[").concat(e,"]")}),"")),i?"".concat(c,"[]=").concat(s):"".concat(c,"=").concat(s)})).join("&");return n.pop(),o}}},,,,,,,,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"highlight",value:function(){this.element.classList.add("expression--active")}},{key:"unhighlight",value:function(){this.element.classList.remove("expression--active")}},{key:"clicked",value:function(){this.hasPopup?(this.text.hidePopup(),this.text.unhighlightExpressions()):(this.text.hidePopup(),this.text.unhighlightExpressions(),this.popup=!0,this.text.highlightSameExpressions(this.string),this.text.showPopupDictionary(this))}},{key:"isNew",value:function(){return this.element.classList.contains("expression--new")}},{key:"memorize",value:function(){this.element.classList.add("expression__memorized")}},{key:"isHighlighted",get:function(){return this.element.classList.contains("expression--active")}},{key:"sentence",get:function(){return this.element.closest(".sentence").dataset.sentenceString}},{key:"memorized",set:function(t){t?this.element.classList.add("expression__memorized"):this.element.classList.remove("expression__memorized")}},{key:"popup",set:function(t){t?this.element.classList.add("expression__popup"):this.element.classList.remove("expression__popup")}},{key:"hasPopup",get:function(){return this.element.classList.contains("expression__popup")}},{key:"id",get:function(){return this.data.get("id")}},{key:"paragraph",get:function(){return this.application.getControllerForElementAndIdentifier(this.element.parentNode,"paragraph")}},{key:"text",get:function(){var t=document.getElementById("text");return this.application.getControllerForElementAndIdentifier(t,"text")}},{key:"vocabulary",set:function(t){t?this.element.classList.remove("expression--new"):this.element.classList.add("expression--new")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return v}));var r=n(14),i=n(2),o=n.n(i),s=n(5);function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(a,t);var e,n,r,i=p(a);function a(){return u(this,a),i.apply(this,arguments)}return e=a,r=[{key:"all",value:function(){return Array.from(document.getElementsByClassName("phrase"))}},{key:"elements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Array.from(document.getElementsByClassName("phrase"));return t?e.filter((function(e){return e.dataset.phraseString===t})):e}},{key:"newPhrases",value:function(){return Array.from(document.querySelectorAll(".phrase.expression--new"))}}],(n=[{key:"initialize",value:function(){this.type="phrase"}},{key:"connect",value:function(){var t=this;this.isNew()&&(this.text.hidePopup(),this.text.unhighlightExpressions(),this.text.popupDictionary.loading=!0,o.a.ajax({url:"/phrases/",type:"POST",dataType:"script",data:s.a.param({phrase:{string:this.string}}),success:function(){t.highlight(),t.text.showPopupDictionary(t)}}))}},{key:"clicked",value:function(){f(y(a.prototype),"clicked",this).call(this)}},{key:"unwrap",value:function(){var t;(t=this.element).replaceWith.apply(t,c(this.element.childNodes))}},{key:"string",get:function(){return this.data.get("string")}}])&&l(e.prototype,n),r&&l(e,r),a}(r.default)},,,function(t,e,n){var r=n(101);r.keys().forEach(r)},,,,function(t,e,n){var r,i,o,s,c,a,u,l,f,h,p,d,y,v,g,b,m,w,_,k,O,P,j,E,x,T,S,R,C;"undefined"!=typeof window&&window,o={id:"ev-emitter/ev-emitter",exports:{},loaded:!1},r="function"===typeof(i=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(t,o),delete r[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?i.call(o.exports,n,o.exports,o):i,o.loaded=!0,void 0!==r||(r=o.exports),window,a={id:"get-size/get-size",exports:{},loaded:!1},s="function"===typeof(c=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=n.length;function i(t){var n=getComputedStyle(t);return n||e("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var o,s=!1;function c(e){if(function(){if(!s){s=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var r=i(e);o=200==Math.round(t(r.width)),c.isBoxSizeOuter=o,n.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var a=i(e);if("none"==a.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<r;e++)t[n[e]]=0;return t}();var u={};u.width=e.offsetWidth,u.height=e.offsetHeight;for(var l=u.isBorderBox="border-box"==a.boxSizing,f=0;f<r;f++){var h=n[f],p=a[h],d=parseFloat(p);u[h]=isNaN(d)?0:d}var y=u.paddingLeft+u.paddingRight,v=u.paddingTop+u.paddingBottom,g=u.marginLeft+u.marginRight,b=u.marginTop+u.marginBottom,m=u.borderLeftWidth+u.borderRightWidth,w=u.borderTopWidth+u.borderBottomWidth,_=l&&o,k=t(a.width);!1!==k&&(u.width=k+(_?0:y+m));var O=t(a.height);return!1!==O&&(u.height=O+(_?0:v+w)),u.innerWidth=u.width-(y+m),u.innerHeight=u.height-(v+w),u.outerWidth=u.width+g,u.outerHeight=u.height+b,u}}return c})?c.call(a.exports,n,a.exports,a):c,a.loaded=!0,void 0!==s||(s=a.exports),function(t,e){"use strict";f={id:"desandro-matches-selector/matches-selector",exports:{},loaded:!1},u="function"===typeof(l=e)?l.call(f.exports,n,f.exports,f):l,f.loaded=!0,void 0!==u||(u=f.exports)}(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var r=e[n]+"MatchesSelector";if(t[r])return r}}();return function(e,n){return e[t](n)}})),function(t,n){h=function(e){return function(t,e){var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},r=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null===t||void 0===t?[]:"object"==typeof t&&"number"==typeof t.length?r.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,r){t=n.makeArray(t);var i=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(r){e(t,r)&&i.push(t);for(var n=t.querySelectorAll(r),o=0;o<n.length;o++)i.push(n[o])}else i.push(t)})),i},n.debounceMethod=function(t,e,n){n=n||100;var r=t.prototype[e],i=e+"Timeout";t.prototype[e]=function(){var t=this[i];clearTimeout(t);var e=arguments,o=this;this[i]=setTimeout((function(){r.apply(o,e),delete o[i]}),n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,n){return e+"-"+n})).toLowerCase()};var i=t.console;return n.htmlInit=function(e,r){n.docReady((function(){var o=n.toDashed(r),s="data-"+o,c=document.querySelectorAll("["+s+"]"),a=document.querySelectorAll(".js-"+o),u=n.makeArray(c).concat(n.makeArray(a)),l=s+"-options",f=t.jQuery;u.forEach((function(t){var n,o=t.getAttribute(s)||t.getAttribute(l);try{n=o&&JSON.parse(o)}catch(a){return void(i&&i.error("Error parsing "+s+" on "+t.className+": "+a))}var c=new e(t,n);f&&f.data(t,r,c)}))}))},n}(t,e)}.apply(e,R=[u])}(window),window,p=function(t){return function(t,e){function n(t,e){this.element=t,this.parent=e,this.create()}var r=n.prototype;return r.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},r.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},r.getSize=function(){this.size=e(this.element)},r.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},r.updateTarget=r.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},r.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},r.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},r.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},r.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},r.remove=function(){this.element.parentNode.removeChild(this.element)},n}(0,t)}.apply(e,R=[s]),window,v={id:"flickity/js/slide",exports:{},loaded:!1},d="function"===typeof(y=function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),n=e?e.size[t]:0,r=this.outerWidth-(this.firstMargin+n);this.target=this.x+this.firstMargin+r*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t})?y.call(v.exports,n,v.exports,v):y,v.loaded=!0,void 0!==d||(d=v.exports),window,g=function(t){return function(t,e){var n={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var n=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+n+",0,0)":"translateX("+n+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,n=e/this.slidesWidth;this.dispatchEvent("scroll",null,[n,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var n=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,n,1)},_shiftCells:function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],o=e>0?n:0;i.wrapShift(o),e-=i.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}};return n}(0,t)}.apply(e,R=[h]),function(t,n){b=function(e,n,r,i,o,s){return function(t,e,n,r,i,o,s){var c=t.jQuery,a=t.getComputedStyle,u=t.console;function l(t,e){for(t=r.makeArray(t);t.length;)e.appendChild(t.shift())}var f=0,h={};function p(t,e){var n=r.getQueryElement(t);if(n){if(this.element=n,this.element.flickityGUID){var i=h[this.element.flickityGUID];return i.option(e),i}c&&(this.$element=c(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e),this._create()}else u&&u.error("Bad element for Flickity: "+(n||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var d=p.prototype;r.extend(d,e.prototype),d._create=function(){var e=this.guid=++f;for(var n in this.element.flickityGUID=e,h[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var r=this.options.on[n];this.on(n,r)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},d.option=function(t){r.extend(this.options,t)},d.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),l(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},d._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},d._filterFindCellElements=function(t){return r.filterFindElements(t,this.options.cellSelector)},d.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},d._makeCells=function(t){return this._filterFindCellElements(t).map((function(t){return new i(t,this)}),this)},d.getLastCell=function(){return this.cells[this.cells.length-1]},d.getLastSlide=function(){return this.slides[this.slides.length-1]},d.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},d._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var n=this.cells[t-1];e=n.x+n.size.outerWidth}for(var r=this.cells.length,i=t;i<r;i++){var o=this.cells[i];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=r?this.getLastSlide().target-this.slides[0].target:0},d._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},d.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(r,i){if(t.cells.length){var s=t.outerWidth-t.firstMargin+(r.size.outerWidth-r.size[e]);n.call(this,i,s)||(t.updateTarget(),t=new o(this),this.slides.push(t)),t.addCell(r)}else t.addCell(r)}),this),t.updateTarget(),this.updateSelectedSlide()}},d._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var n="string"==typeof t&&t.match(/^(\d+)%$/),r=n?parseInt(n[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*r}},d._init=d.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},d.getSize=function(){this.size=n(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var y={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};d.setCellAlign=function(){var t=y[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},d.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},d._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},d._getGapCells=function(t,e,n){for(var r=[];t>0;){var i=this.cells[e];if(!i)break;r.push(i),e+=n,t-=i.size.outerWidth}return r},d._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",n=t?"marginLeft":"marginRight",r=this.slideableWidth-this.getLastCell().size[n],i=r<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],s=r-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){i?t.target=r*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,s))}),this)}},d.dispatchEvent=function(t,e,n){var r=e?[e].concat(n):n;if(this.emitEvent(t,r),c&&this.$element){var i=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var o=c.Event(e);o.type=t,i=o}this.$element.trigger(i,n)}},d.select=function(t,e,n){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=r.modulo(t,this.slides.length)),this.slides[t])){var i=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=i&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},d._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var n=r.modulo(t,e),i=Math.abs(n-this.selectedIndex),o=Math.abs(n+e-this.selectedIndex),s=Math.abs(n-e-this.selectedIndex);!this.isDragSelect&&o<i?t+=e:!this.isDragSelect&&s<i&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},d.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},d.next=function(t,e){this.select(this.selectedIndex+1,t,e)},d.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},d.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},d.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t)if(this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},d.selectCell=function(t,e,n){var r=this.queryCell(t);if(r){var i=this.getCellSlideIndex(r);this.select(i,e,n)}},d.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){if(-1!=this.slides[e].cells.indexOf(t))return e}},d.getCell=function(t){for(var e=0;e<this.cells.length;e++){var n=this.cells[e];if(n.element==t)return n}},d.getCells=function(t){t=r.makeArray(t);var e=[];return t.forEach((function(t){var n=this.getCell(t);n&&e.push(n)}),this),e},d.getCellElements=function(){return this.cells.map((function(t){return t.element}))},d.getParentCell=function(t){var e=this.getCell(t);return e||(t=r.getParent(t,".flickity-slider > *"),this.getCell(t))},d.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var n=this.slides.length;if(1+2*t>=n)return this.getCellElements();for(var i=[],o=e-t;o<=e+t;o++){var s=this.options.wrapAround?r.modulo(o,n):o,c=this.slides[s];c&&(i=i.concat(c.getCellElements()))}return i},d.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#\.]?[\d\/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},d.uiChange=function(){this.emitEvent("uiChange")},d.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},d.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(p,"onresize",150),d.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},d.watchCSS=function(){this.options.watchCSS&&(-1!=a(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},d.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var n=p.keyboardHandlers[t.keyCode];n&&n.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},d.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},d.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),l(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},d.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),c&&this.$element&&c.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},r.extend(d,s),p.data=function(t){var e=(t=r.getQueryElement(t))&&t.flickityGUID;return e&&h[e]},r.htmlInit(p,"flickity"),c&&c.bridget&&c.bridget("flickity",p);return p.setJQuery=function(t){c=t},p.Cell=i,p.Slide=o,p}(t,e,n,r,i,o,s)}.apply(e,R=[r,s,h,p,d,g])}(window),function(t,n){m=function(e){return function(t,e){function n(){}var r=n.prototype=Object.create(e.prototype);r.bindStartEvent=function(t){this._bindStartEvent(t,!0)},r.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},r._bindStartEvent=function(e,n){var r=(n=void 0===n||n)?"addEventListener":"removeEventListener",i="mousedown";t.PointerEvent?i="pointerdown":"ontouchstart"in t&&(i="touchstart"),e[r](i,this)},r.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},r.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},r.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},r.onpointerdown=function(t){this._pointerDown(t,t)},r._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},r.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var i={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return r._bindPostStartEvents=function(e){if(e){var n=i[e.type];n.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=n}},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},r.onmousemove=function(t){this._pointerMove(t,t)},r.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},r.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},r._pointerMove=function(t,e){this.pointerMove(t,e)},r.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},r.onmouseup=function(t){this._pointerUp(t,t)},r.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},r.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},r._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},r.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},r._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},r._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},r.pointerDone=function(){},r.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},r.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},r._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},r.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}(t,e)}.apply(e,R=[r])}(window),function(t,n){w=function(e){return function(t,e){function n(){}var r=n.prototype=Object.create(e.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)},r._bindHandles=function(e){for(var n=(e=void 0===e||e)?"addEventListener":"removeEventListener",r=e?this._touchActionValue:"",i=0;i<this.handles.length;i++){var o=this.handles[i];this._bindStartEvent(o,e),o[n]("click",this),t.PointerEvent&&(o.style.touchAction=r)}},r._touchActionValue="none",r.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var i={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return r.okayPointerDown=function(t){var e=i[t.target.nodeName],n=o[t.target.type],r=!e||n;return r||this._pointerReset(),r},r.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},r.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,n]),this._dragMove(t,e,n)},r._dragPointerMove=function(t,e){var n={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(t,e),n},r.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},r.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},r._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},r._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},r.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},r._dragMove=function(t,e,n){this.isDragging&&this.dragMove(t,e,n)},r.dragMove=function(t,e,n){t.preventDefault(),this.emitEvent("dragMove",[t,e,n])},r._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},r.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},r.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},r._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},r.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},n.getPointerPoint=e.getPointerPoint,n}(t,e)}.apply(e,R=[m])}(window),function(t,n){_=function(e,n,r){return function(t,e,n,r){r.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var i=e.prototype;r.extend(i,n.prototype),i._touchActionValue="pan-y";var o="createTouch"in document,s=!1;i._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),o&&!s&&(t.addEventListener("touchmove",(function(){})),s=!0)},i.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},i.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},i.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},i.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},i.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},i._uiChangeDrag=function(){delete this.isFreeScrolling},i.pointerDown=function(e,n){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),t.addEventListener("scroll",this),this._pointerDownDefault(e,n)):this._pointerDownDefault(e,n)},i._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var c={INPUT:!0,TEXTAREA:!0,SELECT:!0};function a(){return{x:t.pageXOffset,y:t.pageYOffset}}return i.pointerDownFocus=function(t){c[t.target.nodeName]||this.focus()},i._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,n="touch"==t.pointerType,r=c[t.target.nodeName];e||n||r||t.preventDefault()},i.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},i.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},i.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},i.dragStart=function(e,n){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[n]))},i.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,n]),this._dragMove(t,e,n)},i.dragMove=function(t,e,n){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var r=this.options.rightToLeft?-1:1;this.options.wrapAround&&(n.x=n.x%this.slideableWidth);var i=this.dragStartPosition+n.x*r;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);i=i>o?.5*(i+o):i;var s=Math.min(-this.getLastSlide().target,this.dragStartPosition);i=i<s?.5*(i+s):i}this.dragX=i,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,n])}},i.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var n=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var r=this.getRestingPosition();this.isFreeScrolling=-r>this.slides[0].target&&-r<this.getLastSlide().target}else this.options.freeScroll||n!=this.selectedIndex||(n+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(n),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},i.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),n=this._getClosestResting(t,e,1),r=this._getClosestResting(t,e,-1);return n.distance<r.distance?n.index:r.index},i._getClosestResting=function(t,e,n){for(var r=this.selectedIndex,i=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,i)&&(r+=n,i=e,null!==(e=this.getSlideDistance(-t,r)));)e=Math.abs(e);return{distance:i,index:r-n}},i.getSlideDistance=function(t,e){var n=this.slides.length,i=this.options.wrapAround&&n>1,o=i?r.modulo(e,n):e,s=this.slides[o];if(!s)return null;var c=i?this.slideableWidth*Math.floor(e/n):0;return t-(s.target+c)},i.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},i.staticClick=function(t,e){var n=this.getParentCell(t.target),r=n&&n.element,i=n&&this.cells.indexOf(n);this.dispatchEvent("staticClick",t,[e,r,i])},i.onscroll=function(){var t=a(),e=this.pointerDownScroll.x-t.x,n=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(n)>3)&&this._pointerDone()},e}(t,e,n,r)}.apply(e,R=[b,w,h])}(window),window,k=function(t,e,n){return function(t,e,n,r){"use strict";var i="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}o.prototype=Object.create(n.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var n=this.createSVG();e.appendChild(n),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(i,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e,n=document.createElementNS(i,"path"),r="string"==typeof(e=this.parent.options.arrowShape)?e:"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z";return n.setAttribute("d",r),n.setAttribute("class","arrow"),this.isLeft||n.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(n),t},o.prototype.handleEvent=r.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,n=this.isPrevious?0:e;this[this.parent.selectedIndex==n?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},r.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var s=e.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}(0,t,e,n)}.apply(e,R=[b,m,h]),window,O=function(t,e,n){return function(t,e,n,r){function i(t){this.parent=t,this._create()}i.prototype=Object.create(n.prototype),i.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},i.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},i.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},i.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},i.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),n=[],r=this.dots.length,i=r+t,o=r;o<i;o++){var s=document.createElement("li");s.className="dot",s.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(s),n.push(s)}this.holder.appendChild(e),this.dots=this.dots.concat(n)},i.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach((function(t){this.holder.removeChild(t)}),this)},i.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},i.prototype.onTap=i.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var n=this.dots.indexOf(e);this.parent.select(n)}},i.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=i,r.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new i(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=i,e}(0,t,e,n)}.apply(e,R=[b,m,h]),window,P=function(t,e,n){return function(t,e,n){function r(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}r.prototype=Object.create(t.prototype),r.prototype.play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},r.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},r.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},r.prototype.clear=function(){clearTimeout(this.timeout)},r.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},r.prototype.unpause=function(){"paused"==this.state&&this.play()},r.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},r.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");var i=n.prototype;return i._createPlayer=function(){this.player=new r(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},i.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},i.playPlayer=function(){this.player.play()},i.stopPlayer=function(){this.player.stop()},i.pausePlayer=function(){this.player.pause()},i.unpausePlayer=function(){this.player.unpause()},i.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},i.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},i.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=r,n}(t,e,n)}.apply(e,R=[r,h,b]),window,j=function(t,e){return function(t,e,n){var r=e.prototype;return r.insert=function(t,e){var n=this._makeCells(t);if(n&&n.length){var r=this.cells.length;e=void 0===e?r:e;var i=function(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}(n),o=e==r;if(o)this.slider.appendChild(i);else{var s=this.cells[e].element;this.slider.insertBefore(i,s)}if(0===e)this.cells=n.concat(this.cells);else if(o)this.cells=this.cells.concat(n);else{var c=this.cells.splice(e,r-e);this.cells=this.cells.concat(n).concat(c)}this._sizeCells(n),this.cellChange(e,!0)}},r.append=function(t){this.insert(t,this.cells.length)},r.prepend=function(t){this.insert(t,0)},r.remove=function(t){var e=this.getCells(t);if(e&&e.length){var r=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);r=Math.min(e,r),n.removeFrom(this.cells,t)}),this),this.cellChange(r,!0)}},r.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var n=this.cells.indexOf(e);this.cellChange(n)}},r.cellChange=function(t,e){var n=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var r=this.getCell(n);r&&(this.selectedIndex=this.getCellSlideIndex(r)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}(0,t,e)}.apply(e,R=[b,h]),window,E=function(t,e){return function(t,e,n){"use strict";e.createMethods.push("_createLazyload");var r=e.prototype;function i(t,e){this.img=t,this.flickity=e,this.load()}return r._createLazyload=function(){this.on("select",this.lazyLoad)},r.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,r=this.getAdjacentCellElements(e),o=[];r.forEach((function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),r=t.getAttribute("data-flickity-lazyload-src"),i=t.getAttribute("data-flickity-lazyload-srcset");if(e||r||i)return[t]}var o=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return n.makeArray(o)}(t);o=o.concat(e)})),o.forEach((function(t){new i(t,this)}),this)}},i.prototype.handleEvent=n.handleEvent,i.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},i.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},i.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},i.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var n=this.flickity.getParentCell(this.img),r=n&&n.element;this.flickity.cellSizeChange(r),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,r)},e.LazyLoader=i,e}(0,t,e)}.apply(e,R=[b,h]),window,R=[b,_,k,O,P,j,E],x="function"===typeof(T=function(t){return t})?T.apply(e,R):T,window,R=[x,h],void 0===(C="function"===typeof(T=function(t,e){t.createMethods.push("_createAsNavFor");var n=t.prototype;return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout((function(){e.setNavCompanion(t)}))}},n.setNavCompanion=function(n){n=e.getQueryElement(n);var r=t.data(n);if(r&&r!=this){this.navCompanion=r;var i=this;this.onNavCompanionSelect=function(){i.navCompanionSelect()},r.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(t){var e=this.navCompanion&&this.navCompanion.selectedCells;if(e){var n,r,i,o=e[0],s=this.navCompanion.cells.indexOf(o),c=s+e.length-1,a=Math.floor((n=s,r=c,i=this.navCompanion.cellAlign,(r-n)*i+n));if(this.selectCell(a,!1,t),this.removeNavSelectedElements(),!(a>=this.cells.length)){var u=this.cells.slice(s,c+1);this.navSelectedElements=u.map((function(t){return t.element})),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(t){this.navSelectedElements.forEach((function(e){e.classList[t]("is-nav-selected")}))},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(t,e,n,r){"number"==typeof r&&this.navCompanion.selectCell(r)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},t})?T.apply(e,R):T)||(t.exports=C),function(t,n){"use strict";S=function(e){return function(t,e){var n=t.jQuery,r=t.console;function i(t,e){for(var n in e)t[n]=e[n];return t}var o=Array.prototype.slice;function s(t,e,c){if(!(this instanceof s))return new s(t,e,c);var a,u=t;("string"==typeof t&&(u=document.querySelectorAll(t)),u)?(this.elements=(a=u,Array.isArray(a)?a:"object"==typeof a&&"number"==typeof a.length?o.call(a):[a]),this.options=i({},this.options),"function"==typeof e?c=e:i(this.options,e),c&&this.on("always",c),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(u||t))}s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),r=0;r<n.length;r++){var i=n[r];this.addImage(i)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(r=0;r<o.length;r++){var s=o[r];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};function a(t){this.img=t}function u(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(e.backgroundImage);null!==r;){var i=r&&r[2];i&&this.addBackground(i,t),r=n.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var n=new u(t,e);this.images.push(n)},s.prototype.check=function(){var t=this;function e(e,n,r){setTimeout((function(){t.progress(e,n,r)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},s.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+n,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=Object.create(e.prototype),a.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},a.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype=Object.create(a.prototype),u.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((n=e).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(t,e)}.apply(e,R=[r])}("undefined"!==typeof window?window:this),window,void 0===(C=function(t,e){return function(t,e,n){"use strict";e.createMethods.push("_createImagesLoaded");var r=e.prototype;return r._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},r.imagesLoaded=function(){if(this.options.imagesLoaded){var t=this;n(this.slider).on("progress",(function(e,n){var r=t.getParentCell(n.img);t.cellSizeChange(r&&r.element),t.options.freeScroll||t.positionSliderAtSelected()}))}},e}(0,t,e)}.apply(e,R=[x,S]))||(t.exports=C)},,,,,,,function(t,e){!function(){if(!window.Headway){var t=document.createElement("script");t.src="https://cdn.headwayapp.co/widget.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}}(),document.addEventListener("turbolinks:load",(function(){document.getElementById("lingomine-updates")&&"undefined"!==typeof window.Headway&&window.Headway.init({selector:"#lingomine-updates",account:"76v2D7"})}))},,,function(t,e){!function(){if(!window.YT){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}}(),window.onYouTubeIframeAPIReady=function(){var t=document.createEvent("Events");t.initEvent("youtube-callback",!0,!0),window.dispatchEvent(t)}},,,,function(t,e){this.Selection=class{constructor(){this.selection=window.getSelection(),this.tokenClasses=".word,.punctuation-token,.whitespace-token"}isPhrase(){return 0!==this.selection.toString().length&&(!!this._isValidSelection()&&!this._isWord())}toPhrase(){var t,e,n,r,i,o,s;for((o=document.createElement("template")).innerHTML=`<span class="phrase expression--new expression__popup" data-controller="phrase" data-action="click->phrase#clicked" data-phrase-string="${this._text()}" aria-hidden="true"/>`,s=o.content.firstChild,this._selectedTokens()[0].parentNode.insertBefore(s,this._selectedTokens()[0]),i=[],e=0,n=(r=this._selectedTokens()).length;e<n;e++)t=r[e],i.push(s.appendChild(t));return i}replaceWith(t){var e,n,r,i;for(r=$(t),this._firstToken().before(r),e=0,n=(i=this._selectedTokens()).length;e<n;e++)i[e].remove();return r[0]}_text(){var t;return null!=this.text?this.text:this.text=function(){var e,n,r,i;for(i=[],e=0,n=(r=this._selectedTokens()).length;e<n;e++)t=r[e],i.push(t.textContent);return i}.call(this).join("")}_selectedTokens(){return null!=this.selectedTokens?this.selectedTokens:this.selectedTokens=Array.prototype.slice.call(this._allTokensInParagraph()).slice(this._tokenIndex(this._firstToken()),this._tokenIndex(this._lastToken())+1)}_isValidSelection(){return!!this._anchorToken()&&(!!this._focusToken()&&(!!this._anchorParagraph().isEqualNode(this._focusParagraph())&&!this._containsOnlyWhitespacesAndPunctuations()))}_allTokensInParagraph(){return null!=this.allTokensInParagraph?this.allTokensInParagraph:this.allTokensInParagraph=this._paragraph().querySelectorAll(this.tokenClasses)}_tokenIndex(t){return[].indexOf.call(this._allTokensInParagraph(),t)}_paragraph(){return null!=this.paragraph?this.paragraph:this.paragraph=this._firstToken().closest(".paragraph")}_isWord(){return this._firstToken().isEqualNode(this._lastToken())&&this._firstToken().classList.contains("word")}_containsOnlyWhitespacesAndPunctuations(){return null==this._firstToken()}_firstToken(){var t;if(null!=this.firstToken)return this.firstToken;for(t=null,this._anchorIndex()<=this._focusIndex()?(this.firstToken=this._anchorToken(),t=this._focusToken()):(this.firstToken=this._focusToken(),t=this._anchorToken());!this.firstToken.classList.contains("word");){if(this.firstToken.isEqualNode(t))return null;this.firstToken=this.firstToken.previousElementSibling}return this.firstToken}_lastToken(){var t;if(null!=this.lastToken)return this.lastToken;for(t=null,this._anchorIndex()<=this._focusIndex()?(t=this._anchorToken(),this.lastToken=this._focusToken()):(t=this._focusToken(),this.lastToken=this._anchorToken());!this.lastToken.classList.contains("word");){if(this.lastToken.isEqualNode(t))return null;this.lastToken=this.lastToken.previousElementSibling}return this.lastToken}_anchorIndex(){return null!=this.anchorIndex?this.anchorIndex:this.anchorIndex=[].indexOf.call(document.querySelectorAll(this.tokenClasses),this._anchorToken())}_focusIndex(){return null!=this.focusIndex?this.focusIndex:this.focusIndex=[].indexOf.call(document.querySelectorAll(this.tokenClasses),this._focusToken())}_anchorToken(){var t;return null!=this.anchorToken?this.anchorToken:(t=this.selection.anchorNode.parentElement,this._isToken(t)?null!=this.anchorToken?this.anchorToken:this.anchorToken=t:null)}_focusToken(){var t;return null!=this.focusToken?this.focusToken:(t=this.selection.focusNode.parentElement,this._isToken(t)?null!=this.focusToken?this.focusToken:this.focusToken=t:null)}_isToken(t){return t.classList.contains("word")||t.classList.contains("punctuation")||t.classList.contains("whitespace")}_anchorParagraph(){return this._anchorToken().closest(".paragraph")}_focusParagraph(){return this._focusToken().closest(".paragraph")}},window.Selection=this.Selection},function(t,e){this.Tts=class{constructor(t,e){this.utter=new SpeechSynthesisUtterance(t),this.utter.lang=e}play(){return window.speechSynthesis.speak(this.utter)}},window.Tts=this.Tts},function(t,e,n){var r={"./audio_uploader_controller.js":41,"./body_controller.js":42,"./burger_controller.js":44,"./carousel_controller.js":45,"./channel_controller.js":46,"./channel_list_controller.js":47,"./chatmessage_controller.js":48,"./chatmessage_controller_attacher_controller.js":49,"./colorcard_controller.js":50,"./comment_controller.js":51,"./comment_form_controller.js":52,"./core_word_controller.js":53,"./core_word_controller_attacher_controller.js":54,"./core_words_search_controller.js":55,"./delete_chatmessage_modal_controller.js":56,"./dictionaries_controller.js":57,"./dropdown_controller.js":58,"./expression_controller.js":14,"./favorite_controller.js":59,"./finish_button_controller.js":60,"./flash_notice_controller.js":61,"./guest_menu_controller.js":62,"./ignore_expression_controller.js":63,"./image_uploader_controller.js":64,"./infinite_loader_controller.js":65,"./library_section_carousel_controller.js":66,"./library_sections_controller.js":67,"./lingomine_controller.js":68,"./memorization_level_controller.js":69,"./mikan_controller.js":70,"./modal_controller.js":71,"./navbar_controller.js":72,"./navbar_search_controller.js":73,"./new_meaning_controller.js":74,"./notifications_controller.js":75,"./paragraph_controller.js":76,"./phrase_controller.js":17,"./player_controller.js":77,"./popup_dictionary_controller.js":78,"./popup_dictionary_meaning_controller.js":79,"./publish_toggle_controller.js":80,"./reading_form_controller.js":81,"./reading_list_controller.js":82,"./review_answer_controller.js":83,"./review_controller.js":84,"./shuffle_controller.js":85,"./signup_modal_controller.js":86,"./smooth_scroll_controller.js":87,"./tag_follow_controller.js":88,"./text_controller.js":89,"./tips_controller.js":90,"./top_tutorial_step_controller.js":91,"./tts_button_controller.js":92,"./tutorial_step_controller.js":93,"./user_menu_notification_controller.js":94,"./video_finished_snackbar_controller.js":95,"./video_interrupted_snackbar_controller.js":96,"./vocabulary_counter_controller.js":97,"./word_controller.js":98,"./youtube_controller.js":99};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=40},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=this,e=this.fileTarget;e.onchange=function(){e.files.length>0&&(t.filenameTarget.innerHTML=e.files[0].name)}}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["file","filename"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(43),f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,r,a=c(u);function u(){return i(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.adjustHeight(),window.addEventListener("resize",this.adjustHeight.bind(this))}},{key:"disconnect",value:function(){window.removeEventListener("resize",this.adjustHeight)}},{key:"adjustHeight",value:function(){this.element.style.height="".concat(l(),"px")}}])&&o(e.prototype,n),r&&o(e,r),u}(r.b)},,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"clicked",value:function(){this.element.classList.toggle("is-active")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p}));var r=n(24),i=n.n(r),o=n(2),s=n.n(o);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,t);var e,n,r,o=l(f);function f(){return c(this,f),o.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){var t=this;this.element.addEventListener("touchstart",(function(e){t.touchStartCoords={x:e.touches[0].pageX,y:e.touches[0].pageY}})),this.element.addEventListener("touchmove",(function(e){if(e.cancelable){var n={x:e.touches[0].pageX-t.touchStartCoords.x,y:e.touches[0].pageY-t.touchStartCoords.y};Math.abs(n.x)>7&&e.preventDefault()}}),{passive:!1}),this.loaded||!this.data.get("url")?this.init():this.preload&&this.load()}},{key:"disconnect",value:function(){this.carousel&&this.carousel.destroy()}},{key:"load",value:function(){var t=this;this.loaded||s.a.ajax({type:"GET",url:this.data.get("url"),dataType:"script",success:function(){t.init(),t.lazyloadImages()}})}},{key:"init",value:function(){if(this.carousel=new i.a(this.element,{autoPlay:this.autoPlay,cellAlign:this.cellAlign,contain:!0,dragThreshold:20,freeScroll:!0,groupCells:this.groupCells,initialIndex:this.initialIndex,pageDots:this.pageDots,prevNextButtons:this.prevNextButtons,wrapAround:this.wrapAround}),this.fixPrevNextButtonsPosition&&this.firstCardImage){var t=this.firstCardImage.clientHeight/2;this.previousButton&&(this.previousButton.style.top="".concat(t,"px")),this.nextButton&&(this.nextButton.style.top="".concat(t,"px"))}this.element.classList.remove("invisible")}},{key:"lazyloadImages",value:function(){var t=this.element.querySelectorAll(".lazyload-image");lazyload(t)}},{key:"url",get:function(){return this.data.get("url")}},{key:"loaded",get:function(){return!this.hasLoadingTarget}},{key:"preload",get:function(){return"true"===this.data.get("preload")}},{key:"autoPlay",get:function(){return"false"!==this.data.get("auto-play")}},{key:"cellAlign",get:function(){return this.data.get("cell-align")}},{key:"groupCells",get:function(){return this.data.get("groupCells")}},{key:"initialIndex",get:function(){return this.data.get("initial-index")}},{key:"pageDots",get:function(){return"true"===this.data.get("page-dots")}},{key:"prevNextButtons",get:function(){return"true"===this.data.get("prev-next-buttons")}},{key:"fixPrevNextButtonsPosition",get:function(){return"true"===this.data.get("fix-prev-next-buttons-position")}},{key:"wrapAround",get:function(){return"true"===this.data.get("wrap-around")}},{key:"firstCardImage",get:function(){return this.element.querySelector(".carousel-cell figure")}},{key:"previousButton",get:function(){return this.element.querySelector(".flickity-prev-next-button.previous")}},{key:"nextButton",get:function(){return this.element.querySelector(".flickity-prev-next-button.next")}}])&&a(e.prototype,n),r&&a(e,r),f}(n(0).b);p.targets=["loading"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,r=[{key:"appendHtml",value:function(t,e){var n=document.createElement("div");for(n.innerHTML=e;n.children.length>0;)t.appendChild(n.children[0])}}],(n=[{key:"connect",value:function(){this.subscribe(),this.hasInputTarget&&this.inputTarget.addEventListener("keydown",this.keydownHandler.bind(this),!1),this.scrollChatmessagesToBottom()}},{key:"disconnect",value:function(){this.channel.unsubscribe()}},{key:"subscribe",value:function(){var t=this;this.channel=window.Cable.subscriptions.create({channel:"ChatmessagesChannel",channel_id:this.id},{received:function(e){t.appendChatmessage(e),t.scrollChatmessagesToBottom(),t.loading=!1}})}},{key:"keydownHandler",value:function(t){if(13===t.keyCode){if(!this.chatmessageContent)return!1;this.sendChatmessage()}return!0}},{key:"sendChatmessage",value:function(){var t=this.chatmessageContent;t&&(this.loading=!0,this.channel.send({content:t,channel_id:this.id}),this.chatmessageContent="")}},{key:"appendChatmessage",value:function(t){this.constructor.appendHtml(this.chatmessagesTarget,t.chatmessage),lazyload(document.querySelectorAll(".lazyload-image:last-child"))}},{key:"scrollChatmessagesToBottom",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"showSignupmodal",value:function(){var t=this;i.a.ajax({type:"GET",url:this.data.get("registration-url"),dataType:"script",success:function(){var e=document.getElementById("signup-modal");t.application.getControllerForElementAndIdentifier(e,"modal").show()}})}},{key:"chatmessageContent",get:function(){var t=this.inputTarget.value;return 0!==t.length&&t.trim()?t:null},set:function(t){this.inputTarget.value=t}},{key:"id",get:function(){return this.data.get("id")}},{key:"loading",set:function(t){t?this.sendbuttonTarget.classList.add("loading"):this.sendbuttonTarget.classList.remove("loading")}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b);f.targets=["chatmessages","input","sendbutton"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,c=[{key:"subscriptionName",value:function(t){return"channelList".concat(t)}}],(n=[{key:"connect",value:function(){var t=this;this.subscription={},this.channels=Array.from(document.getElementsByClassName("channel")),this.channels.forEach((function(e){t.subscribeToChannel(e.dataset.channelId)}))}},{key:"disconnect",value:function(){var t=this;this.channels.forEach((function(e){t.unsubscribeFromChannel(e.dataset.channelId)}))}},{key:"subscribeToChannel",value:function(t){this.subscription[this.constructor.subscriptionName(t)]=window.Cable.subscriptions.create({channel:"ChatmessagesChannel",channel_id:t},{received:function(t){Array.from(document.querySelectorAll("#channel_".concat(t.channel_id," .channel__topic"))).forEach((function(t){t.classList.add("has-unread-messages")})),Array.from(document.querySelectorAll("#channel_".concat(t.channel_id," .channel__timestamp"))).forEach((function(e){e.textContent=t.timestamp}))}})}},{key:"unsubscribeFromChannel",value:function(t){this.subscription[this.constructor.subscriptionName(t)].unsubscribe()}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.markAsRead(),this.updateTimestamp(),this.startRefreshing()}},{key:"disconnect",value:function(){this.stopRefreshing()}},{key:"startRefreshing",value:function(){var t=this;this.refreshTimer=setInterval((function(){t.updateTimestamp()}),6e4)}},{key:"stopRefreshing",value:function(){this.refreshTimer&&clearInterval(this.refreshTimer)}},{key:"updateTimestamp",value:function(){var t=this;i.a.ajax({url:this.url,type:"GET",dataType:"json",success:function(e){t.timestamp=e.timestamp}})}},{key:"markAsRead",value:function(){var t=this;this.read||i.a.ajax({url:this.url,type:"PATCH",success:function(){t.read=!0}})}},{key:"showUserProfile",value:function(){this["user-profileTarget"].classList.remove("hidden")}},{key:"closeUserProfile",value:function(){this["user-profileTarget"].classList.add("hidden")}},{key:"confirmDelete",value:function(){var t=this.application.getControllerForElementAndIdentifier(document.getElementById("delete-chatmessage-modal"),"delete-chatmessage-modal");t.chatmessage=this.element,t.open()}},{key:"delete",value:function(){var t=this;i.a.ajax({url:this.url,type:"DELETE",success:function(){t.element.parentNode.removeChild(t.element),t.application.getControllerForElementAndIdentifier(document.getElementById("delete-chatmessage-modal"),"delete-chatmessage-modal").close()}})}},{key:"id",get:function(){return this.data.get("id")}},{key:"url",get:function(){return this.data.get("url")}},{key:"read",get:function(){return"true"===this.data.get("read")},set:function(t){this.data.set("read",t)}},{key:"timestamp",set:function(t){this.hasTimestampTarget&&(this.timestampTarget.innerText=t)}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b);f.targets=["timestamp","user-profile","delete-button"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(8),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){i.a.init({callback:this.attachOrRemoveController}),i.a.engage()}},{key:"disconnect",value:function(){i.a.disengage()}},{key:"attachOrRemoveController",value:function(t,e){"visible"===e?t.setAttribute("data-controller","chatmessage"):"reset"===e&&t.setAttribute("data-controller","")}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,c=[{key:"rgbToHex",value:function(t){var e=/rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),?\s*([.\d]+)?\)/.exec(t),n="";return[1,2,3].forEach((function(t){var r=Number(e[t]).toString(16);n+=1===r.length?"0".concat(r):r})),n}}],(n=[{key:"connect",value:function(){var t=window.getComputedStyle(this.colorTarget,"").backgroundColor;this.rgbTarget.innerHTML="#"+this.constructor.rgbToHex(t)}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["color","rgb"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"delete",value:function(){i.a.ajax({url:this.url,type:"DELETE",success:function(){lazyload(document.querySelectorAll(".lazyload-image"))}})}},{key:"replyClicked",value:function(){this.replyTarget.classList.add("invisible"),this.commentForm.show(),this.commentForm.focus()}},{key:"url",get:function(){return this.data.get("url")}},{key:"commentForm",get:function(){return this.application.getControllerForElementAndIdentifier(this.formTarget,"comment-form")}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b);f.targets=["reply","form"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p}));var r=n(2),i=n.n(r),o=n(0),s=n(5);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,t);var e,n,r,o=l(f);function f(){return c(this,f),o.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){this.textareaTarget.addEventListener("focus",this.textareaFocused.bind(this),!1),this.textareaTarget.addEventListener("keyup",this.keydownHandler.bind(this),!1)}},{key:"show",value:function(){this.element.classList.remove("hidden")}},{key:"focus",value:function(){this.textareaTarget.focus()}},{key:"cancel",value:function(){this.textareaTarget.value="",this.submitTarget.disabled="disabled"}},{key:"submit",value:function(){var t=this,e=this.textareaContent;e&&i.a.ajax({type:"POST",url:this.data.get("url"),dataType:"script",data:s.a.param({comment:{body:e,parent_comment_id:this.data.get("parent-comment-id")}}),success:function(){t.data.get("parent-comment-id")&&t.element.classList.add("hidden"),t.submitTarget.disabled="disabled",t.textareaTarget.value="",lazyload(document.querySelectorAll(".lazyload-image"))}})}},{key:"textareaFocused",value:function(t){this.buttonsTarget.classList.remove("hidden"),t.stopPropagation()}},{key:"keydownHandler",value:function(t){this.textareaContent?this.submitTarget.disabled="":this.submitTarget.disabled="disabled",t.stopPropagation()}},{key:"showSignupmodal",value:function(){var t=this;i.a.ajax({type:"GET",url:this.data.get("registration-url"),dataType:"script",success:function(){var e=document.getElementById("signup-modal");t.application.getControllerForElementAndIdentifier(e,"modal").show()}})}},{key:"textareaContent",get:function(){var t=this.textareaTarget.value;return 0!==t.length&&t.trim()?t:null}}])&&a(e.prototype,n),r&&a(e,r),f}(o.b);p.targets=["textarea","buttons","submit"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){var t=this;"true"!==this.data.get("loaded")&&(this.showLoading(),i.a.ajax({url:this.data.get("url"),type:"GET",dataType:"script",success:function(){t.markLoaded(),t.startRefreshing()}}))}},{key:"disconnect",value:function(){this.stopRefreshing()}},{key:"showLoading",value:function(){this["string-and-inflected-formsTarget"].classList.add("is-loading"),this.meaningsTarget.classList.add("is-loading")}},{key:"markLoaded",value:function(){this.data.set("loaded","true")}},{key:"startRefreshing",value:function(){var t=this;this.refreshTimer=setInterval((function(){t.maybeHighlight()}),1e3)}},{key:"stopRefreshing",value:function(){this.refreshTimer&&clearInterval(this.refreshTimer)}},{key:"maybeHighlight",value:function(){window.location.hash==="#".concat(this.data.get("string"))?this.element.classList.add("is-selected"):this.element.classList.remove("is-selected")}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b);f.targets=["string-and-inflected-forms","meanings"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(8),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,r=[{key:"attachOrRemoveController",value:function(t,e){"visible"===e?t.setAttribute("data-controller","core-word"):"reset"===e&&t.setAttribute("data-controller","")}}],(n=[{key:"connect",value:function(){i.a.init({throttle:100,elemCushion:.01,callback:this.constructor.attachOrRemoveController}),i.a.engage()}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(2),i=n.n(r),o=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t);var e,n,r,l=u(f);function f(){return s(this,f),l.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){var t=this;this.inputTarget.addEventListener("keyup",(function(){t.loading=!0,i.a.ajax({type:"GET",url:t.path,dataType:"script",data:o.a.param({search:t.searchQuery}),success:function(){t.loading=!1}})}))}},{key:"loading",set:function(t){t?this["input-controlTarget"].classList.add("is-loading"):this["input-controlTarget"].classList.remove("is-loading")}},{key:"path",get:function(){return this.formTarget.getAttribute("action")}},{key:"searchQuery",get:function(){return this.inputTarget.value}}])&&c(e.prototype,n),r&&c(e,r),f}(n(0).b);h.targets=["form","input-control","input"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connnect",value:function(){this.cancelTarget.focus()}},{key:"open",value:function(){this.element.classList.remove("hidden")}},{key:"close",value:function(){this.element.classList.add("hidden")}},{key:"delete",value:function(){this.application.getControllerForElementAndIdentifier(this.originalChatmessage,"chatmessage").delete()}},{key:"chatmessage",set:function(t){this.originalChatmessage=t,this.chatmessageTarget.innerHTML=this.originalChatmessage.outerHTML}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["cancel","chatmessage"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"close",value:function(){this.element.classList.remove("is-active")}},{key:"clicked",value:function(t){t.stopPropagation()}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"close",value:function(){this.contentTarget.classList.add("invisible")}},{key:"toggle",value:function(){this.contentTarget.classList.toggle("invisible")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["content"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"create",value:function(){i.a.ajax({type:"POST",url:this.url})}},{key:"destroy",value:function(){i.a.ajax({type:"DELETE",url:this.url})}},{key:"url",get:function(){return this.data.get("url")}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(2),i=n.n(r),o=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t);var e,n,r,l=u(f);function f(){return s(this,f),l.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){this.coinSound=new Howl({src:["/sounds/coin.mp3"]})}},{key:"clicked",value:function(){var t=this;!this.disabled&&this.historyUrl&&this.libraryItemId&&(this.disabled=!0,i.a.ajax({url:this.historyUrl,type:"PATCH",data:o.a.param({history:{library_item_id:this.libraryItemId,finished:!0}}),success:function(){t.coinSound.play()}}))}},{key:"historyUrl",get:function(){return this.data.get("historyUrl")}},{key:"libraryItemId",get:function(){return this.data.get("libraryItemId")}},{key:"disabled",get:function(){return this.element.classList.contains("library-item-finish-button--disabled")},set:function(t){t&&this.element.classList.add("library-item-finish-button--disabled")}}])&&c(e.prototype,n),r&&c(e,r),f}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"close",value:function(){this.element.parentNode.removeChild(this.element)}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"toggle",value:function(){this.element.classList.toggle("hidden")}},{key:"hide",value:function(){this.element.classList.add("hidden")}},{key:"active",get:function(){return!this.element.classList.contains("hidden")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(0),i=n(2),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.kickAudio=new Audio,this.kickAudio.src="/sounds/kick.mp3"}},{key:"create",value:function(){var t=this;this.loading=!0,o.a.ajax({url:this.url,type:"POST",dataType:"script",success:function(){t.kickAudio.play()}})}},{key:"destroy",value:function(){o.a.ajax({url:this.url,type:"DELETE",dataType:"script"})}},{key:"url",get:function(){return this.data.get("url")}},{key:"loading",set:function(t){t&&this.element.classList.add("ignore-expression-button--loading")}}])&&c(e.prototype,n),r&&c(e,r),l}(r.b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=this;this["file-fieldTarget"].addEventListener("change",(function(e){var n=e.target.files[0],r=new FileReader;r.onload=function(e){var n=new Image;n.src=e.target.result,n.className="cover__image",n.dataset.target="image-uploader.image",t.imageTarget.outerHTML=n},r.readAsDataURL(n)}))}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["image","file-field"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){var t=this;this.loading=!1;var e=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&t.whenPaginationEnters()}))}));this.hasSpinnerTarget&&e.observe(document.getElementById("infinite-loader-spinner"))}},{key:"whenPaginationEnters",value:function(){!this.loading&&this.nextLibraryItemsUrl&&this.load()}},{key:"load",value:function(){var t=this;this.loading=!0,i.a.ajax({type:"GET",url:this.nextLibraryItemsUrl,dataType:"script",success:function(){t.lazyloadImages(),t.loading=!1}})}},{key:"lazyloadImages",value:function(){var t=this.element.querySelectorAll(".lazyload-image");lazyload(t)}},{key:"nextLibraryItemsUrl",get:function(){var t=this.element.querySelector('.pagination a[rel="next"]');return t?t.getAttribute("href"):null}},{key:"loading",set:function(t){this.hasSpinnerTarget&&(t?this.spinnerTarget.classList.remove("invisible"):this.spinnerTarget.classList.add("invisible"))},get:function(){return!this.spinnerTarget.classList.contains("invisible")}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b);f.targets=["spinner","elements","next-elements"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.carouselController&&!this.carouselController.preload&&this.carouselController.load()}},{key:"carouselController",get:function(){var t=this.element.getElementsByClassName("carousel")[0];return this.application.getControllerForElementAndIdentifier(t,"carousel")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(8),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){i.a.init({callback:function(t,e){"visible"===e&&t.setAttribute("data-controller","library-section-carousel")}}),i.a.engage()}},{key:"disconnect",value:function(){i.a.disengage()}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"clicked",value:function(t){var e=null!==t.target.closest(".popup-dictionary"),n=null===t.target.closest(".reading");!e&&n&&this.text&&this.text.clicked(t),this.hideNavbarActiveDropdowns(t)}},{key:"hideNavbarActiveDropdowns",value:function(t){var e=document.getElementById("navbar");null!==e&&this.application.getControllerForElementAndIdentifier(e,"navbar").hideActiveDropdowns(t)}},{key:"text",get:function(){return this.hasTextTarget?this.application.getControllerForElementAndIdentifier(this.textTarget,"text"):null}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["text"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(25),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.drawChart()}},{key:"disconnect",value:function(){this.chart&&this.chart.detach()}},{key:"drawChart",value:function(){var t=this;this.chart=new i.a.Pie(this.element,this.chartData,this.chartOptions),this.chart.on("draw",(function(e){"label"===e.type&&(0===e.index&&t.label?e.element.attr({dx:e.element.root().width()/2,dy:e.element.root().height()/2}):e.element.remove())}))}},{key:"chartData",get:function(){return{series:[{value:this.level,className:"memorization-level__level"},{value:100-this.level,className:"memorization-level__trail"}]}}},{key:"level",get:function(){return 10*this.data.get("value")}},{key:"chartOptions",get:function(){return{donut:!0,donutWidth:this.width,chartPadding:0,labelInterpolationFnc:function(t){return"".concat(t,"%")}}}},{key:"label",get:function(){return"true"===this.data.get("label")}},{key:"width",get:function(){return this.data.get("width")}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(26),i=n.n(r);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.element.innerHTML=i()(this.element.textContent.trim())}}])&&s(e.prototype,n),r&&s(e,r),l}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(0),i=n(18);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"show",value:function(){Object(i.disableBodyScroll)(this.element),this.element.classList.remove("hidden")}},{key:"handleCloseEvent",value:function(t){null!==t.target.closest("#modal-content")?t.stopPropagation():this.close()}},{key:"close",value:function(){Object(i.enableBodyScroll)(this.element),this.element.classList.add("hidden")}}])&&s(e.prototype,n),r&&s(e,r),l}(r.b);f.targets=["content"]},function(t,e,n){"use strict";function r(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,s=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw s}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return f}));var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,i,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,i=[{key:"isClicked",value:function(t,e){return null!==e.target.closest("#".concat(t))}}],(n=[{key:"connect",value:function(){this.dropdowns=["guest-menu"]}},{key:"clicked",value:function(t){if(this.constructor.isClicked("burger",t))return this.toggle("guest-menu"),void t.stopPropagation();var e,n=r(this.dropdowns);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(this.constructor.isClicked(i,t))return void this.hideAllDropdownsExcept(i)}}catch(o){n.e(o)}finally{n.f()}this.hideAllDropdowns()}},{key:"toggle",value:function(t){var e=this.controller(t);e&&e.toggle()}},{key:"hideAllDropdowns",value:function(){var t=this;this.dropdowns.forEach((function(e){t.hideDropdown(e)}))}},{key:"hideAllDropdownsExcept",value:function(t){var e=this;this.dropdowns.filter((function(e){return e!==t})).forEach((function(t){e.hideDropdown(t)}))}},{key:"hideDropdown",value:function(t){var e=this.controller(t);e&&e.hide()}},{key:"hideActiveDropdowns",value:function(t){var e=this;this.dropdowns.forEach((function(n){if(!e.constructor.isClicked(n,t)){var r=e.controller(n);r&&r.active&&e.hideDropdown(n)}}))}},{key:"controller",value:function(t){var e=document.getElementById(t);return null===e?null:this.application.getControllerForElementAndIdentifier(e,t)}}])&&s(e.prototype,n),i&&s(e,i),l}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"toggle",value:function(){this.formTarget.classList.contains("navbar-search__form--active")?(this.overlay=!1,this.active=!1):(this.overlay=!0,this.active=!0,this.inputTarget.focus())}},{key:"active",set:function(t){t?this.formTarget.classList.add("navbar-search__form--active"):this.formTarget.classList.remove("navbar-search__form--active")}},{key:"overlay",set:function(t){t?this.overlayTarget.classList.add("navbar-search__overlay"):this.overlayTarget.classList.remove("navbar-search__overlay")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["form","input","overlay"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"cancel",value:function(){this.hideForm(),this.showButton()}},{key:"showButton",value:function(){this.buttonTarget.classList.remove("is-nodisplay")}},{key:"hideForm",value:function(){this["form-containerTarget"].classList.add("is-nodisplay"),this.formTarget.innerHTML=""}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["button","form-container","form"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(0),i=n(2),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.checkNewNotifications()}},{key:"checkNewNotifications",value:function(){var t=this;this.url&&o.a.ajax({type:"GET",dataType:"json",url:this.url,success:function(e){e.length>0?t.newNotifications=!0:t.newNotifications=!1}})}},{key:"url",get:function(){return this.data.get("url")}},{key:"newNotifications",set:function(t){this.active=t,this.dotActive=t}},{key:"active",set:function(t){t?this.element.classList.add("navbar-notifications--active"):this.element.classList.remove("navbar-notifications--active")}},{key:"dotActive",set:function(t){this.hasDotTarget&&(t?this.dotTarget.classList.add("new-notification-dot--active"):this.dotTarget.classList.remove("new-notification-dot--active"))}}])&&c(e.prototype,n),r&&c(e,r),l}(r.b);h.targets=["dot"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.load()}},{key:"disconnect",value:function(){this.element.classList.remove(this.constructor.loadedClass)}},{key:"load",value:function(){var t=this;this.loading=!0,fetch(this.data.get("url"),{credentials:"include"}).then((function(t){return t.text()})).then((function(e){t.element.innerHTML=e,t.loaded=!0}))}},{key:"loading",set:function(t){t?this.element.classList.add(this.constructor.loadingClass):this.element.classList.remove(this.constructor.loadingClass)}},{key:"loaded",set:function(t){t&&(this.loading=!1,this.element.classList.add(this.constructor.loadedClass))}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.loadingClass="paragraph--loading",u.loadedClass="paragraph--loaded"},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(0),i=n(27),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,r=[{key:"hourInInt",value:function(t){var e=t/3600;return e>=1?Math.round(e):0}},{key:"minuteInInt",value:function(t){var e=t%3600/60;return e>=1?Math.round(e):0}},{key:"secondInInt",value:function(t){return Math.round(t)%60}},{key:"fillZero",value:function(t){return t<10?"0".concat(t):t}}],(n=[{key:"connect",value:function(){var t=this;this["pause-iconTarget"].classList.add("hidden"),this["play-iconTarget"].classList.remove("hidden"),this.sound=new Howl({src:[this.src],html5:!0,onload:function(){t.onLoad()},onplay:function(){t.onPlay()},onpause:function(){t.onPause()},onend:function(){t.onEnd()}})}},{key:"disconnect",value:function(){this.sound&&this.sound.stop(),this.stopSeekTracking(),this.sliderTarget.rangeSlider&&this.sliderTarget.rangeSlider.destroy()}},{key:"clicked",value:function(){this.sound.playing()?this.pause():this.play()}},{key:"play",value:function(){this.sound.play()}},{key:"onPlay",value:function(){this.startSeekTracking(),this.sliderTarget.classList.add("is-success"),this["play-iconTarget"].classList.add("hidden"),this["pause-iconTarget"].classList.remove("hidden")}},{key:"startSeekTracking",value:function(){var t=this;this.refreshTimer=setInterval((function(){t.sound.duration()-t.sound.seek()<.3&&t.onEnd(),t.sliderTarget.classList.contains("range-slider--disabled")||(t.slideValue=t.sound.seek(),t.updateTime(t.sound.seek()))}),1e3)}},{key:"stopSeekTracking",value:function(){this.refreshTimer&&clearInterval(this.refreshTimer)}},{key:"pause",value:function(){this.sound.pause()}},{key:"onPause",value:function(){this.stopSeekTracking(),this["play-iconTarget"].classList.toggle("hidden"),this["pause-iconTarget"].classList.toggle("hidden")}},{key:"onLoad",value:function(){var t=this;this.timeTarget.innerHTML="00:00",this.duration=this.sound.duration(),o.a.create(this.sliderTarget,{polyfill:!0,rangeClass:"range-slider",disabledClass:"range-slider--disabled",fillClass:"range-slider__fill",bufferClass:"range-slider__buffer",handleClass:"range-slider__handle",onInit:this.onInit,onSlide:function(e,n){t.onSlide(e,n)},onSlideEnd:function(e,n){t.onSlideEnd(e,n)}})}},{key:"onInit",value:function(){this.update({value:0})}},{key:"onSlide",value:function(t,e){this.updateTime(this.sound.duration()*e)}},{key:"onSlideEnd",value:function(t,e){this.sound.seek(this.sound.duration()*e)}},{key:"onEnd",value:function(){this["pause-iconTarget"].classList.add("hidden"),this["play-iconTarget"].classList.remove("hidden"),this.stopSeekTracking(),this.sound.stop(),this.sound.seek(0),this.slideValue=0,this.updateTime(0)}},{key:"updateTime",value:function(t){this.timeTarget.innerHTML=this.seekInHms(t)}},{key:"seekInHms",value:function(t){var e=this.constructor.hourInInt(t),n=this.constructor.fillZero(this.constructor.minuteInInt(t)),r=this.constructor.fillZero(this.constructor.secondInInt(t));return this.duration>=3600?"".concat(e,":").concat(n,":").concat(r):"".concat(n,":").concat(r)}},{key:"hms",value:function(t){var e=this.constructor.hourInInt(t),n=this.constructor.fillZero(this.constructor.minuteInInt(t)),r=this.constructor.fillZero(this.constructor.secondInInt(t));return t>=3600?"".concat(e,":").concat(n,":").concat(r):"".concat(n,":").concat(r)}},{key:"slideValue",set:function(t){this.sliderTarget.rangeSlider.update({value:t})}},{key:"src",get:function(){return this.data.get("src")}},{key:"duration",set:function(t){this.data.set("duration",Math.round(t)),this.sliderTarget.setAttribute("max",this.duration),this.durationTarget.innerHTML=this.hms(this.duration)},get:function(){return this.data.get("duration")}}])&&c(e.prototype,n),r&&c(e,r),l}(r.b);h.targets=["play-icon","pause-icon","slider","time","duration"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(28),i=n(2),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t);var e,n,i,l=u(f);function f(){return s(this,f),l.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){this.coinSound=new Audio,this.coinSound.src="/sounds/coin.mp3",this.kickSound=new Audio,this.kickSound.src="/sounds/kick.mp3"}},{key:"show",value:function(t){var e=this;this.expression=t,this.expressionString=t.string,this.loading=!0,this.display=!0,this.popper&&this.popper.destroy(),this.popper=new r.a(t.element,this.element,{placement:"top"}),this.updateContent({callback:function(){new window.Tts(e.expressionString,"en-US").play()}})}},{key:"updateContent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.a.ajax({type:"GET",url:this.expressionUrl,dataType:"script",success:function(){t.updatePosition(),t.loading=!1,e.callback&&e.callback()}})}},{key:"close",value:function(t){this.textController.clicked(t)}},{key:"hide",value:function(){this.display=!1,this.clear()}},{key:"clear",value:function(){this.contentTarget.innerHTML=""}},{key:"newMeaning",value:function(){var t=this;o.a.ajax({type:"GET",url:this.newMeaningUrl,dataType:"script",success:function(){t["example-stringTarget"].value=t.exampleString,t["example-source-idTarget"].value=t.textController.id,t.updatePosition()}})}},{key:"newMeaningAdded",value:function(){var t=this;this.updateContent({callback:function(){t.textController.updateSameExpressions(t.expression.element),t.coinSound.play(),"function"===typeof window.gtag&&window.gtag("event","add_meaning",{event_category:"engagement"})}})}},{key:"meaningRemoved",value:function(){var t=this;this.updateContent({callback:function(){t.textController.updateSameExpressions(t.expression.element),t.kickSound.play()}})}},{key:"updatePosition",value:function(){this.popper.update()}},{key:"showSignupmodal",value:function(){var t=this;o.a.ajax({type:"GET",url:this.data.get("registration-url"),dataType:"script",success:function(){var e=document.getElementById("signup-modal");t.application.getControllerForElementAndIdentifier(e,"modal").show()}})}},{key:"display",set:function(t){t?this.element.classList.remove("hidden"):this.element.classList.add("hidden")}},{key:"expressionUrl",get:function(){return"/expressions/".concat(this.expressionString,"?type=popup-dictionary")}},{key:"newMeaningUrl",get:function(){return"/expressions/".concat(this.expression.id,"/meanings/new")}},{key:"loading",set:function(t){t?this.spinnerTarget.classList.remove("hidden"):this.spinnerTarget.classList.add("hidden")}},{key:"exampleString",get:function(){return this.expression.element.closest(".sentence").dataset.sentenceString}},{key:"isHidden",get:function(){return!this.element.classList.contains("hidden")}},{key:"meanings",get:function(){return this.meaningTargets}},{key:"expressionString",set:function(t){this.data.set("expression-string",t)},get:function(){return this.data.get("expression-string")}},{key:"userId",get:function(){return this.data.get("user-id")||null}},{key:"textController",get:function(){var t=document.getElementById("text");return this.application.getControllerForElementAndIdentifier(t,"text")}}])&&c(e.prototype,n),i&&c(e,i),f}(n(0).b);h.targets=["content","meaning","spinner","example-string","example-source-id"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(2),i=n.n(r),o=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t);var e,n,r,l=u(f);function f(){return s(this,f),l.apply(this,arguments)}return e=f,(n=[{key:"add",value:function(){var t=this;this.loading=!0,i.a.ajax({url:this.url,type:"POST",data:this.meaningData,dataType:"script",success:function(){t.popupDictionary.newMeaningAdded()}})}},{key:"remove",value:function(){var t=this;this.loading=!0,i.a.ajax({url:this.url,type:"DELETE",dataType:"script",success:function(){t.popupDictionary.meaningRemoved()}})}},{key:"loading",set:function(t){t&&(this.buttonTarget.classList.add("hidden"),this.spinnerTarget.classList.remove("hidden"))}},{key:"url",get:function(){return this.data.get("url")}},{key:"meaningData",get:function(){return o.a.param({meaning:{string:this.data.get("string")},example:{string:this.popupDictionary.exampleString,source_id:this.exampleSourceId}})}},{key:"popupDictionary",get:function(){return this.textController.popupDictionary}},{key:"exampleSourceId",get:function(){return this.textController.id}},{key:"textController",get:function(){var t=document.getElementById("text");return this.application.getControllerForElementAndIdentifier(t,"text")}}])&&c(e.prototype,n),r&&c(e,r),f}(n(0).b);h.targets=["button","spinner"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(2),i=n.n(r),o=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t);var e,n,r,l=u(f);function f(){return s(this,f),l.apply(this,arguments)}return e=f,(n=[{key:"publish",value:function(){i.a.ajax({url:this.url,type:"PATCH",data:o.a.param({library_item:{public:!0}})})}},{key:"unpublish",value:function(){i.a.ajax({url:this.url,type:"PATCH",data:o.a.param({library_item:{public:!1}})})}},{key:"url",get:function(){return this.data.get("url")}}])&&c(e.prototype,n),r&&c(e,r),f}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,c=[{key:"preview",value:function(t){var e=t.target.files.files[0],n=new FileReader;n.onload=function(t){var e=new Image;e.src=t.target.result,document.getElementById("reading__cover-image").innerHTML=e},n.readAsDataURL(e)}}],(n=[{key:"connect",value:function(){document.getElementById("reading__cover").addEventListener("change",this.constructor.preview)}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,c=[{key:"preview",value:function(t){var e=t.target.files.files[0],n=new FileReader;n.onload=function(t){var e=new Image;e.src=t.target.result,document.getElementById("reading-list__cover-image").innerHTML=e},n.readAsDataURL(e)}}],(n=[{key:"connect",value:function(){document.getElementById("reading-list__cover").addEventListener("change",this.constructor.preview)}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.tts()}},{key:"tts",value:function(){new window.Tts(this.data.get("expression"),"en-US").play()}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(2),i=n.n(r),o=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t);var e,n,r,l=u(f);function f(){return s(this,f),l.apply(this,arguments)}return e=f,(n=[{key:"answer",value:function(t){var e=t.target.closest(".review__choice");if(this.showAnswer(),e.classList.contains("is-correct")){var n=new Audio;n.src="/sounds/coin.mp3",n.play(),this.showCorrectChoices(),this.updateMemorizationLevel(this.memorizationLevel+1)}else{var r=new Audio;r.src="/sounds/bump.mp3",r.play(),this.showChoices(),this.updateMemorizationLevel(0)}}},{key:"showAnswer",value:function(){var t=this;"ReviewCloze"!==this.type&&"ReviewTranslation"!==this.type||this.blankTargets.forEach((function(e){e.innerHTML=t.expression}))}},{key:"showChoices",value:function(){this.choiceTargets.forEach((function(t){t.classList.remove("is-answer-hidden")}))}},{key:"showCorrectChoices",value:function(){this.correctChoices.forEach((function(t){t.classList.remove("is-answer-hidden")}))}},{key:"updateMemorizationLevel",value:function(t){var e=this;setTimeout((function(){i.a.ajax({url:e.updateUrl,type:"PATCH",data:o.a.param({memorization_level:t})})}),1e3)}},{key:"type",get:function(){return this.data.get("type")}},{key:"expression",get:function(){return this.data.get("expression")}},{key:"correctChoices",get:function(){return this.choiceTargets.filter((function(t){return t.classList.contains("is-correct")}))}},{key:"memorizationLevel",get:function(){return parseInt(this.data.get("memorization-level"),10)}},{key:"updateUrl",get:function(){var t=new URLSearchParams(window.location.search);return"".concat(this.data.get("update-url"),"?extra=").concat(t.get("extra"))}}])&&c(e.prototype,n),r&&c(e,r),f}(n(0).b);h.targets=["blank","choice"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(0),i=n(15);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,r,u=a(l);function l(){return o(this,l),u.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.shuffle=new i.a(this.element,{itemSelector:".shuffle-item"})}},{key:"add",value:function(t){this.shuffle.add(t)}}])&&s(e.prototype,n),r&&s(e,r),l}(r.b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"close",value:function(){var t=document.getElementById("signup-modal");this.application.getControllerForElementAndIdentifier(t,"modal").close()}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"scroll",value:function(){document.getElementById(this.data.get("anchor")).scrollIntoView({behavior:"smooth",block:"start"})}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(0),i=n(2),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"create",value:function(){o.a.ajax({type:"POST",url:this.url})}},{key:"destroy",value:function(){o.a.ajax({type:"DELETE",url:this.url})}},{key:"showSignupmodal",value:function(){var t=this;o.a.ajax({type:"GET",url:this.url,dataType:"script",success:function(){t.modalController.show()}})}},{key:"url",get:function(){return this.data.get("url")}},{key:"modalController",get:function(){return this.application.getControllerForElementAndIdentifier(document.getElementById("signup-modal"),"modal")}}])&&c(e.prototype,n),r&&c(e,r),l}(r.b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p}));var r=n(0),i=n(17);function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,t);var e,n,r,s=l(f);function f(){return c(this,f),s.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){var t=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&t.target.setAttribute("data-controller","paragraph"),0==t.intersectionRatio&&t.target.setAttribute("data-controller","")}))}),{threshold:[0,1]}),o(document.querySelectorAll(".paragraph")).forEach((function(e){return t.observer.observe(e)})),this.element.onmouseup=function(){var t=new window.Selection;t.isPhrase()&&t.toPhrase()}}},{key:"disconnect",value:function(){this.observer.disconnect()}},{key:"clicked",value:function(t){if(null===t.target.closest(".word")&&null===t.target.closest(".phrase")&&this.popupDictionary.isHidden){this.hidePopup(),this.unhighlightExpressions();var e=this.newPhrases();e[0]&&this.phrasesByString(e[0].string).forEach((function(t){return t.unwrap()}))}}},{key:"showPopupDictionary",value:function(t){this.popupDictionary.show(t)}},{key:"hidePopup",value:function(){this.popupDictionary.hide(),this.expressionsWithPopup.forEach((function(t){t.popup=!1}))}},{key:"highlightSameExpressions",value:function(t){this.expressionsByString(t).forEach((function(t){return t.highlight()}))}},{key:"unhighlightExpressions",value:function(){this.highlightedExpressions.forEach((function(t){return t.unhighlight()}))}},{key:"wordsByString",value:function(t){return this.allWords.filter((function(e){return e.string.toLowerCase()===t.toLowerCase()}))}},{key:"phrasesByString",value:function(t){return this.allPhrases.filter((function(e){return e.string===t}))}},{key:"expressionsByString",value:function(t){return this.wordsByString(t).concat(this.phrasesByString(t))}},{key:"updateSameExpressions",value:function(t){this.popupDictionary.meanings.length>0?this.sameExpressions(t).forEach((function(t){t.vocabulary=!0})):this.sameExpressions(t).forEach((function(t){t.vocabulary=!1}))}},{key:"sameExpressions",value:function(t){return t.classList.contains("word")?this.wordsByString(t.innerText):this.phrasesByString(t.dataset.phraseString)}},{key:"newPhrases",value:function(){var t=this;return i.default.newPhrases().map((function(e){return t.expression(e)}))}},{key:"expression",value:function(t){return t.classList.contains("word")?this.application.getControllerForElementAndIdentifier(t,"word"):t.classList.contains("phrase")?this.application.getControllerForElementAndIdentifier(t,"phrase"):null}},{key:"popupDictionary",get:function(){var t=document.getElementsByClassName("popup-dictionary")[0];return this.application.getControllerForElementAndIdentifier(t,"popup-dictionary")}},{key:"wordsWithPopup",get:function(){return this.allWords.filter((function(t){return t.hasPopup}))}},{key:"phrasesWithPopup",get:function(){return this.allPhrases.filter((function(t){return t.hasPopup}))}},{key:"expressionsWithPopup",get:function(){return this.wordsWithPopup.concat(this.phrasesWithPopup)}},{key:"highlightedWords",get:function(){return this.allWords.filter((function(t){return t.isHighlighted}))}},{key:"highlightedPhrases",get:function(){return this.allPhrases.filter((function(t){return t.isHighlighted}))}},{key:"highlightedExpressions",get:function(){return this.highlightedWords.concat(this.highlightedPhrases)}},{key:"allWords",get:function(){var t=this;return Array.from(document.getElementsByClassName("word")).map((function(e){return t.expression(e)}))}},{key:"allPhrases",get:function(){var t=this;return Array.from(document.getElementsByClassName("phrase")).map((function(e){return t.expression(e)}))}},{key:"id",get:function(){return this.data.get("id")}},{key:"userId",get:function(){return this.data.get("user-id")}},{key:"phraseCreateUrl",get:function(){return this.data.get("phrase-create-url")}}])&&a(e.prototype,n),r&&a(e,r),f}(r.b);p.targets=["meaning"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"close",value:function(){this.element.parentNode.removeChild(this.element)}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"close",value:function(){this.element.parentNode.removeChild(this.element)}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"play",value:function(){new window.Tts(this.expression,this.lang).play()}},{key:"lang",get:function(){return this.data.get("lang")}},{key:"expression",get:function(){return this.data.get("expression")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"close",value:function(){this.element.parentNode.removeChild(this.element)}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(0),i=n(2),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.refreshInterval&&this.startRefreshing()}},{key:"disconnect",value:function(){this.stopRefreshing()}},{key:"load",value:function(){var t=this;o.a.ajax({type:"GET",dataType:"json",url:this.url,success:function(e){e.length>0?t.turnNotificationOn():t.turnNotificationOff()}})}},{key:"turnNotificationOn",value:function(){this.element.classList.add("new-notifications")}},{key:"turnNotificationOff",value:function(){this.element.classList.remove("new-notifications")}},{key:"startRefreshing",value:function(){var t=this;this.refreshTimer=setInterval((function(){t.load()}),this.refreshInterval)}},{key:"stopRefreshing",value:function(){this.refreshTimer&&clearInterval(this.refreshTimer)}},{key:"refreshInterval",get:function(){return this.data.get("refreshInterval")}},{key:"url",get:function(){return this.data.get("url")}}])&&c(e.prototype,n),r&&c(e,r),l}(r.b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){window.videoFinishedSnackbar=this}},{key:"disconnect",value:function(){this.element.classList.remove("snackbar--active")}},{key:"show",value:function(t){this.duration=t;var e=new Audio;e.src="/sounds/coin.mp3",e.play(),this.element.classList.add("snackbar--active")}},{key:"duration",set:function(t){this.durationTarget.innerHTML=t}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["duration"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u}));var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.turbolinksPreview?window.videoInterruptedSnackbar=this:(window.videoInterruptedSnackbar&&null!==window.videoInterruptedSnackbar.durationString&&(this.duration=window.videoInterruptedSnackbar.durationString),window.videoInterruptedSnackbar=this,null===this.durationString&&this.durationString||this.show(this.durationString))}},{key:"disconnect",value:function(){this.element.classList.remove("snackbar--active")}},{key:"show",value:function(t){if(this.duration=t,null!==t&&"undefined"!==typeof t&&!this.turbolinksPreview){var e=new Audio;e.src="/sounds/coin.mp3",e.play(),this.element.classList.add("snackbar--active"),this.durationString=null}}},{key:"duration",set:function(t){this.durationString=t,this.data.set("duration",t),this.durationTarget.innerHTML=t},get:function(){return this.data.get("duration")}},{key:"turbolinksPreview",get:function(){return document.documentElement.hasAttribute("data-turbolinks-preview")}}])&&i(e.prototype,n),c&&i(e,c),u}(n(0).b);u.targets=["duration"]},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var r=n(0),i=n(2),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,i=u(l);function l(){return s(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"connect",value:function(){this.load(),this.data.has("refreshInterval")&&this.startRefreshing()}},{key:"disconnect",value:function(){this.stopRefreshing()}},{key:"load",value:function(){o.a.ajax({type:"GET",dataType:"script",url:this.url})}},{key:"startRefreshing",value:function(){var t=this;this.refreshTimer=setInterval((function(){t.load()}),this.data.get("refreshInterval"))}},{key:"stopRefreshing",value:function(){this.refreshTimer&&clearInterval(this.refreshTimer)}},{key:"url",get:function(){return this.data.get("url")}},{key:"value",set:function(t){this.element.innerText=t}}])&&c(e.prototype,n),r&&c(e,r),l}(r.b)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return(o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return l}));var l=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,t);var e,n,a,l=c(f);function f(){return r(this,f),l.apply(this,arguments)}return e=f,(n=[{key:"initialize",value:function(){this.type="word"}},{key:"clicked",value:function(){this.isPartOfPhrase||o(u(f.prototype),"clicked",this).call(this)}},{key:"id",get:function(){return this.data.get("id")}},{key:"string",get:function(){return this.element.innerHTML}},{key:"isPartOfPhrase",get:function(){return!!this.element.closest(".phrase")}}])&&i(e.prototype,n),a&&i(e,a),f}(n(14).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p}));var r=n(0),i=n(2),o=n.n(i),s=n(5);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,t);var e,n,r,i=l(f);function f(){return c(this,f),i.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){this.onYouTubeIframeAPIReady()}},{key:"disconnect",value:function(){this.player&&this.historyUrl&&this.libraryItemId&&!this.finished&&o.a.ajax({url:this.historyUrl,type:"PATCH",dataType:"script",data:s.a.param({history:{library_item_id:this.libraryItemId,duration:this.duration}})})}},{key:"onYouTubeIframeAPIReady",value:function(){window.YT&&(this.player=new window.YT.Player("video",{height:this.height,width:this.width,videoId:this.videoId,events:{onReady:this.onReady.bind(this),onStateChange:this.onStateChange.bind(this)}}))}},{key:"onReady",value:function(){this.player.seekTo(0)}},{key:"onStateChange",value:function(t){0===t.data&&this.player&&this.historyUrl&&this.libraryItemId&&(this.finished=!0,o.a.ajax({url:this.historyUrl,type:"PATCH",dataType:"script",data:s.a.param({history:{library_item_id:this.libraryItemId,duration:this.duration,finished:!0}})}))}},{key:"videoId",get:function(){return this.data.get("videoId")}},{key:"libraryItemId",get:function(){return this.data.get("libraryItemId")}},{key:"width",get:function(){return this.data.get("width")}},{key:"height",get:function(){return this.data.get("height")}},{key:"historyUrl",get:function(){return this.data.get("historyUrl")}},{key:"duration",get:function(){return Math.round(this.player.getCurrentTime())}}])&&a(e.prototype,n),r&&a(e,r),f}(r.b)},function(t,e,n){},function(t,e,n){var r={"./index.js":20,"./notifications_channel.js":102,"./total_video_time.js":103,"./vocabulary_count.js":104};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=101},function(t,e){window.Cable.notifications=window.Cable.subscriptions.create("NotificationsChannel",{connected:function(){},disconnected:function(){},received:function(t){document.getElementById("notifications").outerHTML=t.notifications_html,document.querySelector("#notifications-button .new-notification-dot").outerHTML=t.new_notification_dot_html}})},function(t,e){window.Cable.total_video_time=window.Cable.subscriptions.create("TotalVideoTimeChannel",{connected:function(){},disconnected:function(){},received:function(t){document.getElementById("navbar-total-video-time").outerHTML=t.total_video_time_html}})},function(t,e){window.Cable.vocabulary_count=window.Cable.subscriptions.create("VocabularyCountChannel",{connected:function(){},disconnected:function(){},received:function(t){document.getElementById("navbar-vocabulary-count").outerHTML=t.vocabulary_count_html}})},function(t,e,n){"use strict";n.r(e);var r=n(21),i=n.n(r);window.Cable=i.a.createConsumer();n(31),n(19);document.addEventListener("turbolinks:load",(function(){var t=document.querySelectorAll(".lazyload-image");lazyload(t)}));var o=n(12),s=n.n(o),c={},a=document.implementation.createHTMLDocument("prefetch");function u(t){!function(t,e){var n=new XMLHttpRequest;n.open("GET",t),n.setRequestHeader("VND.PREFETCH","true"),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&e(n.responseText)},n.send()}(t,(function(e){a.open(),a.write(e),a.close();var n=s.a.Snapshot.fromHTMLElement(a.documentElement);s.a.controller.cache.put(t,n)}))}function l(t){return location.href===t||s.a.controller.cache.has(t)}function f(t){var e=t.target;clearTimeout(c[e.href]),e.removeEventListener("mouseleave",f)}document.addEventListener("mouseover",(function(t){if(t.target.dataset.prefetch){var e=t.target.href;l(e)||function(t){return!!c[t]}(e)||(f(t),t.target.addEventListener("mouseleave",f),c[e]=setTimeout((function(){return function(t){l(t)||u(t)}(e)}),400))}}));var h=n(2),p=n.n(h);window.Rails=p.a,p.a.start(),n(108).a({dsn:"https://d0863d7683cd4852a2d07afa93caa0d1@sentry.io/1213561"}),s.a.start();n(34),n(35),n(36),n(37);var d=n(15),y=n(23),v=n.n(y);window.Shuffle=d.a,d.a.ShuffleItem.Scale.HIDDEN=1,v.a.polyfill();n(38),n(39);var g=n(0),b=n(29),m=g.a.start(),w=n(40);m.load(Object(b.a)(w));n(100),n(20)}],[[105,22,15,18,21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,16,17,19,20]]]);
//# sourceMappingURL=application-14cdddca6f893d306b55.chunk.js.map